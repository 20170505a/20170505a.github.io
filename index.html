<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta property="og:type" content="website">
<meta property="og:title" content="RVDSD的个人笔记本">
<meta property="og:url" content="http://rvdsd.top/index.html">
<meta property="og:site_name" content="RVDSD的个人笔记本">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="RVDSD的个人笔记本">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://rvdsd.top/"/>





  <title>RVDSD的个人笔记本</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">RVDSD的个人笔记本</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">学习过程中的输出</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/06/02/医学统计学-StatQuest学习笔记（一）-基础知识/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/02/医学统计学-StatQuest学习笔记（一）-基础知识/" itemprop="url">StatQuest学习笔记（一）——基础知识</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-06-02T12:10:54+08:00">
                2018-06-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/生物统计学/" itemprop="url" rel="index">
                    <span itemprop="name">生物统计学</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,777
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  6
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言">前言</h2>
<p>这个系列的笔记是StatQuest视频的学习笔记，我的这些笔记有时候会使用一些自己以前收录的数据，外加自己补充的一些笔记。此篇笔记是基础知识，视频教程的1-5。</p>
<h2 id="什么是直方图">什么是直方图</h2>
<p>如果我们测量一批人的身高，他们的身高并不固定，因此我们先做一个x轴，从左到右身高依次增高，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/70DL93Hd72.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时，我们开始测量这批人的身高，一个点代表一个人，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/23dFF1d16h.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>这种图有个缺陷，就是一些相同身高的人的点会重合，并不直观，因此我们可以转换一下图形，把相同身高的人的点叠加起来，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/6G4Agk0haI.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>这样的话， 我们就能很清楚地看到这批人身高的统计情况，这种图形可以叫直方图（histogram），直方图的下端（也就是x轴）的数据是连续的，可以自己设定，从图中可以明显看到，中间的人的点数多，两边的人点数少。再进一步，我们可以使用“分布（distribution）”这个术语来表示我们这次测量的为数据，将这些数据点的顶端用一个近似曲线连接起来，就成了下面的这个样子：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/HJl26FJlgm.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>这种图形类似于一个钟型（bell）我们可以称它为正态分布（normal distribution），如果我们测量出来的数据是下面的这个样子，它就呈现一种指数分布（exponential distribution）：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/d8IJBHmmfa.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="直方图的特点">直方图的特点</h2>
<p>如果我们在测量这批人的数据时，以0.5英尺（约合30cm）为单位，也就是说，在绘制直方图时，x轴的坐标上的宽度分布是这个样子的：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/98FBa3heAl.png?imageslim" alt="mark"></p>
<p>可以看到，这次测量把这批人的身高数据划分了4份，分别为小于5，5到5.5，5.5到6，大于6。如果改变一下，把数据划分为8份，也就是说最小的单位值是0.25，就是下面的这个样子：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/6c2A7mi4kH.png?imageslim" alt="mark"></p>
<p>如果测量更多的人，使用更加小的划分单位，我们就会得到一个对人体身高更加精确的估计值，下图是划分了18份，如下所示：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/flIcGdeFdb.png?imageslim" alt="mark"></p>
<p>并且还可以画出一条曲线（curve），对这批数据进行估计，如下所示：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/k2kg7ab0iG.png?imageslim" alt="mark"></p>
<p>从这张图上我们可以得到以下信息：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/BHbkI8IG71.png?imageslim" alt="mark"></p>
<p>测量一个人，得到这个低于4.5或高于6.5的概率比较低，而很大的概率会得到曲线中间凸出来的部分。使用曲线来估计一批人数据比直方图更有优势。第一，直方图有时候并不准，例如上图右侧蓝箭头这部分数据并没有测到，如果换一批人，就有可能测到；第二，使用曲线时，并不用考虑最小数据的分隔单位，就能估计一个数值的概率，例如我们要计算得到5.021和5.317这个数据的概率有多大，就直接利用曲线就能得到。第三，人的精力与资源有限，直接去测量大批数据并不现实，而估计一条曲线只需要我们手中少量数据的标准差与均值即可。<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/a8ecG659K4.png?imageslim" alt="mark"></p>
<p>在这张图里，直方图与曲线都表示这批数据的分布，其中曲线的最高处以及直方图的中间地带，都是最有可能测量到的部分。除了这种正态分布的图形外，还有其他的分布（下图左上是正态分布，右上是指数分页，左下是均匀分页），如下所示：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/0fHibjmk1K.png?imageslim" alt="mark"></p>
<h2 id="直方图与柱状图的区别">直方图与柱状图的区别</h2>
<p>直方图x轴上的组距是连续的，从上面的图形可以得知，测量的身高的不同划分是小于5，5到5.5，5.5到6，6以上。而柱状图的x轴上通常是一些分类的数据类型，看下图：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/EgD46kd4gG.png?imageslim" alt="mark"></p>
<p>这张图就是一个柱状图（有人也称条形图），它的x轴是不连续的，只是一些分类变量。</p>
<h2 id="正态分布">正态分布</h2>
<p>先看一下正态分布图形，就是上一部分中的身高分布数据，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/5alkghAAl8.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>从图形上可以看到正态分布的特点：</p>
<ol style="list-style-type: decimal">
<li>左右对称，因此也叫钟型曲线（bell shaped curve）；</li>
<li>中间凸起，两侧平缓。</li>
</ol>
<p>再看另外的两个正态分布图形：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/gDaJ9H1B7L.png?imageslim" alt="mark"></p>
<p>其中，左侧绿线表示的是出生的婴儿的身高分布（英寸），右侧的划线表示的是成人身高的分布，从这两个曲线上我们可以得到这些信息：</p>
<ol style="list-style-type: decimal">
<li>婴儿的正态分布曲线比较尖锐，这表示婴儿身高比较集中，成人身高的正态分布曲线比较平缓，这表示成人身高比较分散；</li>
<li>成人身高的平均值要高于婴儿身高的平均值。</li>
</ol>
<p>再看一下婴儿和成人身高的95%的集中程度：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/afg2l14Jgd.png?imageslim" alt="mark"></p>
<p>自然界的很多事物都符合正态分布，其背后的一个原理就是中心极限定理（the central limit theorem），以后的笔记会提到。</p>
<h2 id="模型">模型</h2>
<p>模型，英文是指“model”。在统计学中，模型是指对现实世界中的一些事情的抽象处理，数据模型使用一些表格，图表，公式来研究现实世界中的一些规律，例如下图就是使用一个图表和公式来表示小鼠的体重与大小的关系：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/KC54a6FL81.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>有时候，图形不一定是直线，也有可能是曲线，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/g72KFhjJcD.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="抽样分布">抽样分布</h2>
<p>下图是一个直方图，一个点表示一个人的身高：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/5a7H4b2Bim.png?imageslim" alt="mark"></p>
<p>然后用一条曲线来表示数据的分布：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/g4Ce3kEI04.png?imageslim" alt="mark"></p>
<p>如果我们从这个分布里面随机抽出一个样本的话，有很大的概率会抽到中间的这一部分，就是下图中黑色圆角矩形表示的区域：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/ja213fBCEF.png?imageslim" alt="mark"></p>
<p>如果我们使用某个程序（例如R语言）随机地从服从正态分布的数据中挑出许多样本，然后对它们进行统计的话，看一下会发生哪些事情，例如从下面的这个正态分布中随机地挑出两个样本，一个样本的数量是3（一个样本不一定只是一个数据点），如下所示：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/E3D4lLLK6k.png?imageslim" alt="mark"></p>
<p>然后对这两个样本进行t检验，由于它们都是来源于同不一个分布，因此t检验结果的p值会很大（也就是说p很有可能大于0.05）。如果这两个样本是来源两个不同的分布，如下所示：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180602/8F7mCeJJll.png?imageslim" alt="mark"></p>
<p>那么经过t检验，得到的p值就会很小。如果想到得到较小的p值，这就可能要增加样本，或者是就此为止（增加样本涉及到一类错误与二类错误，这里不表）。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/28/实验笔记-miRNA的qPCR方法笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/28/实验笔记-miRNA的qPCR方法笔记/" itemprop="url">miRNA的qPCR方法笔记</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-28T12:00:00+08:00">
                2018-05-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/生物实验笔记/" itemprop="url" rel="index">
                    <span itemprop="name">生物实验笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,704
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  6
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言">前言</h2>
<p>microRNA（后方简称miRNA）的长度比较短，通常是20nt到24nt长度，因此用常规的qPCR法很难对其直接定量。现在常用的对miRNA的定量方法主要有三种，分别为加尾法，茎环引物法，探针法。这篇笔记主要以mmu-miR-30d-50为例总结一下这前两种方法，因为探针法的原理与实验步骤我以前总结过。就我自己的看法，这三种方法最根本的原理就是延长miRNA。</p>
<h2 id="茎环引物法">茎环引物法</h2>
<h3 id="原理">原理</h3>
<p>茎环引物是一种能够自身环化的长引物，它的长度约为45bp。下面是茎环引物的示意图：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180524/Dh99I4kDc3.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>茎环引物的使用流程：</p>
<p>第一步：在反转录过程中，茎环逆转录引物（需要自己设计）与miRNA结合，反转录为cDNA；</p>
<p>第二步：在qPCR过程中，茎环结构打开，两条引物与打开茎环结构结合，其中一条引物与茎环引物上的公共序列结合，另外一条与相应的miRNA序列结合（需要自己设计），其他的miRNA也可以使用公共引物。</p>
<h3 id="mmu-mir-30d-5p的茎环引物设计">mmu-miR-30d-5p的茎环引物设计</h3>
<p>第一步，查询<a href="http://www.mirbase.org/cgi-bin/mirna_entry.pl?acc=MI0000549" target="_blank" rel="external">mmu-miR-30d-5p的成熟体序列</a>（5’-&gt;3’）如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">UGUAAACAUCCCCGACUGGAAG</div></pre></td></tr></table></figure>
<p>将U转换为T，就如下所示： <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">TGTAAACATCCCCGACTGGAAG</div></pre></td></tr></table></figure></p>
<p>第二步，设计茎环引物，茎环引物由两部分构成，一部分是通用的序列（通用序列有很多种，这里只列举一种），如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CTCAACTGGTGTCGTGGAGTCGGCAATTCAGTTGAGC</div></pre></td></tr></table></figure>
<p>另外一部分是针对某个miRNA特定序列，这一部分的序列是6个碱基，我们设计的是miR-30d-5p，从它的3‘端，开始数取6-8个序列，即<code>GAAGGTCA</code>，取它的互补序列，即为<code>CTTCCAGT</code>，将这段序列与茎环引物的通用序列，结合，就成了miR-30d-5p的反转录引物，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">CTCAACTGGTGTCGTGGAGTCGGCAATTCAGTTGAGCCTTCCAGT</div></pre></td></tr></table></figure>
<p>这个引物是在反转录的时候使用，它在反转录过程中的示意图如下所示：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180528/e54eA3ACjl.jpg?imageslim" alt="mark"></p>
<p>第三步，设计qPCR引物，正向引物，每个正向引物包括5’端通用序列和3‘端miRNA特异序列，5’端通用序列为：<code>5’-GCCGAG-3’</code>或<code>5’-TCGGCAGG-3’</code>，用于延伸实时定量PCR产物的长度；3’端为跟据成熟miRNA自身碱基组成及GC含量适当删减几个碱基所得的寡核苷酸或完整的成熟miRNA。即：上游引物为5‘- 通用引物+NNNNNNNNNNNNNNNNN-3’ ，自miRNA5’端抄起，14-16个或13-14个，这里就抄14个碱基。 通俗的说就是：保护性碱基（用来调GC含量的）+miRNA 5 端的13-16个碱基（不要抄到最后那6-8个上去了，意思就是不要与RT那段重叠了），因此miR-30d-5p的qPCR正向引物序列就是： <figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">TCGGCAGGTGTAAACATCCCCG</div></pre></td></tr></table></figure></p>
<p>反向引物，就是茎环引物上的一段序列，这里直接写为<code>5'-CTCAACTGGTGTCGTGGA-3'</code>（就是茎环引物上的一段序列）。这两条引物在qPCR中的反应过程如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180528/ad22mEl3fa.jpg?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h3 id="rna提取的实验材料">RNA提取的实验材料</h3>
<p>Trizol（Thermo Fisher Scientific）</p>
<p>RNAase-Free水</p>
<p>无水乙醇（重庆川东化工有限公司）</p>
<p>氯仿（成都市科龙化工试剂厂）</p>
<p>异丙醇（成都市科龙化工试剂厂）</p>
<p>qPCR试剂盒（Takara，货号：RR820A）</p>
<p>反转录试剂盒（Takara，货号：RR037A）</p>
<h3 id="qpcr实验过程">qPCR实验过程</h3>
<h3 id="提取rna">1.提取RNA</h3>
<p>提取RNA，按照常规的Trizol法提取即可，最终提取并测完浓度后，将RNA样本稀释到300ng/uL的浓度，并分装到3个EP管中，并取一部分出来，进行质控。质控的内容包括：1.2%的琼脂糖电泳，电压120V，40分钟，上样量200ng。</p>
<h3 id="反转录">2. 反转录</h3>
<ol style="list-style-type: decimal">
<li>反转录采用Takara的反转录试剂盒，这个试剂盒是常规的反转录试剂盒，在反转录miRNA的时候，不需要试剂盒里面的2个引物，即成分3（Oligo dT primer）和成分4（Random 6 mers），使用自己设计的茎环引物进行反转，反转体系如下所示（20μL体系）：</li>
</ol>
<table>
<thead>
<tr class="header">
<th>成分</th>
<th>体积</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>5XPrimeScript Buffer</td>
<td>4</td>
</tr>
<tr class="even">
<td>PrimeScript RT Enzyme Mix I</td>
<td>1</td>
</tr>
<tr class="odd">
<td>茎环引物</td>
<td>1</td>
</tr>
<tr class="even">
<td>总RNA</td>
<td>1</td>
</tr>
<tr class="odd">
<td>无RNAase水</td>
<td>20μL</td>
</tr>
</tbody>
</table>
<p>PCR程序为：</p>
<ol style="list-style-type: decimal">
<li>Step 1：37℃, 15min</li>
<li>Step 2：85 ℃, 5 sec</li>
<li>Step 3：4 ℃, 5min</li>
</ol>
<h3 id="qpcr反应">3. qPCR反应</h3>
<p>反应体系如下所示：</p>
<table>
<thead>
<tr class="header">
<th>组分</th>
<th>体积(μL)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>2×SsoAdvanced SYBR Green Supermix</td>
<td>10</td>
</tr>
<tr class="even">
<td>Forward Primer(10μM)</td>
<td>1</td>
</tr>
<tr class="odd">
<td>Reverse Primer(10μM)</td>
<td>1</td>
</tr>
<tr class="even">
<td>cDNA Template</td>
<td>1</td>
</tr>
<tr class="odd">
<td>ddH2O</td>
<td>To 20μL</td>
</tr>
</tbody>
</table>
<p>(2)PCR反应条件：</p>
<p>第一步：预变性条件95℃/10s；1 cycle；</p>
<p>第二步：PCR反应条件95℃/5s，60℃/30s，70℃/20s；40 cycles；</p>
<p>第三步：融解曲线分析95℃ 0s，20℃/s，65℃ 15s，20℃/s ，95℃ 0s ，0.1℃/s。</p>
<p>分析数据即可。</p>
<h3 id="茎环引物法的优缺点">茎环引物法的优缺点</h3>
<p>茎环引物法的优点就在于特异性强，成本低。缺点就是一次只能针对一种特定的miRNA进行检测，而加尾法则能够对miRNA进行批量筛选。</p>
<h2 id="加尾法">加尾法</h2>
<h3 id="原理-1">原理</h3>
<p>加尾法的根本原理也是延长miRNA，然后再用上下游引物来进行qPCR。</p>
<p>在这里，还以miR-30d-5p为例，以及Takara的一个miRNA试剂盒为例说明一下加尾法的原理，参考资料主要是该试剂盒的说明书，即Mir-X™ miRNA First-Strand Synthesis and SYBR® qRT-PCR User Manual。这个试剂盒里面有这些成分：①mRQ Enzyme Mix；②mRQ Buffer (2X)；③mRQ 3’ Primer (10 μM) ；④U6 Forward Primer (10 μM)；⑤U6 Reverse Primer (10 μM)。</p>
<p>其中，①mRQ Enzyme Mix中含有poly(A)聚合酶，该酶向miRNA的3’末端添加poly(A)尾，此外还含有SMART MMLV逆转录酶，这个酶主要用于将加了poly(A)的RNA反转录为cDNA。②mRQ buffer是缓冲液，很好理解；③mRA 3‘ Primer这个我猜测可能是进行qPCR反应时的公共引物；④与⑤是U6的内参，这个也好理解。</p>
<p>整个反转录过程如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180528/BBk2j7KAjd.jpg?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>以上就是加尾法对miRNA进行检测的原理。这里只是以mmu-miR-30d-5p为例说明了一下，其实它也可以是miR-770-5p，也可以是miR-21-3p等，一次反转录几乎能够把细胞内的所有miRNA都给反转录成cDNA。因此，如果批量对miRNA进行qPCR筛选的话，加尾法是一种比较合适的方法，它只需要设计针对某个miRNA的特异引物即可，这样一次反转录生成的cDNA就可以重复做多个miRNA的检测。</p>
<h3 id="加尾法的上游引物设计">加尾法的上游引物设计</h3>
<p>从原理图上可以知，例如针对miR-30d-5p的引物其实就是miR-30d-5p序列本身，只是把U变成了T。例如miR-30d-5p的成熟体序列为<code>UGUAAACAUCCCCGACUGGAAG</code>，那么它的加尾法上游引物就是<code>TGTAAACATCCCCGACTGGAAG</code>。</p>
<h3 id="qpcr反应-1">qPCR反应</h3>
<p>加尾法的qPCR反应体系跟普通的qPCR体系一样，程序也类似（如果一次筛选大量的miRNA，则需要优化一下退火温度）。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/19/Perl学习笔记（8）-文件与目录操作/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/19/Perl学习笔记（8）-文件与目录操作/" itemprop="url">Perl学习笔记（8）-文件与目录操作</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-19T12:00:00+08:00">
                2018-05-19
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Perl/" itemprop="url" rel="index">
                    <span itemprop="name">Perl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  3,582
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  16
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="perl文件操作概述">Perl文件操作概述</h2>
<p>Perl使用一种叫做<code>文件句柄</code>类型的变量来操作文件。从文件读取或者写入数据需要使用文件句柄。文件句柄(file handle)是一个I/O连接的名称，可以简单地地理解为控制文件的某个东西。Perl提供了三种文件句柄:STDIN,STDOUT,STDERR，分别代表标准输入、标准输出和标准出错输出。</p>
<p>Perl 中打开文件可以使用以下方式： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">open</span> FILEHANDLE, EXPR</div><div class="line"><span class="keyword">open</span> FILEHANDLE</div><div class="line"><span class="keyword">sysopen</span> FILEHANDLE, FILENAME, MODE, PERMS</div><div class="line"><span class="keyword">sysopen</span> FILEHANDLE, FILENAME, MODE</div></pre></td></tr></table></figure></p>
<p>参数说明: <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">FILEHANDLE：文件句柄，用于存放一个文件唯一标识符，它就是一串数字，其实可以理解为文件编号。</div><div class="line">EXPR：文件名及文件访问类型组成的表达式。</div><div class="line">MODE：文件访问类型。</div><div class="line">PERMS：访问权限位(permission bits)。</div></pre></td></tr></table></figure></p>
<h2 id="open函数">Open函数</h2>
<h3 id="只读方式打开">只读方式打开</h3>
<p>open是打开某个文件的函数，它的用法为<code>open(filevar,filenmae)</code>，其中，filevar是文件句柄，filename是文件名，路径可以是绝对路径，也可以是相对路径。<code>open(DATA,&quot;&lt;file.txt&quot;);</code>表示以只读的方式（只读的方式是<code>&lt;</code>号）打开文件<code>file.txt</code>。如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat open.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">open</span>(DATA,<span class="string">"&lt;file.txt"</span>) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"file.txt can not be opened,$!"</span>;</div><div class="line"></div><div class="line"><span class="keyword">while</span>(&lt;DATA&gt;)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"$_"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl open.pl </div><div class="line">This is a test file.</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat file.txt </div><div class="line">This is a test file.</div></pre></td></tr></table></figure>
<h3 id="写入方式打开">写入方式打开</h3>
<p>写入方式打开是用<code>&gt;</code>符号，使用格式为：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">open</span>(DATA,<span class="string">"&gt;file.txt"</span>) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"file.txt can not be open, $!"</span>;</div></pre></td></tr></table></figure>
<h3 id="读写方式打开">读写方式打开</h3>
<p>如果要以读写方式打开文件，需要要<code>&gt;</code>或<code>&lt;</code>字符前添加<code>+</code>号，这种方式不会删除文件原来的内容，它的格式如下：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">open</span>(DATA,<span class="string">"+&lt;file.txt"</span>); <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"file.txt can not be opened,$!"</span>;</div></pre></td></tr></table></figure>
<h3 id="删除文件内容">删除文件内容</h3>
<p>删除文件内容，需要在<code>+</code>号后面添加<code>&gt;</code>符号，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">open</span> DATA, <span class="string">"+&gt;file.txt"</span> <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"file can not be opened, $!"</span>;</div></pre></td></tr></table></figure>
<h3 id="追加数据">追加数据</h3>
<p>追加数据使用双大于号（<code>&gt;&gt;</code>），如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">open</span>(DATA,<span class="string">"&gt;&gt;file.txt"</span>)|| <span class="keyword">die</span> <span class="string">"file.txt can not be opened,$!"</span>;</div></pre></td></tr></table></figure>
<h3 id="读取追加文件的内容">读取追加文件的内容</h3>
<p>在追加符号前面加上<code>+</code>号即可，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">open</span>(DATA,<span class="string">"+&gt;&gt;file.txt"</span>) || <span class="keyword">die</span> <span class="string">"file.txt can not be opened,$!"</span>;</div></pre></td></tr></table></figure>
<h3 id="不同的访问模式汇总">不同的访问模式汇总</h3>
<table>
<thead>
<tr class="header">
<th>模式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&lt;</code>或<code>r</code></td>
<td>只读方式打开，将文件指针指向文件头。</td>
</tr>
<tr class="even">
<td><code>&gt;</code>或<code>w</code></td>
<td>写入方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建之。</td>
</tr>
<tr class="odd">
<td><code>&gt;&gt;</code>或<code>a</code></td>
<td>写入方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建之。</td>
</tr>
<tr class="even">
<td><code>+&lt;</code>或<code>r+</code></td>
<td>读写方式打开，将文件指针指向文件头。</td>
</tr>
<tr class="odd">
<td><code>+&gt;</code>或<code>w+</code></td>
<td>读写方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建之。</td>
</tr>
<tr class="even">
<td><code>+&gt;&gt;</code>或<code>a+</code></td>
<td>读写方式打开，将文件指针指向文件末尾。如果文件不存在则尝试创建之。</td>
</tr>
</tbody>
</table>
<h2 id="sysopen函数">Sysopen函数</h2>
<p><code>sysopen</code>函数类似于<code>open</code>函数，它的使用格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">sysopen</span>(FH,$filename,O_RDWR|O_CREAT,<span class="number">0666</span>)（中间有一个竖线，是OR的意思）</div></pre></td></tr></table></figure>
<p>参数解释：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>. FH:文件句柄，与<span class="keyword">open</span>函数的第<span class="number">1</span>个参数一样；</div><div class="line"><span class="number">2</span>. $filename：文件名；</div><div class="line"><span class="number">3</span>. O_RDWRIO_CREAT：模式值，tl模块提供的逻辑OR运算组合起来的常数构成；</div><div class="line"><span class="number">4</span>. 这个参数可先，是八进制值，<span class="number">0666</span>表示数据文件，<span class="number">0777</span>表示程序</div><div class="line">如果文件能够打开，则返回true，如果失败，返回false。</div></pre></td></tr></table></figure>
<p>以读写(<code>+&lt;filename</code>)的方式打开文件的代码是<code>sysopen(DATA,&quot;file.txt&quot;,O_RDWR);</code>如果需要在更新文件前清空文件，代码是`sysopen(DATA,“file.txt”,O_RDWR|O_TRUNC);。所有的模式值如下表所示：</p>
<table>
<thead>
<tr class="header">
<th>模式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>O_RDWR</td>
<td>读写方式打开，将文件指针指向文件头。</td>
</tr>
<tr class="even">
<td>O_RDONLY</td>
<td>只读方式打开，将文件指针指向文件头。</td>
</tr>
<tr class="odd">
<td>O_WRONLY</td>
<td>写入方式打开，将文件指针指向文件头并将文件大小截为零。如果文件不存在则尝试创建之。</td>
</tr>
<tr class="even">
<td>O_CREAT</td>
<td>创建文件</td>
</tr>
<tr class="odd">
<td>O_APPEND</td>
<td>追加文件</td>
</tr>
<tr class="even">
<td>O_TRUNC</td>
<td>将文件大小截为零</td>
</tr>
<tr class="odd">
<td>O_EXCL</td>
<td>如果使用O_CREAT时文件存在,就返回错误信息,它可以测试文件是否存在</td>
</tr>
<tr class="even">
<td>O_NONBLOCK</td>
<td>非阻塞I/O使我们的操作要么成功，要么立即返回错误，不被阻塞。</td>
</tr>
</tbody>
</table>
<h2 id="close函数">Close函数</h2>
<p>在文件使用完后，要关闭文件，以刷新与文件句柄相关联的输入输出缓冲区，关闭文件的语法如下：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">close</span> FILEHANDLE</div><div class="line"><span class="keyword">close</span></div></pre></td></tr></table></figure>
<p>FILEHANDLE 为指定的文件句柄，如果成功关闭则返回 true，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">close</span>(DATA) || <span class="keyword">die</span> <span class="string">"can not close file"</span></div></pre></td></tr></table></figure>
<h2 id="读写文件">读写文件</h2>
<p>向文件读写信息有几种不同的方式。</p>
<h3 id="第一种方式filehandle操作符">第一种方式：<code>&lt;FILEHANDLE&gt;操作符</code></h3>
<p>从打开的文件句柄读取信息的主要方法是<code>&lt;FILEHANDLE&gt;操作符</code>。在标量上下文中，它从文件句柄返回单一行，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">open</span> file<span class="string">";</span></div><div class="line"><span class="string">@lines=&lt;DATA&gt;;</span></div><div class="line"><span class="string">print @lines;</span></div><div class="line"><span class="string">close(DATA);</span></div><div class="line"><span class="string">biotest@ubuntu:~/perl/06file$ perl import.pl</span></div><div class="line"><span class="string">1</span></div><div class="line"><span class="string">2</span></div><div class="line"><span class="string">3</span></div></pre></td></tr></table></figure>
<h3 id="getc-函数">getc 函数</h3>
<p><code>xgetc</code>函数从指定的<code>FILEHANDLE</code>返回单一的字符，如果没指定返回 STDIN：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">getc</span> FILEHANDLE</div><div class="line"><span class="keyword">getc</span></div></pre></td></tr></table></figure>
<p>如果发生错误，或在文件句柄在文件末尾，则返回 undef。</p>
<h3 id="read函数">read函数</h3>
<p>read函数用于从缓冲区的文件句柄读取信息。 这个函数用于从文件读取二进制数据，格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">read</span> FILEHANDLE,SCALAR,LENGTH,OFFSET</div><div class="line"><span class="keyword">read</span> FILEHANDLE,SCALAR,LENGTH</div></pre></td></tr></table></figure>
<p>参数说明: <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>. FILEHANDLE：文件句柄，用于存放一个文件唯一标识符。 </div><div class="line"><span class="number">2</span>. SCALAR：存贮结果，如果没有指定OFFSET，数据将放在SCALAR的开头。否则数据放在SCALAR中的OFFSET字节之后。</div><div class="line"><span class="number">3</span>. LENGTH：读取的内容长度。</div><div class="line"><span class="number">4</span>. OFFSET：偏移量。</div><div class="line">如果读取成功返回读取的字节数，如果在文件结尾返回<span class="number">0</span>，如果发生错误返回<span class="keyword">undef</span>。</div></pre></td></tr></table></figure></p>
<h3 id="print函数">print函数</h3>
<p>对于所有从文件句柄中读取信息的函数，在后端主要的写入函数为 print： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> FILEHANDLE LIST</div><div class="line"><span class="keyword">print</span> LIST</div><div class="line"><span class="keyword">print</span></div></pre></td></tr></table></figure></p>
<p>利用文件句柄和print函数可以把程序运行的结果发给输出设备(STDOUT：标准输出)，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> <span class="string">"Hello World!\n"</span>;</div></pre></td></tr></table></figure>
<h2 id="文件操作实例">文件操作实例</h2>
<h3 id="复制文件数据">复制文件数据</h3>
<p>在下面的案例中，打开一个已经存在的文件<code>file1.txt</code>，并读取它的每一行，写入到文件<code>file2.txt</code>中，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat file1.txt</div><div class="line">This is line1 of file1.txt</div><div class="line">This is line2 of file1.txt</div><div class="line">This is line3 of file1.txt</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat operation.pl </div><div class="line"><span class="comment">#!/usr/bi/perl</span></div><div class="line"></div><div class="line"><span class="comment"># Open file1 with only-read</span></div><div class="line"><span class="keyword">open</span>(DATA1,<span class="string">"&lt;file1.txt"</span>);</div><div class="line"></div><div class="line"><span class="comment"># Open new file2</span></div><div class="line"><span class="keyword">open</span>(DATA2,<span class="string">"&gt;file2.txt"</span>);</div><div class="line"></div><div class="line"><span class="comment"># copy data</span></div><div class="line"><span class="keyword">while</span>(&lt;DATA1&gt;)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">print</span> DATA2 $_;</div><div class="line">&#125;</div><div class="line"><span class="keyword">close</span>(DATA1);</div><div class="line"><span class="keyword">close</span>(DATA2);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl operation.pl </div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat file2.txt </div><div class="line">This is line1 of file1.txt</div><div class="line">This is line2 of file1.txt</div><div class="line">This is line3 of file1.txt</div></pre></td></tr></table></figure>
<h3 id="重命名文件">重命名文件</h3>
<p>在下面的案例中，将<code>file1.txt</code>重命令为<code>new_file1.txt</code>，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ ls -lh *.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">81</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">13</span> file1.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">81</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">17</span> file2.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">21</span> May <span class="number">18</span> <span class="number">19</span>:<span class="number">44</span> file.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest  <span class="number">7</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">04</span> import.txt</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat rename.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">rename</span>(<span class="string">"/home/biotest/perl/06file/file1.txt"</span>,<span class="string">"/home/biotest/perl/06file/new_file1.txt"</span>);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl rename.pl </div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ ls -lh *.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">81</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">17</span> file2.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">21</span> May <span class="number">18</span> <span class="number">19</span>:<span class="number">44</span> file.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest  <span class="number">7</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">04</span> import.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">81</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">13</span> new_file1.txt</div></pre></td></tr></table></figure>
<h3 id="删除文件">删除文件</h3>
<p>现在删除当前目录下的<code>file2.txt</code>文件，使用的是<code>unlink</code>函数，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ ls -lh *.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">81</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">17</span> file2.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">21</span> May <span class="number">18</span> <span class="number">19</span>:<span class="number">44</span> file.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest  <span class="number">7</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">04</span> import.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">81</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">13</span> new_file1.txt</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ vim delete.pl</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat delete.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">unlink</span>(<span class="string">"/home/biotest/perl/06file/file2.txt"</span>);</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl delete.pl </div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ ls -lh *.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">21</span> May <span class="number">18</span> <span class="number">19</span>:<span class="number">44</span> file.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest  <span class="number">7</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">04</span> import.txt</div><div class="line">-rw-rw-r-- <span class="number">1</span> biotest biotest <span class="number">81</span> May <span class="number">18</span> <span class="number">20</span>:<span class="number">13</span> new_file1.txt</div></pre></td></tr></table></figure>
<h2 id="指定文件位置">指定文件位置</h2>
<p><code>tell</code>函数用于获取文件的位置，<code>seek</code>函数指定文件内的位置。</p>
<h3 id="tell函数">tell函数</h3>
<p>tell函数的使用如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">tell</span> FILEHANDLE</div><div class="line"><span class="keyword">tell</span></div></pre></td></tr></table></figure>
<p>如果指定 FILEHANDLE 该函数返回文件指针的位置，以字节计。如果没有指定则返回默认选取的文件句柄。</p>
<h3 id="seek函数">seek函数</h3>
<p>seek()函数是通过文件句柄来移动文件读写指针的方式来读取或写入文件的，以字节为单位进行读取和写入，使用格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">seek</span> FILEHANDLE, POSITION, WHENCE</div></pre></td></tr></table></figure>
<p>参数说明: <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span>. FILEHANDLE：文件句柄，用于存放一个文件唯一标识符。</div><div class="line"><span class="number">2</span>. POSITION：表示文件句柄(读写位置指针)要移动的字节数。</div><div class="line"><span class="number">3</span>. WHENCE：表示文件句柄(读写位置指针)开始移动时的起始位置，可以取的值为<span class="number">0</span>、<span class="number">1</span>、<span class="number">2</span>；分别表示文件开头、当前位置和文件尾。</div></pre></td></tr></table></figure></p>
<p>以下案例就是从文件开头读取256个字节： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">seek</span> DATA, <span class="number">256</span>, <span class="number">0</span>;</div></pre></td></tr></table></figure></p>
<h3 id="使用案例">使用案例</h3>
<p>以下代码用于判断这个文件是否𥇛，是否可读写，代码如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat file_info.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">my</span> $file=<span class="string">"/home/biotest/perl/06file/file.txt"</span>;</div><div class="line"><span class="keyword">my</span> (@description, $size);</div><div class="line"><span class="keyword">if</span> (-e $file)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">push</span> @description, <span class="string">'is a binary file'</span> <span class="keyword">if</span> (-B <span class="number">_</span>);</div><div class="line">    <span class="keyword">push</span> @description, <span class="string">'is a socket'</span> <span class="keyword">if</span> (-S <span class="number">_</span>);</div><div class="line">    <span class="keyword">push</span> @description, <span class="string">'is a text file'</span> <span class="keyword">if</span> (-T <span class="number">_</span>);</div><div class="line">    <span class="keyword">push</span> @description, <span class="string">'is a special file'</span> <span class="keyword">if</span> (-b <span class="number">_</span>);</div><div class="line">    <span class="keyword">push</span> @description, <span class="string">'is a special character file'</span> <span class="keyword">if</span> (-c <span class="number">_</span>);</div><div class="line">    <span class="keyword">push</span> @description, <span class="string">'is a dictionary'</span> <span class="keyword">if</span> (-d <span class="number">_</span>);</div><div class="line">    <span class="keyword">push</span> @description, <span class="string">'file exists'</span> <span class="keyword">if</span> (-<span class="keyword">x</span> <span class="number">_</span>);</div><div class="line">    <span class="keyword">push</span> @description, (($size=-<span class="keyword">s</span> <span class="number">_</span>))? <span class="string">"$size byte"</span>:<span class="string">'null'</span>;</div><div class="line">    <span class="keyword">print</span> <span class="string">"$file information: "</span>,<span class="keyword">join</span>(<span class="string">','</span>,@description),<span class="string">"\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl file_info.pl </div><div class="line">/home/biotest/perl/<span class="number">06</span>file/file.txt information: is a text file,<span class="number">21</span> byte</div></pre></td></tr></table></figure>
<p>文件测试操作符如下表所示：</p>
<table>
<thead>
<tr class="header">
<th>操作符</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>-A</code></td>
<td>文件上一次被访问的时间(单位：天)</td>
</tr>
<tr class="even">
<td><code>-B</code></td>
<td>是否为二进制文件</td>
</tr>
<tr class="odd">
<td><code>-C</code></td>
<td>文件的(inode)索引节点修改时间(单位：天)</td>
</tr>
<tr class="even">
<td><code>-M</code></td>
<td>文件上一次被修改的时间(单位：天)</td>
</tr>
<tr class="odd">
<td><code>-O</code></td>
<td>文件被真实的UID所有</td>
</tr>
<tr class="even">
<td><code>-R</code></td>
<td>文件或目录可以被真实的UID/GID读取</td>
</tr>
<tr class="odd">
<td><code>-S</code></td>
<td>为socket(套接字)</td>
</tr>
<tr class="even">
<td><code>-T</code></td>
<td>是否为文本文件</td>
</tr>
<tr class="odd">
<td><code>-W</code></td>
<td>文件或目录可以被真实的UID/GID写入</td>
</tr>
<tr class="even">
<td><code>-X</code></td>
<td>文件或目录可以被真实的UID/GID执行</td>
</tr>
<tr class="odd">
<td><code>-b</code></td>
<td>为block-special (特殊块)文件(如挂载磁盘)</td>
</tr>
<tr class="even">
<td><code>-c</code></td>
<td>为character-special (特殊字符)文件(如I/O 设备)</td>
</tr>
<tr class="odd">
<td><code>-d</code></td>
<td>为目录</td>
</tr>
<tr class="even">
<td><code>-e</code></td>
<td>文件或目录名存在</td>
</tr>
<tr class="odd">
<td><code>-f</code></td>
<td>为普通文件</td>
</tr>
<tr class="even">
<td><code>-g</code></td>
<td>文件或目录具有setgid属性</td>
</tr>
<tr class="odd">
<td><code>-k</code></td>
<td>文件或目录设置了sticky位</td>
</tr>
<tr class="even">
<td><code>-l</code></td>
<td>为符号链接</td>
</tr>
<tr class="odd">
<td><code>-o</code></td>
<td>文件被有效UID所有</td>
</tr>
<tr class="even">
<td><code>-p</code></td>
<td>文件是命名管道(FIFO)</td>
</tr>
<tr class="odd">
<td><code>-r</code></td>
<td>文件可以被有效的UID/GID读取</td>
</tr>
<tr class="even">
<td><code>-s</code></td>
<td>文件或目录存在且不为0(返回字节数)</td>
</tr>
<tr class="odd">
<td><code>-t</code></td>
<td>文件句柄为TTY(系统函数isatty()的返回结果；不能对文件名使用这个测试)</td>
</tr>
<tr class="even">
<td><code>-u</code></td>
<td>文件或目录具有setuid属性</td>
</tr>
<tr class="odd">
<td><code>-w</code></td>
<td>文件可以被有效的UID/GID写入</td>
</tr>
<tr class="even">
<td><code>-x</code></td>
<td>文件可以被有效的UID/GID执行</td>
</tr>
<tr class="odd">
<td><code>-z</code></td>
<td>文件存在，大小为0(目录恒为false)，即是否为空文件，</td>
</tr>
</tbody>
</table>
<h2 id="perl目录操作">Perl目录操作</h2>
<p>下面是Perl中常用的一些操作目录的函数：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">opendir</span> DIRHANDLE, EXPR  <span class="comment"># 打开目录</span></div><div class="line"><span class="keyword">readdir</span> DIRHANDLE        <span class="comment"># 读取目录</span></div><div class="line"><span class="keyword">rewinddir</span> DIRHANDLE      <span class="comment"># 定位指针到开头</span></div><div class="line"><span class="keyword">telldir</span> DIRHANDLE        <span class="comment"># 返回目录的当前位置</span></div><div class="line"><span class="keyword">seekdir</span> DIRHANDLE, POS   <span class="comment"># 定位指定到目录的 POS 位置</span></div><div class="line">closedir DIRHANDLE       <span class="comment"># 关闭目录</span></div></pre></td></tr></table></figure>
<h3 id="显示所有文件">显示所有文件</h3>
<p>在下面的案例中，可以显示所有的文件，使用了<code>glob</code>函数，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat glob.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="comment"># display /home/biotest/perl/06file/ all files</span></div><div class="line">$dir = <span class="string">"/home/biotest/perl/06file/*"</span>;</div><div class="line"><span class="keyword">my</span> @files=<span class="keyword">glob</span>($dir);</div><div class="line"></div><div class="line"><span class="keyword">foreach</span>(@files)&#123;</div><div class="line">    <span class="keyword">print</span> $_. <span class="string">"\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment"># display all files with .pl in /home/biotest/perl/06file/</span></div><div class="line">$dir=<span class="string">"/home/biotest/perl/06file/*.pl"</span>;</div><div class="line">@files=<span class="keyword">glob</span>($dir);</div><div class="line"></div><div class="line"><span class="keyword">foreach</span>(@files)&#123;</div><div class="line">    <span class="keyword">print</span> $_.<span class="string">"\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl glob.pl </div><div class="line">/home/biotest/perl/<span class="number">06</span>file/delete.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/file.txt</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/file_info.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/glob.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/import.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/import.txt</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/m1.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/new_file1.txt</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/open.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/operation.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/rename.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/delete.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/file_info.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/glob.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/import.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/m1.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/open.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/operation.pl</div><div class="line">/home/biotest/perl/<span class="number">06</span>file/rename.pl</div></pre></td></tr></table></figure>
<p>显示当前目录下所有文件，使用<code>opendir</code>函数，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat opendir.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">opendir</span>(DIR,<span class="string">'.'</span>) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can not open directory,$!"</span>;</div><div class="line"><span class="keyword">while</span>($file=<span class="keyword">readdir</span> DIR)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"$file\n"</span>;</div><div class="line">&#125;</div><div class="line">closedir DIR;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl opendir.pl </div><div class="line">open.pl</div><div class="line">file.txt</div><div class="line">..</div><div class="line">rename.pl</div><div class="line">glob.pl</div><div class="line">import.pl</div><div class="line">opendir.pl</div><div class="line">operation.pl</div><div class="line">new_file1.txt</div><div class="line">file_info.pl</div><div class="line">.</div><div class="line">m1.pl</div><div class="line">delete.pl</div><div class="line">import.txt</div></pre></td></tr></table></figure>
<h3 id="显示当前目录下所有以.pl结尾的文件">显示当前目录下所有以<code>.pl</code>结尾的文件</h3>
<p>如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat display_file_pl.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">opendir</span>(DIR,<span class="string">'.'</span>) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"can not open directionary, $!"</span>;</div><div class="line"><span class="keyword">foreach</span> (<span class="keyword">sort</span> <span class="keyword">grep</span>(<span class="regexp">/^.*\.pl$/</span>,<span class="keyword">readdir</span>(DIR)))&#123;</div><div class="line">     <span class="keyword">print</span> <span class="string">"$_\n"</span>;</div><div class="line">&#125;</div><div class="line">closedir DIR;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl display_file_pl.pl </div><div class="line">delete.pl</div><div class="line">display_file_pl.pl</div><div class="line">file_info.pl</div><div class="line">glob.pl</div><div class="line">import.pl</div><div class="line">m1.pl</div><div class="line">open.pl</div><div class="line">opendir.pl</div><div class="line">operation.pl</div><div class="line">rename.pl</div></pre></td></tr></table></figure>
<h3 id="创建一个新目录">创建一个新目录</h3>
<p>mkdir也是Perl中的一个函数，它用于创建一个新目录，但是使用之前，要有足够的权限，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat mkdir.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$dir=<span class="string">"/home/biotest/perl/06file/new"</span>;</div><div class="line"></div><div class="line"><span class="keyword">mkdir</span>($dir) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can not create $dir directionary, $!"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"Create a directionary!"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl mkdir.pl </div><div class="line">Create a directionary!</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ ls</div><div class="line">delete.pl           glob.pl     mkdir.pl       open.pl</div><div class="line">display_file_pl.pl  import.pl   new            operation.pl</div><div class="line">file_info.pl        import.txt  new_file1.txt  rename.pl</div><div class="line">file.txt            m1.pl       opendir.pl</div></pre></td></tr></table></figure>
<h3 id="删除目录">删除目录</h3>
<p>使用rmdir来删除目录，使用这个函数之前用户需要有足够的权限，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat del_dir.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$dir=<span class="string">"/home/biotest/perl/06file/new"</span>;</div><div class="line"></div><div class="line"><span class="keyword">rmdir</span>($dir) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can not delete $dir directionary, $!"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"Delete directionary successfully!\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl del_dir.pl </div><div class="line">Delete directionary successfully!</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ ls</div><div class="line">del_dir.pl          file.txt    m1.pl          open.pl</div><div class="line">delete.pl           glob.pl     mkdir.pl       operation.pl</div><div class="line">display_file_pl.pl  import.pl   new_file1.txt  rename.pl</div><div class="line">file_info.pl        import.txt  opendir.pl</div></pre></td></tr></table></figure>
<h3 id="切换目录">切换目录</h3>
<p>切换目录使用chdir函数，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ pwd</div><div class="line">/home/biotest/perl/<span class="number">06</span>file</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ cat chdir.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$dir=<span class="string">"/home/biotest"</span>;</div><div class="line"></div><div class="line"><span class="keyword">chdir</span>($dir) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can not change to $dir, $!"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"Your current directionary is $dir\n"</span>;</div><div class="line"></div><div class="line"><span class="keyword">opendir</span>(DIR,<span class="string">'.'</span>) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can not open $dir,$!"</span>;</div><div class="line"><span class="keyword">while</span>($file=<span class="keyword">readdir</span> DIR)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"$file\n"</span>;</div><div class="line">&#125;</div><div class="line">closedir DIR;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">06</span>file$ perl chdir.pl|head</div><div class="line">Your current directionary is /home/biotest</div><div class="line">Desktop</div><div class="line">Miniconda2-latest-Linux-x86_64.sh</div><div class="line">filename</div><div class="line">Pictures</div><div class="line">.dmrc</div><div class="line">Videos</div><div class="line">.xsession-errors.old</div><div class="line">.bash_history</div><div class="line">.cache</div></pre></td></tr></table></figure>
<p>从结果来看，运行代码后，chdir并不会在shell中直接切换到<code>/home/biotest</code>目录，但是，我们后来使用了<code>opendir</code>函数后，显示的文件确实是<code>/home/biotest</code>目录下的文件，这一点需要注意：切换目录改变的只能是Perl程序运行中的目录，而不是Shell实际中的目录。</p>
<h2 id="参考资料">参考资料</h2>
<p><a href="http://www.runoob.com/perl/perl-tutorial.html" target="_blank" rel="external">Perl教程|菜鸟教程</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/18/Perl学习笔记（7）-引用/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/18/Perl学习笔记（7）-引用/" itemprop="url">Perl学习笔记（7）-引用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-18T12:00:00+08:00">
                2018-05-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Perl/" itemprop="url" rel="index">
                    <span itemprop="name">Perl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  724
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="perl-引用">Perl 引用</h2>
<p>引用就是指针，Perl的引用是一个标量类型，它可以指向变量、数组、哈希表（也叫关联数组）和函数，可以应用在程序的任何地方。</p>
<h2 id="创建引用">创建引用</h2>
<p>定义变量的时候，在变量名前面加个，就得到了这个变量的一个引用，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$scalarref = \$foo;     <span class="comment"># 标量变量引用</span></div><div class="line">$arrayref  = \@ARGV;    <span class="comment"># 列表的引用</span></div><div class="line">$hashref   = \%ENV;     <span class="comment"># 哈希的引用</span></div><div class="line">$coderef   = \&amp;handler; <span class="comment"># 函数引用</span></div><div class="line">$globref   = \*foo;     <span class="comment"># GLOB句柄引用</span></div></pre></td></tr></table></figure>
<p>在数组中我们可以用匿名数组引用，使用 [] 定义，在Perl中，匿名数组使用方括号（<code>[]</code>）来表示，而正常的数组，则是使用小括号来表示，例如<code>@ages=(25,30,40)</code>。当使用匿名数组引用时，使用方括号（<code>[]</code>），如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$aref= [ <span class="number">1</span>,<span class="string">"foo"</span>,<span class="keyword">undef</span>,<span class="number">13</span> ];</div></pre></td></tr></table></figure>
<p>匿名数组的元素仍然可以是匿名数组，所以可以用这种方法构造数组的数组，可以构造任意维度的数组，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">my</span> $aref = [</div><div class="line">        [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],</div><div class="line">        [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>],</div><div class="line">        [<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>],</div><div class="line">]</div></pre></td></tr></table></figure>
<p>在哈希中我们可以用匿名哈希引用，使用 {} 定义：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$href= &#123; <span class="string">APR =&gt;</span><span class="number">4</span>, <span class="string">AUG =&gt;</span><span class="number">8</span> &#125;;</div></pre></td></tr></table></figure>
<p>也可以创建一个没有子程序名的匿名子程序引用:</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$coderef = <span class="function"><span class="keyword">sub</span> </span>&#123; <span class="keyword">print</span> <span class="string">"Runoob!\n"</span> &#125;;</div></pre></td></tr></table></figure>
<h2 id="取消引用">取消引用</h2>
<p>取消引用可以根据不同的类型使用<code>$</code>，<code>@</code>或<code>%</code>来消除，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat quote.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$var = <span class="number">10</span>;</div><div class="line">$r = \$var; <span class="comment"># $r 引用 $var 标量</span></div><div class="line"><span class="keyword">print</span> <span class="string">"$var is "</span>, $$r, <span class="string">"\n"</span>;  <span class="comment"># 输出本地存储的 $r 的变量值</span></div><div class="line"></div><div class="line">@var = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);<span class="comment"># $r 引用  @var 数组</span></div><div class="line">$r = \@var;</div><div class="line"><span class="keyword">print</span> <span class="string">"@var is "</span>, @$r, <span class="string">"\n"</span>;<span class="comment"># 输出本地存储的 $r 的变量值</span></div><div class="line"></div><div class="line">%var = (<span class="string">'key1'</span> =&gt; <span class="number">10</span>, <span class="string">'key2'</span> =&gt; <span class="number">20</span>);  <span class="comment"># $r 引用  %var 数组</span></div><div class="line">$r = \%var;</div><div class="line"><span class="keyword">print</span> <span class="string">"%var is :"</span>,%$r, <span class="string">"\n"</span>;<span class="comment"># 输出本地存储的 $r 的变量值</span></div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl quote.pl </div><div class="line"><span class="number">10</span> is <span class="number">10</span></div><div class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> is <span class="number">123</span></div><div class="line">%var is :key110key22<span class="number">0</span></div></pre></td></tr></table></figure>
<h2 id="判断引用类型">判断引用类型</h2>
<p>如果你不能确定变量类型，你可以使用 ref 来判断，返回值列表如下，如果没有以下的值返回 false：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">SCALAR</div><div class="line">ARRAY</div><div class="line">HASH</div><div class="line">CODE</div><div class="line">GLOB</div><div class="line">REF</div></pre></td></tr></table></figure>
<p>案例如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat determined.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$var = <span class="number">10</span>;</div><div class="line">$r = \$var;</div><div class="line"><span class="keyword">print</span> <span class="string">"Reference type of r is "</span>, <span class="keyword">ref</span>($r), <span class="string">"\n"</span>;</div><div class="line"></div><div class="line">@var = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</div><div class="line">$r = \@var;</div><div class="line"><span class="keyword">print</span> <span class="string">"Reference type of r is "</span>, <span class="keyword">ref</span>($r), <span class="string">"\n"</span>;</div><div class="line"></div><div class="line">%var = (<span class="string">'key'</span> =&gt; <span class="number">10</span>, <span class="string">'key2'</span> =&gt; <span class="number">20</span>);</div><div class="line">$r = \%var;</div><div class="line"><span class="keyword">print</span> <span class="string">"Reference type of r is "</span>,<span class="keyword">ref</span>($r), <span class="string">"\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl determined.pl </div><div class="line">Reference type of r is SCALAR</div><div class="line">Reference type of r is ARRAY</div><div class="line">Reference type of r is HASH</div></pre></td></tr></table></figure>
<h2 id="循环引用">循环引用</h2>
<p>循环引用在两个引用相互包含时出现。你需要小心使用，不然会导致内存泄露，如下实例：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat quote_loop.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">my</span> $foo = <span class="number">100</span>;</div><div class="line">$foo = \$foo;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"Value of foo is "</span>, $foo, <span class="string">"\n"</span>;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl quote_loop.pl </div><div class="line">Value of foo is REF(<span class="number">0x1fb50f8</span>)</div></pre></td></tr></table></figure>
<h2 id="引用函数">引用函数</h2>
<p>函数引用格式: <code>\&amp;</code>，调用引用函数格式: <code>&amp; + 创建的引用名</code>，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">PrintHash</span></span>&#123;</div><div class="line">    <span class="keyword">my</span>(%hash) = @_;</div><div class="line">	</div><div class="line">	<span class="keyword">foreach</span> $item (%hash)&#123;</div><div class="line">	    <span class="keyword">print</span> <span class="string">"Element: $item\n"</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">%hash = (<span class="string">'name'</span> =&gt; <span class="string">'Baidu'</span>, <span class="string">'age'</span> =&gt; <span class="number">11</span>);</div><div class="line"></div><div class="line">$cref = \&amp;PrintHash;</div><div class="line"></div><div class="line">&amp;$cref(%hash);</div></pre></td></tr></table></figure>
<h2 id="参考资料">参考资料</h2>
<p><a href="http://www.runoob.com/perl/perl-tutorial.html" target="_blank" rel="external">Perl教程|菜鸟教程</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/17/Perl学习笔记（6）-函数设计/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/17/Perl学习笔记（6）-函数设计/" itemprop="url">Perl学习笔记（6）-函数设计</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-17T12:00:00+08:00">
                2018-05-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Perl/" itemprop="url" rel="index">
                    <span itemprop="name">Perl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  1,457
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  6
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="perl的函数">Perl的函数</h2>
<p>Perl函数也叫子程序，就是用户定义的函数。为了方便，我一律称为函数，不称子程序。Perl函数的语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">subroutine</span></span>&#123;</div><div class="line">statements;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>调用函数的语法格式为<code>subroutine( 参数列表 )</code>，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">Hello</span></span>&#123;</div><div class="line"><span class="keyword">print</span> <span class="string">"Hello, World!\n"</span>;</div><div class="line">&#125;</div><div class="line">Hello();</div></pre></td></tr></table></figure></p>
<p>由于在设计<code>Hello</code>函数时，并没有设计相应的参数，因此在运行时就不需要加参数，但是还需要加上括号。</p>
<h2 id="向函数传递参数">向函数传递参数</h2>
<p>Perl 函数可以和其他编程语言一样接受多个参数，函数参数使用特殊数组<code>@_</code>标明。因此函数第一个参数为<code>_[0]</code>, 第二个参数为<code>_[1]</code>, 以此类推，用户可以通过改变<code>@_</code>数组中的值来改变相应实际参数的值。。不论参数是标量型还是数组型的，用户把参数传给函数时，perl默认按引用的方式调用它们，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat function_parameter.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">mean</span></span>&#123;</div><div class="line">    $n = <span class="keyword">scalar</span>(@_);</div><div class="line">    $sum = <span class="number">0</span>;</div><div class="line">    <span class="keyword">foreach</span> $item(@_)&#123;</div><div class="line">    $sum = $sum + $item;</div><div class="line">&#125;</div><div class="line">$average = $sum/$n;</div><div class="line"><span class="keyword">print</span> <span class="string">'Input parameter is : '</span>,<span class="string">"@_\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"The first parameter is $_[0]\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"The average of inputed parameters is $average\n"</span>;</div><div class="line">&#125;</div><div class="line">mean(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl function_parameter.pl </div><div class="line">Input parameter is : <span class="number">10</span> <span class="number">20</span> <span class="number">30</span></div><div class="line">The first parameter is <span class="number">10</span></div><div class="line">The average of inputed parameters is <span class="number">20</span></div></pre></td></tr></table></figure></p>
<p>代码解释：scalar不是求元素个数，它用来产生一个标量环境，对数组进行操作时，会返回元素个数。<code>$n = scalar(@_)</code>就是获取所有传入的参数的个数，在这段代码中，n值就是3。</p>
<h2 id="向函数传递列表">向函数传递列表</h2>
<p>由于<code>@_</code>变量是一个数组，所以它可以向函数中传递列表。但如果我们需要传入标量和数组参数，需要把列表放在最后一个参数上，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat print_list.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">PrintList</span></span>&#123;</div><div class="line"><span class="keyword">my</span> @list = @_;</div><div class="line"><span class="keyword">print</span> <span class="string">"List is @list\n"</span>;</div><div class="line">&#125;</div><div class="line">$a = <span class="number">10</span>;</div><div class="line">@b = (<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>);</div><div class="line">PrintList($a, @b);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl print_list.pl </div><div class="line">List is <span class="number">10</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span></div></pre></td></tr></table></figure></p>
<h2 id="向函数传递哈希">向函数传递哈希</h2>
<p>当向函数传递哈希表时，它将复制到<code>@_</code>中，哈希表将被展开为键/值组合的列表，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat print_hash.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">PrintHash</span></span>&#123;</div><div class="line">    <span class="keyword">my</span>(%hash) = @_;</div><div class="line">    <span class="keyword">foreach</span> <span class="keyword">my</span>$key (<span class="keyword">keys</span> %hash)&#123;</div><div class="line">    <span class="keyword">my</span> $value =$hash&#123;$key&#125;;</div><div class="line">    <span class="keyword">print</span> <span class="string">"$key:$value\n"</span>;</div><div class="line">   &#125;</div><div class="line">&#125;</div><div class="line">%hash = (<span class="string">'name'</span> =&gt; <span class="string">'Baidu'</span>, <span class="string">'age'</span> =&gt;<span class="number">11</span>);</div><div class="line">PrintHash(%hash);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl print_hash.pl </div><div class="line">name:Baidu</div><div class="line">age:<span class="number">11</span></div></pre></td></tr></table></figure></p>
<h2 id="函数返回值">函数返回值</h2>
<p>函数可以向其他编程语言一样使用<code>retur</code> 语句来返回函数值。如果没有使用<code>return</code>语句，则函数的最后一行语句将作为返回值，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat <span class="keyword">return</span>.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">add_a_b</span></span>&#123;</div><div class="line">    $_[<span class="number">0</span>] + $_[<span class="number">1</span>];</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> add_a_b(<span class="number">1</span>,<span class="number">12</span>).<span class="string">"\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl <span class="keyword">return</span>.pl </div><div class="line"><span class="number">13</span></div></pre></td></tr></table></figure></p>
<h2 id="函数的局部变量">函数的局部变量</h2>
<p>默认情况下，Perl 中所有的变量都是全局变量，这就是说变量在程序的任何地方都可以调用。如果我们需要设置私有变量（私有变量其实与其他编程语言中的局部变量是一样的，后文一律称为局部变量），可以使 <code>my</code>操作符来设置。<code>my</code>操作符用于创建作用域变量，通过<code>my</code>创建的变量，存活于声明开始的地方，直到闭合作用域的结尾。<code>闭合作用域</code>指的可以是一对花括号中的区域，可以是一个文件，也可以是一个<code>if, while, for, foreach, eval</code>字符串。它的用法如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">somefunc</span> </span>&#123;</div><div class="line">   <span class="keyword">my</span> $variable; <span class="comment"># $variable在函数somefunc()之外不可见</span></div><div class="line">   <span class="keyword">my</span> ($another, @an_array, %a_hash); <span class="comment">#  同时声明多个变量</span></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>以下案例就演示了如何声明一个或多个局部变量： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat local_variable.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$variable_global = <span class="string">"Hello, World!\n"</span>;</div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">PrintHello</span></span>&#123;</div><div class="line">    <span class="keyword">my</span> $variable_global;</div><div class="line">    $variable_global = <span class="string">"Hello, Learner!\n"</span>;</div><div class="line">    <span class="keyword">print</span> <span class="string">"Strings in function is :$variable_global\n"</span>;</div><div class="line">&#125;</div><div class="line">PrintHello();</div><div class="line"><span class="keyword">print</span> <span class="string">"Strings beyond function is : $variable_global\n"</span>;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl local_variable.pl </div><div class="line">Strings in function is :Hello, Learner!</div><div class="line">Strings beyond function is : Hello, World!</div></pre></td></tr></table></figure></p>
<h2 id="变量的临时赋值">变量的临时赋值</h2>
<p>我们可以使用 local 为全局变量提供临时的值，在退出作用域后将原来的值还回去。local定义的变量不存在于主程序中，但存在于该函数和该函数调用的函数中。定义时可以给其赋值，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat local_temp.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$variable_global = <span class="string">"Hello, World!\n"</span>;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">PrintLocal</span></span>&#123;</div><div class="line"><span class="keyword">local</span> $variable_global;</div><div class="line">$variable_global = <span class="string">"Hello, Learner!\n"</span>; <span class="comment">#临时赋值</span></div><div class="line">PrintMe();</div><div class="line"><span class="keyword">print</span> <span class="string">"PrintLocal function has strings: $variable_global\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">PrintMe</span></span>&#123;</div><div class="line"><span class="keyword">print</span> <span class="string">"PrintMe function has strings: $variable_global\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">PrintHello</span></span>&#123;</div><div class="line"><span class="keyword">print</span> <span class="string">"PrintHello function has strings: $variable_global\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">PrintLocal();</div><div class="line">PrintHello();</div><div class="line"><span class="keyword">print</span> <span class="string">"Strings beyond function is : $variable_global\n"</span>;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl local_temp.pl </div><div class="line"></div><div class="line">PrintMe function has strings: Hello, Learner!</div><div class="line"></div><div class="line">PrintLocal function has strings: Hello, Learner!</div><div class="line"></div><div class="line">PrintHello function has strings: Hello, World!</div><div class="line"></div><div class="line">Strings beyond function is : Hello, World!</div></pre></td></tr></table></figure></p>
<h2 id="静态变量">静态变量</h2>
<p><code>state</code>关键字将局部变量永久存在。state也是词法变量，所以只在定义该变量的词法作用域中有效，如下所示： <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~/perl/05function$ cat state.pl </div><div class="line">#!/usr/bin/perl</div><div class="line"></div><div class="line">use feature &apos;state&apos;;</div><div class="line">sub PrintCount&#123;</div><div class="line">state $count = 0;</div><div class="line">print &quot;counter value is : $count\n&quot;;</div><div class="line">$count++;</div><div class="line">&#125;</div><div class="line">for (1..5)&#123;</div><div class="line">PrintCount();</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~/perl/05function$ perl state.pl </div><div class="line">counter value is : 0</div><div class="line">counter value is : 1</div><div class="line">counter value is : 2</div><div class="line">counter value is : 3</div><div class="line">counter value is : 4</div></pre></td></tr></table></figure></p>
<p>注1：state仅能创建闭合作用域为函数内部的变量。 注2：state是从Perl 5.9.4开始引入的，所以使用前必须加上 use。 注3：state可以声明标量、数组、哈希。但在声明数组和哈希时，不能对其初始化（至少Perl 5.14不支持）。</p>
<h2 id="函数调用上下文">函数调用上下文</h2>
<p>函数调用过程中，会根据上下文来返回不同类型的值，比如<code>localtime()</code>函数，在标量上下文返回字符串，在列表上下文返回列表，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ cat function_context.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">my</span> $variable = <span class="keyword">localtime</span>(<span class="keyword">time</span>);</div><div class="line"><span class="keyword">print</span> $variable;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"\n"</span>;</div><div class="line"></div><div class="line">($sec,$min,$hour,$mday,$mon, $year,$wday,$yday,$isdst) = <span class="keyword">localtime</span>(<span class="keyword">time</span>);</div><div class="line"><span class="keyword">printf</span>(<span class="string">"%d-%d-%d %d:%d:%d\n"</span>,$year+<span class="number">1990</span>,$mon+<span class="number">1</span>,$mday,$hour,$min,$sec);</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">05</span>function$ perl function_context.pl </div><div class="line">Fri May <span class="number">18</span> <span class="number">16</span>:<span class="number">53</span>:<span class="number">48</span> <span class="number">2018</span></div><div class="line"><span class="number">2108</span>-<span class="number">5</span>-<span class="number">18</span> <span class="number">16</span>:<span class="number">53</span>:<span class="number">48</span></div></pre></td></tr></table></figure></p>
<h2 id="参考资料">参考资料</h2>
<p><a href="http://www.runoob.com/perl/perl-tutorial.html" target="_blank" rel="external">Perl教程|菜鸟教程</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/16/Perl学习笔记（5）-时间日期处理与格式化输出/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/16/Perl学习笔记（5）-时间日期处理与格式化输出/" itemprop="url">Perl学习笔记（5）-格式化输出与时间日期的处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-16T12:00:00+08:00">
                2018-05-16
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Perl/" itemprop="url" rel="index">
                    <span itemprop="name">Perl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  2,291
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  10
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="格式化输出">格式化输出</h2>
<p>Perl 是一个非常强大的文本数据处理语言。Perl 中可以使用 format 来定义一个模板，然后使用 write 按指定模板输出数据。Perl 格式化定义语法格式如下</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">format</span> FormatName =</div><div class="line">fieldline</div><div class="line">value_one, value_two, value_three</div><div class="line">fieldline</div><div class="line">value_one, value_two</div><div class="line">.</div></pre></td></tr></table></figure>
<p>参数解释：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">FormatName ：格式化名称。</div><div class="line">fieldline ：一个格式行，用来定义一个输出行的格式,类似 @,^,&lt;,&gt;,| 这样的字符。</div><div class="line">value_one,value_two…… ：数据行，用来向前面的格式行中插入值,都是perl的变量。</div><div class="line">. ：结束符号。</div></pre></td></tr></table></figure>
<p>看一个简单的案例：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat format01.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$text=<span class="string">"google runoob taobao"</span>;</div><div class="line"><span class="keyword">format</span> STDOUT = </div><div class="line">first:^&lt;&lt;&lt;&lt;&lt; <span class="comment"># left-justified 6 characters</span></div><div class="line">    $text</div><div class="line">second: ^&lt;&lt;&lt;&lt;&lt; <span class="comment"># left-justified 6 characters</span></div><div class="line">    $text</div><div class="line">third: ^&lt;&lt;&lt;&lt; <span class="comment"># left-justified 5 characters, last "o" will be removed</span></div><div class="line">    $text</div><div class="line">.</div><div class="line"><span class="keyword">write</span></div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl format01.pl </div><div class="line">first:google</div><div class="line">second: runoob</div><div class="line">third: taoba</div></pre></td></tr></table></figure>
<h2 id="格式行语法">格式行语法</h2>
<ol style="list-style-type: decimal">
<li>格式行以<code>@</code>或者<code>^</code>开头，这些行不作任何形式的变量代换。</li>
<li><code>@</code>字段(不要同数组符号<code>@</code>相混淆)是普通的字段。</li>
<li><code>@,^</code>后的<code>&lt;, &gt;,|</code>长度决定了字段的长度，如果变量超出定义的长度,那么它将被截断。</li>
<li><code>&lt;, &gt;,|</code>还分别表示,左对齐,右对齐,居中对齐。</li>
<li><code>^</code>字段用于多行文本块填充。</li>
</ol>
<h2 id="值域格式">值域格式</h2>
<table>
<thead>
<tr class="header">
<th>格式</th>
<th>值域含义</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>@&lt;&lt;&lt;</code></td>
<td>左对齐输出</td>
</tr>
<tr class="even">
<td><code>@&gt;&gt;&gt;</code></td>
<td>右对齐输出</td>
</tr>
<tr class="odd">
<td><code>@|||</code></td>
<td>中对齐输出</td>
</tr>
<tr class="even">
<td><code>@##.##</code></td>
<td>固定精度数字</td>
</tr>
<tr class="odd">
<td><code>@*</code></td>
<td>多行文本</td>
</tr>
</tbody>
</table>
<p>每个值域的第一个字符是行填充符，当使用<code>@</code>字符时，不做文本格式化。在上表中，除了多行值域<code>@*</code>，域宽都等于其指定的包含字符<code>@</code>在内的字符个数，例如<code>@###.##</code>表示7个字符的宽度，小数点前4个，小数点后2个，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat format02.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">format</span> EMPLOYEE = </div><div class="line">=============================</div><div class="line">@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;@&lt;&lt;</div><div class="line">$name,$age</div><div class="line">@#<span class="comment">####.##</span></div><div class="line">$salary</div><div class="line">=============================</div><div class="line">.</div><div class="line"></div><div class="line"><span class="keyword">select</span>(STDOUT);</div><div class="line">$~=EMPLOYEE;</div><div class="line"></div><div class="line">@n=(<span class="string">"Ali"</span>,<span class="string">"Runoob"</span>,<span class="string">"Tencent"</span>);</div><div class="line">@a=(<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>);</div><div class="line">@s=(<span class="number">2000.00</span>,<span class="number">2500.00</span>,<span class="number">4000.00</span>);</div><div class="line"></div><div class="line">$i=<span class="number">0</span>;</div><div class="line"><span class="keyword">foreach</span>(@n)&#123;</div><div class="line">    $name=$_;</div><div class="line">    $age=$a[$i];</div><div class="line">    $salary=$s[$i++];</div><div class="line">    <span class="keyword">write</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl format02.pl </div><div class="line">=============================</div><div class="line">Ali                    <span class="number">20</span></div><div class="line">  <span class="number">2000.00</span></div><div class="line">=============================</div><div class="line">=============================</div><div class="line">Runoob                 <span class="number">30</span></div><div class="line">  <span class="number">2500.00</span></div><div class="line">=============================</div><div class="line">=============================</div><div class="line">Tencent                <span class="number">40</span></div><div class="line">  <span class="number">4000.00</span></div><div class="line">=============================</div></pre></td></tr></table></figure>
<h2 id="格式变量">格式变量</h2>
<ol style="list-style-type: decimal">
<li><code>$~ ($FORMAT_NAME)</code> ：格式名字；</li>
<li><code>$^ ($FORMAT_TOP_NAME)</code> ：当前的表头格式名字存储；</li>
<li><code>$% ($FORMAT_PAGE_NUMBER)</code> ：当前输出的页号；</li>
<li><code>$= ($FORMAT_LINES_PER_PAGE)</code> ：每页中的行数；</li>
<li><code>$| ($FORMAT_AUTOFLUSH)</code> ：是否自动刷新输出缓冲区存储；</li>
<li><code>$^L ($FORMAT_FORMFEED)</code> ：在每一页(除了第一页)表头之前需要输出的字符串存储。</li>
</ol>
<p>在下面的案例中，使用了<code>$~进行格式化，</code>案例如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<p>如果不指定<code>$~</code>的情况下，会输出名为<code>STDOUT</code>的格式，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat format04.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">write</span>; <span class="comment"># 没有指定$~，程序会会寻找名为STDOUT的格式</span></div><div class="line"><span class="keyword">format</span> STDOUT=</div><div class="line">----------------</div><div class="line">STDOUT formats</div><div class="line">----------------</div><div class="line">.</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl format04.pl </div><div class="line">----------------</div><div class="line">STDOUT formats</div><div class="line">----------------</div></pre></td></tr></table></figure>
<p>在下面的案例中，添加报表头部信息来说明<code>$^</code>或<code>$FORMAT_TOP_NAME</code>变量的使用：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat format05.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">format</span> EMPLOYEE =</div><div class="line">====================================</div><div class="line">@&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; @&lt;&lt;</div><div class="line">$name, $age</div><div class="line">@#<span class="comment">####.##</span></div><div class="line">$salary</div><div class="line">====================================</div><div class="line">.</div><div class="line"></div><div class="line"><span class="keyword">format</span> EMPLOYEE_TOP=</div><div class="line">====================================</div><div class="line">Name                     Age Page @&lt;</div><div class="line">                         $%</div><div class="line">====================================</div><div class="line">.</div><div class="line"></div><div class="line"><span class="keyword">select</span>(STDOUT);</div><div class="line">$~ = EMPLOYEE;</div><div class="line">$^ = EMPLOYEE_TOP;</div><div class="line"></div><div class="line">@n=(<span class="string">"Ali"</span>,<span class="string">"Runoob"</span>,<span class="string">"Tencent"</span>);</div><div class="line">@a=(<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>);</div><div class="line">@s=(<span class="number">2000.00</span>,<span class="number">2500.00</span>,<span class="number">4000.000</span>);</div><div class="line"></div><div class="line">$i=<span class="number">0</span>;</div><div class="line"><span class="keyword">foreach</span>(@n)&#123;</div><div class="line">    $name=$_;</div><div class="line">    $age=$a[$i];</div><div class="line">    $salary=$s[$i++];</div><div class="line">    <span class="keyword">write</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl format05.pl </div><div class="line">====================================</div><div class="line">Name                     Age Page <span class="number">1</span></div><div class="line">====================================</div><div class="line">====================================</div><div class="line">Ali                      <span class="number">20</span></div><div class="line">  <span class="number">2000.00</span></div><div class="line">====================================</div><div class="line">====================================</div><div class="line">Runoob                   <span class="number">30</span></div><div class="line">  <span class="number">2500.00</span></div><div class="line">====================================</div><div class="line">====================================</div><div class="line">Tencent                  <span class="number">40</span></div><div class="line">  <span class="number">4000.00</span></div><div class="line">====================================</div></pre></td></tr></table></figure>
<h2 id="输出到其它文件">输出到其它文件</h2>
<p>默认情况下函数<code>write</code>将结果输出到标准输出文件<code>STDOUT</code>，我们也可以使它将结果输出到任意其它的文件中。最简单的方法就是把文件变量作为参数传递给<code>write</code>，例如<code>write(MYFILE)</code>，此时write就用缺省的名为MYFILE的打印格式输出到文件MYFILE中。但是这样就不能用<code>$~</code>变量来改变所使用的打印格式。系统变量<code>$~</code>只对默认文件变量起作用，我们可以改变默认文件变量，改变<code>$~</code>，再调用<code>write</code>，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat myfile.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">if</span>(<span class="keyword">open</span>(MYFILE,<span class="string">"&gt;tmp"</span>))&#123;</div><div class="line">$~=<span class="string">"MYFORMAT"</span>;</div><div class="line"><span class="keyword">write</span> MYFILE;</div><div class="line"></div><div class="line"><span class="keyword">format</span> MYFILE=</div><div class="line">========================</div><div class="line">Input into file</div><div class="line">========================</div><div class="line">.</div><div class="line"><span class="keyword">close</span> MYFILE;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl myfile.pl </div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat tmp </div><div class="line">========================</div><div class="line">Input into file</div><div class="line">========================</div></pre></td></tr></table></figure>
<p>以使用<code>select</code>改变默认文件变量时，它返回当前默认文件变量的内部表示，这样我们就可以创建子程序，按自己的想法输出，又不影响程序的其它部分，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat select.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">if</span>(<span class="keyword">open</span>(MYFILE,<span class="string">"&gt;&gt;tmp"</span>))&#123;</div><div class="line"><span class="keyword">select</span>(MYFILE);</div><div class="line">$~=<span class="string">"OTHER"</span>;</div><div class="line"><span class="keyword">write</span>;</div><div class="line"></div><div class="line"><span class="keyword">format</span> OTHER=</div><div class="line">========================</div><div class="line">input something into file</div><div class="line">========================</div><div class="line">.</div><div class="line"><span class="keyword">close</span> MYFILE;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl select.pl </div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat tmp</div><div class="line">========================</div><div class="line">Input into file</div><div class="line">========================</div><div class="line">========================</div><div class="line">input something into file</div><div class="line">========================</div></pre></td></tr></table></figure>
<h2 id="perl中处理时间的函数">Perl中处理时间的函数</h2>
<p>Perl中处理时间的函数有以下这些： 1. time() 函数：返回从1970年1月1日起累计的秒数 2. localtime() 函数：获取本地时区时间 3. gmtime() 函数： 获取格林威治时间</p>
<h2 id="当前时间和日期">当前时间和日期</h2>
<p><code>localtime()</code>函数返回当前的时间和日期。 以下 9 个符号代表不同的时间日期参数：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">sec,     # 秒， 0 到 61</div><div class="line">min,     # 分钟， 0 到 59</div><div class="line">hour,    # 小时， 0 到 24</div><div class="line">mday,    # 天， 1 到 31</div><div class="line">mon,     # 月， 0 到 11</div><div class="line">year,    # 年，从 1900 开始</div><div class="line">wday,    # 星期几，0-6,0表示周日</div><div class="line">yday,    # 一年中的第几天,0-364,365</div><div class="line">isdst    # 如果夏令时有效，则为真</div></pre></td></tr></table></figure>
<p>使用案例如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat time.pl </div><div class="line">@months = <span class="string">qw(Janurary February March April May June July August September October November December)</span>;</div><div class="line">@days = <span class="string">qw(Sunday Saturday Monday Tuesday Wednesday Friday)</span>;</div><div class="line"></div><div class="line">($sec, $min, $hour, $mday,$mon,$year, $wday, $yday, $isdst) = <span class="keyword">localtime</span>() ;</div><div class="line"></div><div class="line"><span class="keyword">print</span><span class="string">"$mday $months[$mon] $days[$wday]\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl time.pl </div><div class="line"><span class="number">18</span> May Friday</div></pre></td></tr></table></figure>
<p>如果直接调用 localtime() ，它返回系统当期设置时区的时间，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat localtime.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$datenow=<span class="keyword">localtime</span>();</div><div class="line"><span class="keyword">print</span> <span class="string">"Now time is $datenow\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl localtime.pl </div><div class="line">Now <span class="keyword">time</span> is Fri May <span class="number">18</span> <span class="number">16</span>:<span class="number">05</span>:<span class="number">51</span> <span class="number">2018</span></div></pre></td></tr></table></figure>
<h2 id="格林威治时间-gmt">格林威治时间 (GMT)</h2>
<p>函数 gmtime() 与 localtime() 类似，但它返回标准格林威治时间，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat gmt.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$Chongqing_time = <span class="keyword">localtime</span>();</div><div class="line">$gmt_time = <span class="keyword">gmtime</span>();</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"Chongqing time is $Chongqing_time\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"GMT time is $gmt_time\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl gmt.pl </div><div class="line">Chongqing <span class="keyword">time</span> is Fri May <span class="number">18</span> <span class="number">16</span>:<span class="number">07</span>:<span class="number">05</span> <span class="number">2018</span></div><div class="line">GMT <span class="keyword">time</span> is Fri May <span class="number">18</span> <span class="number">23</span>:<span class="number">07</span>:<span class="number">05</span> <span class="number">2018</span></div></pre></td></tr></table></figure></p>
<p>运行结果可以看出，中国当地时间和格林威治时间相差了8小时，中国是东八区。</p>
<h2 id="格式化日期和时间">格式化日期和时间</h2>
<p>使用<code>localtime()</code>函数的 9 个时间元素来可以输出需要制定的格式时间。格式化输出使用 printf() 函数，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat format_time.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst)=<span class="keyword">localtime</span>();</div><div class="line"></div><div class="line"><span class="keyword">printf</span>(<span class="string">"Formated time is HH:MM:SS\n"</span>);</div><div class="line"><span class="keyword">printf</span>(<span class="string">"%02d:%02d:%02d\n"</span>, $hour, $min, $sec);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl format_time.pl </div><div class="line">Formated <span class="keyword">time</span> is HH:MM:SS</div><div class="line"><span class="number">16</span>:<span class="number">10</span>:<span class="number">03</span></div></pre></td></tr></table></figure></p>
<h2 id="新纪元时间epoch-time">新纪元时间(Epoch Time)</h2>
<p>使用 time() 函数来获取新纪元时间，该函数返回从1970年1月1日起累计的秒数，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat epoch_time.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$epoch_time = <span class="keyword">time</span>();</div><div class="line"><span class="keyword">print</span> <span class="string">"Accumulated seconds from 1970.1.1. is $epoch_time\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl epoch_time.pl </div><div class="line">Accumulated seconds from <span class="number">1970.1</span>.<span class="number">1</span>. is <span class="number">1526685082</span></div></pre></td></tr></table></figure>
<p>也可以输出一个用户想要的时间格式，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat custom_time.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">($sec,$min,$hour,$mday,$mon,$year,$wday,$yday,$isdst) = <span class="keyword">localtime</span>();</div><div class="line"><span class="keyword">print</span> <span class="string">"Current time and date"</span>;</div><div class="line"><span class="keyword">printf</span> (<span class="string">"%d-%d-%d %d:%d:%d"</span>, $year+<span class="number">1900</span>, $mon +<span class="number">1</span>, $mday, $hour, $min, $sec);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"\n"</span>;</div><div class="line"></div><div class="line">$epoch_time = <span class="keyword">time</span>();</div><div class="line">$epoch_time = $epoch_time - <span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>; </div><div class="line">($sec, $min, $hour, $mday, $mon, $year, $wday, $yday, $isdst) = <span class="keyword">localtime</span>($epoch_time);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"Yesterady time and date is: "</span>;</div><div class="line"><span class="keyword">printf</span> (<span class="string">"%d-%d-%d %d:%d:%d"</span>, $year+<span class="number">1900</span>, $mon +<span class="number">1</span>, $mday, $hour, $min, $sec);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl custom_time.pl </div><div class="line">Current <span class="keyword">time</span> <span class="keyword">and</span> date2018-<span class="number">5</span>-<span class="number">18</span> <span class="number">16</span>:<span class="number">12</span>:<span class="number">46</span></div><div class="line">Yesterady <span class="keyword">time</span> <span class="keyword">and</span> date is: <span class="number">2018</span>-<span class="number">5</span>-<span class="number">17</span> <span class="number">16</span>:<span class="number">12</span>:<span class="number">46</span></div></pre></td></tr></table></figure></p>
<h2 id="posix-函数-strftime">POSIX 函数 strftime()</h2>
<p>函数<code>strftime()</code>可以将时间格式化为我们想要的格式。 下表列出了一些格式化的符号，<code>*</code> 号表示想要依赖本地时间：</p>
<table>
<thead>
<tr class="header">
<th>符号</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>%a</td>
<td>星期几的简称（ Sun..Sat） <code>*</code></td>
<td>Thu</td>
</tr>
<tr class="even">
<td>%A</td>
<td>星期几的全称（ Sunday..Saturday） <code>*</code></td>
<td>Thursday</td>
</tr>
<tr class="odd">
<td>%b</td>
<td>月的简称（Jan..Dec） <code>*</code></td>
<td>Aug</td>
</tr>
<tr class="even">
<td>%B</td>
<td>月的全称（January..December） <code>*</code></td>
<td>August</td>
</tr>
<tr class="odd">
<td>%c</td>
<td>日期和时间 *</td>
<td>Thu Aug 23 14:55:02 2001</td>
</tr>
<tr class="even">
<td>%C</td>
<td>年份除于100，并取整 (00-99)</td>
<td>20</td>
</tr>
<tr class="odd">
<td>%d</td>
<td>一个月的第几天 (01-31)</td>
<td>23</td>
</tr>
<tr class="even">
<td>%D</td>
<td>日期, MM/DD/YY 相等于%m/%d/%y</td>
<td><code>08/23/01</code></td>
</tr>
<tr class="odd">
<td>%e</td>
<td>一个月的第几天，使用空格填充个位数 ( 1-31)</td>
<td>23</td>
</tr>
<tr class="even">
<td>%F</td>
<td>YYYY-MM-DD 的简写类似于 %Y-%m-%d</td>
<td>2001/8/23</td>
</tr>
<tr class="odd">
<td>%g</td>
<td>年份的最后两位数 (00-99)</td>
<td>1</td>
</tr>
<tr class="even">
<td>%g</td>
<td>年</td>
<td>2001</td>
</tr>
<tr class="odd">
<td>%h</td>
<td>月的简称 <code>*</code>(和%b选项相同)</td>
<td>Aug</td>
</tr>
<tr class="even">
<td>%H</td>
<td>24 小时制 (00-23)</td>
<td>14</td>
</tr>
<tr class="odd">
<td>%I</td>
<td>12 小时制 (01-12)</td>
<td><code>02</code></td>
</tr>
<tr class="even">
<td>%j</td>
<td>一年的第几天 (001-366)</td>
<td>235</td>
</tr>
<tr class="odd">
<td>%m</td>
<td>月 (01-12)</td>
<td><code>08</code></td>
</tr>
<tr class="even">
<td>%M</td>
<td>分钟 (00-59)</td>
<td>55</td>
</tr>
<tr class="odd">
<td>%n</td>
<td>新行 (‘’)</td>
<td></td>
</tr>
<tr class="even">
<td>%p</td>
<td>显示出AM或PM</td>
<td>PM</td>
</tr>
<tr class="odd">
<td>%r</td>
<td>时间（hh：mm：ss AM或PM），12小时 <code>*</code></td>
<td><code>02:55:02 pm</code></td>
</tr>
<tr class="even">
<td>%R</td>
<td>24 小时 HH:MM 时间格式,相等于 %H:%M</td>
<td>14:55</td>
</tr>
<tr class="odd">
<td>%S</td>
<td>秒数 (00-61)</td>
<td><code>02</code></td>
</tr>
<tr class="even">
<td>%t</td>
<td>水平制表符 (‘’)</td>
<td></td>
</tr>
<tr class="odd">
<td>%T</td>
<td>时间（24小时制）（hh:mm:ss），相等于%H:%M:%S</td>
<td>14:55</td>
</tr>
<tr class="even">
<td>%u</td>
<td>ISO 8601 的星期几格式，星期一为1 (1-7)</td>
<td>4</td>
</tr>
<tr class="odd">
<td>%U</td>
<td>一年中的第几周，星期天为第一天(00-53)</td>
<td>33</td>
</tr>
<tr class="even">
<td>%V</td>
<td>ISO 8601 第几周 (00-53)</td>
<td>34</td>
</tr>
<tr class="odd">
<td>%w</td>
<td>一个星期的第几天（0代表星期天） (0-6)</td>
<td>4</td>
</tr>
<tr class="even">
<td>%W</td>
<td>一年的第几个星期，星期一为第一天 (00-53)</td>
<td>34</td>
</tr>
<tr class="odd">
<td>%x</td>
<td>显示日期的格式（mm/dd/yy） <code>*</code></td>
<td>08/23/01</td>
</tr>
<tr class="even">
<td>%X</td>
<td>显示时间格式 <code>*</code></td>
<td>14:55:02</td>
</tr>
<tr class="odd">
<td>%y</td>
<td>年，两位数 (00-99)</td>
<td><code>01</code></td>
</tr>
<tr class="even">
<td>%Y</td>
<td>年</td>
<td>2018</td>
</tr>
<tr class="odd">
<td>%z</td>
<td>ISO 8601与UTC的时区偏移(1 minute=1, 1 hour=100)</td>
<td><code>+100</code></td>
</tr>
<tr class="even">
<td>%Z</td>
<td>当前时区的名称,如“中国标准时间” <code>*</code></td>
<td>CDT</td>
</tr>
<tr class="odd">
<td>%%</td>
<td>% 符号</td>
<td>%</td>
</tr>
</tbody>
</table>
<p>使用案例如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ cat strftime.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"><span class="keyword">use</span> POSIX <span class="string">qw(strftime)</span>;</div><div class="line"></div><div class="line">$current_time = strftime <span class="string">"%Y-%m-%d %H:%M:%S"</span>, <span class="keyword">localtime</span>;</div><div class="line"><span class="keyword">printf</span> (<span class="string">"Time and Date - $current_time\n"</span>);</div><div class="line"></div><div class="line">$current_time = strftime <span class="string">"%Y-%m-%d %H:%M:%S"</span>, <span class="keyword">gmtime</span>;</div><div class="line"><span class="keyword">printf</span> <span class="string">"Time and Date - $current_time\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">04</span><span class="keyword">time</span>$ perl strftime.pl </div><div class="line">Time <span class="keyword">and</span> Date - <span class="number">2018</span>-<span class="number">05</span>-<span class="number">18</span> <span class="number">16</span>:<span class="number">20</span>:<span class="number">05</span></div><div class="line">Time <span class="keyword">and</span> Date - <span class="number">2018</span>-<span class="number">05</span>-<span class="number">18</span> <span class="number">23</span>:<span class="number">20</span>:<span class="number">05</span></div></pre></td></tr></table></figure>
<h2 id="参考资料">参考资料</h2>
<p><a href="http://www.runoob.com/perl/perl-tutorial.html" target="_blank" rel="external">Perl教程|菜鸟教程</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/15/Perl学习笔记（4）-运算符/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/15/Perl学习笔记（4）-运算符/" itemprop="url">Perl学习笔记（4）-运算符</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-15T12:00:00+08:00">
                2018-05-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Perl/" itemprop="url" rel="index">
                    <span itemprop="name">Perl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  3,475
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  13
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言">（0）前言</h2>
<p>运算符是一种告诉编译器执行特定的数学或逻辑操作的符号，例如<code>3+2=5</code>这个表达式中，加号（<code>+</code>）就是一个数学运算符，Perl中的运算答有以下这些：</p>
<p>①算术运算符；②比较运算符；③逻辑运算符；④赋值运算符；⑤位运算符；⑥引号运算符；⑦其他运算符。</p>
<h2 id="算术运算符">（1）算术运算符</h2>
<p>假设有两个变量，即<code>$a=10</code>，<code>$b=20</code>，那么使用下表中的算术运算符计算的结果就是第3列的结果：</p>
<table>
<thead>
<tr class="header">
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>+</td>
<td>加法运算</td>
<td><code>$a + $b</code> 结果为 30</td>
</tr>
<tr class="even">
<td>-</td>
<td>减法运算</td>
<td><code>$a - $b</code> 结果为 -10</td>
</tr>
<tr class="odd">
<td>*</td>
<td>乘法运算</td>
<td><code>$a * $b</code> 结果为 200</td>
</tr>
<tr class="even">
<td>/</td>
<td>除法运算</td>
<td><code>$b / $a</code> 结果为 2</td>
</tr>
<tr class="odd">
<td>%</td>
<td>求余运算，整除后的余数</td>
<td><code>$b % $a</code> 结果为 0</td>
</tr>
<tr class="even">
<td>**</td>
<td>乘幂</td>
<td><code>$a**$b</code> 结果为 10 的 20 次方</td>
</tr>
</tbody>
</table>
<p>算术运算符比较简单，使用案例就略过。</p>
<h2 id="比较运算符">（2）比较运算符</h2>
<p>比较运算符有时候常常用于条件语句的判断中，还a和b这两个变量为例说明，如下所示：</p>
<table>
<colgroup>
<col width="7%">
<col width="64%">
<col width="27%">
</colgroup>
<thead>
<tr class="header">
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>==</td>
<td>检查两个操作数的值是否相等，如果相等则条件为 true，否则为 false。</td>
<td>(<code>$a == $b</code>) 为 false</td>
</tr>
<tr class="even">
<td>!=</td>
<td>检查两个操作数的值是否相等，如果不相等则条件为 true，否则为 false。</td>
<td>(<code>$a != $b</code>) 为 true。</td>
</tr>
<tr class="odd">
<td>&lt;=&gt;</td>
<td>检查两个操作数的值是否相等, 如果左边的数小于右边的数返回 -1，如果相等返回 0, 如果左边的数大于右边的数返回 1 。</td>
<td>(<code>$a &lt;=&gt; $b</code>) 返回 -1。</td>
</tr>
<tr class="even">
<td>&gt;</td>
<td>检查左操作数的值是否大于右操作数的值，如果是则条件为 true，否则为 false。</td>
<td>(<code>$a &gt; $b</code>) 返回 false。</td>
</tr>
<tr class="odd">
<td>&lt;</td>
<td>检查左操作数的值是否小于右操作数的值，如果是则条件为 true，否则返回 false。</td>
<td>(<code>$a &lt; $b</code>) 返回 true。</td>
</tr>
<tr class="even">
<td>&gt;=</td>
<td>检查左操作数的值是否大于或等于右操作数的值，如果是则条件为 true，否则返回 false。</td>
<td>(<code>$a &gt;= $b</code>) 返回 false。</td>
</tr>
<tr class="odd">
<td>&lt;=</td>
<td>检查左操作数的值是否小于或等于右操作数的值，如果是则条件为 true，否则返回 false。</td>
<td>(<code>$a &lt;= $b</code>) 返回 true。</td>
</tr>
</tbody>
</table>
<p>如果是文字，也可以用于比较，只是需要另外一套的运算符，例如<code>$a=&quot;abc&quot;,$b=&quot;xyz&quot;</code>，我猜测Perl在比较字符串时，有可能是按照ASCII码来进行比较的，它们的运算结果如下所示：</p>
<table style="width:100%;">
<colgroup>
<col width="4%">
<col width="33%">
<col width="42%">
<col width="18%">
</colgroup>
<thead>
<tr class="header">
<th>运算符</th>
<th>意义</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>lt</td>
<td>小于，即less than</td>
<td>检查左边的字符串是否小于右边的字符串，如果是返回 true，否则返回 false。</td>
<td>(<code>$a lt $b</code>) 返回 true。</td>
</tr>
<tr class="even">
<td>gt</td>
<td>大于，即greater</td>
<td>检查左边的字符串是否大于右边的字符串，如果是返回 true，否则返回 false。</td>
<td>(<code>$a gt $b</code>) 返回 false。</td>
</tr>
<tr class="odd">
<td>le</td>
<td>小于等于，即less equal</td>
<td>检查左边的字符串是否小于或等于右边的字符串，如果是返回 true，否则返回 false。</td>
<td>(<code>$a le $b</code>) 返回 true</td>
</tr>
<tr class="even">
<td>ge</td>
<td>大于等于，即greater equal</td>
<td>检查左边的字符串是否大于或等于右边的字符串，如果是返回 true，否则返回 false。</td>
<td>(<code>$a ge $b</code>) 返回 false。</td>
</tr>
<tr class="odd">
<td>eq</td>
<td>等于，即equal</td>
<td>检查左边的字符串是否等于右边的字符串，如果是返回 true，否则返回 false。</td>
<td>(<code>$a eq $b</code>) 返回 false。</td>
</tr>
<tr class="even">
<td>ne</td>
<td>不等于，即no equal</td>
<td>检查左边的字符串是否不等于右边的字符串，如果是返回 true，否则返回 false。</td>
<td>(<code>$a ne $b</code>) 返回 true</td>
</tr>
<tr class="odd">
<td>cmp</td>
<td>比较，compare，大于返回1，等于返回0，小于返回-1</td>
<td>如果左边的字符串大于右边的字符串返回 1，如果相等返回 0，如果左边的字符串小于右边的字符串返回 -1。</td>
<td>(<code>$a cmp $b</code>) 返回 -1。</td>
</tr>
</tbody>
</table>
<h2 id="赋值运算符">（3）赋值运算符</h2>
<p>表格实例中我们设置变量<span class="math inline">\(a为10，\)</span>b为20，这里的赋值其实就是一些运算符的缩写，例如<code>$c=$a+$c</code>，就可以缩写为<code>$c+=$a</code>，如下所示：</p>
<table>
<thead>
<tr class="header">
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>=</code></td>
<td>简单的赋值运算符，把右边操作数的值赋给左边操作数</td>
<td><code>$c = $a + $b</code> 将把 <code>$a + $b</code>的值赋给 <code>$c</code></td>
</tr>
<tr class="even">
<td><code>+=</code></td>
<td>加且赋值运算符，把右边操作数加上左边操作数的结果赋值给左边操作数</td>
<td><code>$c += $a</code> 相等于 <code>$c = $c + $a</code></td>
</tr>
<tr class="odd">
<td><code>-=</code></td>
<td>减且赋值运算符，把左边操作数减去右边操作数的结果赋值给左边操作数</td>
<td><code>$c -= $a</code> 相等于 <code>$c = $c - $a</code></td>
</tr>
<tr class="even">
<td><code>*=</code></td>
<td>乘且赋值运算符，把右边操作数乘以左边操作数的结果赋值给左边操作数</td>
<td><code>$c *= $a</code> 相等于 <code>$c = $c * $a</code></td>
</tr>
<tr class="odd">
<td><code>/=</code></td>
<td>除且赋值运算符，把左边操作数除以右边操作数的结果赋值给左边操作数</td>
<td><code>$c /= $a</code> 相等于 <code>$c = $c / $a</code></td>
</tr>
<tr class="even">
<td><code>%=</code></td>
<td>求模且赋值运算符，求两个操作数的模赋值给左边操作数</td>
<td><code>$c %= $a</code> 相等于 <code>$c = $c % a</code></td>
</tr>
<tr class="odd">
<td><code>**=</code></td>
<td>乘幂且赋值运算符，求两个操作数的乘幂赋值给左边操作数</td>
<td><code>$c **= $a</code> 相等于 <code>$c = $c ** $a</code></td>
</tr>
</tbody>
</table>
<h2 id="位运算">（4）位运算</h2>
<p>位运算符作用于位，并逐位执行操作。现在设置<code>$a = 60，$b = 13</code>，现在以二进制格式表示，它们如下所示：</p>
<table>
<colgroup>
<col width="5%">
<col width="47%">
<col width="47%">
</colgroup>
<thead>
<tr class="header">
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&amp;</td>
<td>如果同时存在于两个操作数中，二进制 AND 运算符复制一位到结果中。</td>
<td><code>($a &amp; $b)</code> 将得到 12，二进制为 0000 1100</td>
</tr>
<tr class="even">
<td>|</td>
<td>如果存在于任一操作数中，二进制 OR 运算符复制一位到结果中。</td>
<td><code>($a | $b)</code> 将得到 61 ，二进制为 0011 1101</td>
</tr>
<tr class="odd">
<td>^</td>
<td>如果存在于其中一个操作数中但不同时存在于两个操作数中，二进制异或运算符复制一位到结果中。</td>
<td><code>($a ^ $b)</code> 将得到 49，二进制为 0011 0001</td>
</tr>
<tr class="even">
<td>~</td>
<td>二进制补码运算符是一元运算符，具有“翻转”位效果，即0变成1，1变成0。</td>
<td><code>(~$a )</code> 将得到 -61 ，二进制为 1100 0011 ，一个有符号二进制数的补码形式。</td>
</tr>
<tr class="odd">
<td>&lt;&lt;</td>
<td>二进制左移运算符。左操作数的值向左移动右操作数指定的位数。</td>
<td><code>$a &lt;&lt; 2</code> 将得到 240 ，二进制为 1111 0000</td>
</tr>
<tr class="even">
<td>&gt;&gt;</td>
<td>二进制右移运算符。左操作数的值向右移动右操作数指定的位数。</td>
<td><code>$a &gt;&gt;  2</code>将得到 15 ，二进制为 0000 1111</td>
</tr>
</tbody>
</table>
<p>对于位运算，我不是特别了解，经检索，弄清楚了，现在画图说明一下：</p>
<h3 id="and运算">(4.1) AND运算（<code>&amp;</code>）</h3>
<p><code>&amp;</code>这个运算是AND（也叫“与”运算），两个二进制的数字，经过<code>&amp;</code>运算时，如果同一个位数上都是1，结果就是1，如果同一个位数上都是0，或者说是一个是0，一个是1，那么结果就是0，如下图所示：黄色表示同一位上都是0，蓝色表示，一个是0，一个是1，绿色则是所有位上都是1，那么<code>($a &amp; $b)</code>得到的二进制结果就是00001100，转换为十进制就是12。</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180518/HBK78AgmBi.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h3 id="or运算">(4.2)<code>OR</code>运算（<code>|</code>）</h3>
<p><code>|</code>这个运算是OR（也可以叫“或”运算），例如a是60，二进制是00111100，b是13，二进制是00001101，那么a与b经过<code>|</code>运算，只要它们两个相同位上的数字都不为0，也就是说，至少有一个位上是1，那么新生成的这个结果同一位上就是1，结果就是00111101，转换为10进制就是61，如下图所示，在绿色的方框中，1和1的结果是1，0和1，或者是1和1的结果是1，只有0和0的结果是0。</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180518/48IfAA3jk3.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h3 id="异或运算">(4.3)异或运算（<code>^</code>）</h3>
<p>比较两个数，然后返回一个结果，当两个输入数的同一位不同时就是1，如果相同就设为0，还是以下图为例说明，例如a是60，二进制是00111100，b是13，二进制是00001101，那么a与b经过<code>^</code>运算，只要它们两个相同位上的数字相同就是0，不同就是1，结果就是00110001，转换为10进制就是49，如下图所示： <img src="http://ortxpw68f.bkt.clouddn.com/professional/180518/CDc3aLj4Eg.png?imageslim" alt="mark"></p>
<h3 id="按位取反">(4.4)按位取反（~）</h3>
<p>取反（<code>~</code>）这个操作理解起来有点麻烦，还是以a=60为例说明一下，60对应的二进制是00111100，取反表示对一个数的每一位都取反，0变成1，1变成0，例如a是60，二进制是00111100，经过<code>~</code>操作，结果就成了11000011，它的最高位是1（最高位表示正负，0表示正数，1表示负数），取反后的最高位是1，因此是负数，也就是说，a这个变量经过取反后的结果是一个负数。</p>
<p>而负数在计算机内是以反码形式储存的（不要纠结什么是反码，总之是一种编码形式），因此60的二进制取反后的二进制是11000011，这个东西是反码，它不能直接转换为10进制，需要把反码再转换成原码的形式，反码转换为原码的公式为：反码=原码的二进制取反+1，因此原码的二进制取反为11000011-1=11000010，由于11000010的最高位是1，因此把1000010再取反（最高位的1不要动），即0111101，转换为10进制就是61，最高位是1，是负数，因此就是-61，后文的代码运算中就能够看出来：</p>
<p>因此，总结一下取反的操作：</p>
<ol style="list-style-type: decimal">
<li>第一步：对所有位取后，1变0，0变1；</li>
<li>第二步：观察最高倍数是否为1，如果是1，则这个数是负数，负数在计算机中是以反码的形式储存的；</li>
<li>第三步：运用公式，即反码减去1，此时是原码的取反后的值；</li>
<li>第四步：最高位的1不要动，对剩余的7个数字取反，得到原码。</li>
</ol>
<h3 id="按位左移">(4.5)按位左移（<code>&lt;&lt;</code>）</h3>
<p>将一个数的所有位向左移动指定的位数，例如a是60，它的进制是00111100，向左移2位，就成了0011110000，位数不够，用0来补充，转换为2进制就变成了240，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180518/bJDiE12E1I.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h3 id="按位右移">(4.5)按位右移（<code>&gt;&gt;</code>）</h3>
<p>将一个数的所有位向右移动指定的位数，例如a是60，它的进制是00111100，向右移2位，就成了001111，超出的部分直接舍弃，转换为2进制就变成了15，如下所示： <img src="http://ortxpw68f.bkt.clouddn.com/professional/180518/IKB7FHLD78.png?imageslim" alt="mark"></p>
<p>看下面的案例</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat bit.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"><span class="keyword">use</span> integer;</div><div class="line">$a=<span class="number">60</span>;</div><div class="line">$b=<span class="number">13</span>;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"\$a=$a,\$b=$b\n"</span>;</div><div class="line"></div><div class="line">$c=$a&amp;$b;</div><div class="line"><span class="keyword">print</span><span class="string">"\$a&amp;\$b=$c\n"</span>;</div><div class="line"></div><div class="line">$c=$a|$b;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$a|\$b=$c\n"</span>;</div><div class="line"></div><div class="line">$c=$a^$b;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$a^\$b=$c\n"</span>;</div><div class="line"></div><div class="line">$c= ~$a;</div><div class="line"><span class="comment"># 在这里需要注意一下，~符号与等号之间有一个空格</span></div><div class="line"><span class="keyword">print</span> <span class="string">"~\$a=$c\n"</span>;</div><div class="line"></div><div class="line">$c=$a&lt;&lt;<span class="number">2</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$a&lt;&lt;2=$c\n"</span>;</div><div class="line"></div><div class="line">$c=$a&gt;&gt;<span class="number">2</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$a&gt;&gt;2=$c\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl bit.pl </div><div class="line">$a=<span class="number">60</span>,$b=<span class="number">13</span></div><div class="line">$a&amp;$b=<span class="number">12</span></div><div class="line">$a|$b=<span class="number">61</span></div><div class="line">$a^$b=<span class="number">49</span></div><div class="line">~$a=-<span class="number">61</span></div><div class="line">$a&lt;&lt;<span class="number">2</span>=<span class="number">240</span></div><div class="line">$a&gt;&gt;<span class="number">2</span>=<span class="number">15</span></div></pre></td></tr></table></figure>
<h2 id="逻辑运算符">（5）逻辑运算符</h2>
<p>Perl的逻辑运算符如下表所示，例如我们设置变量<code>$a</code>为true,<code>$b</code>为false，下表的运算结果为：</p>
<table>
<colgroup>
<col width="7%">
<col width="64%">
<col width="28%">
</colgroup>
<thead>
<tr class="header">
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>and</td>
<td>逻辑与运算符符。如果两个操作数都为 true，则条件为 true。</td>
<td><code>($a and $b)</code> 为 false。</td>
</tr>
<tr class="even">
<td>&amp;&amp;</td>
<td>C 风格的逻辑与运算符符。如果两个操作数都为 true，则条件为 true</td>
<td><code>($a &amp;&amp; $b)</code> 为 false。</td>
</tr>
<tr class="odd">
<td>or</td>
<td>逻辑或运算符。如果两个操作数中有任意一个非零，则条件为 true。</td>
<td><code>($a or $b)</code> 为 true。</td>
</tr>
<tr class="even">
<td>||</td>
<td>C 风格逻辑或运算符。如果两个操作数中有任意一个非零，则条件为 true。</td>
<td><code>($a || $b)</code> 为 true。</td>
</tr>
<tr class="odd">
<td>not</td>
<td>逻辑非运算符。用来反转操作数的逻辑状态。如果条件为 true，则逻辑非运算符将使其为 false。</td>
<td><code>not($a and $b)</code> 为 true。</td>
</tr>
</tbody>
</table>
<h2 id="引号运算">（6）引号运算</h2>
<p>Perl引号运算符如下表所示：</p>
<table>
<thead>
<tr class="header">
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>q{ }</td>
<td>为字符串添加单引号</td>
<td>q{abcd} 结果为 ‘abcd’</td>
</tr>
<tr class="even">
<td>qq{ }</td>
<td>为字符串添加双引号</td>
<td>qq{abcd} 结果为 “abcd”</td>
</tr>
<tr class="odd">
<td>qx{ }</td>
<td>为字符串添加反引号</td>
<td>qx{abcd} 结果为 <code>abcd</code></td>
</tr>
</tbody>
</table>
<p>看一些案例，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat quote.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line">$b=<span class="string">q&#123;a=$a&#125;</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"q&#123;a=\$a&#125;=$b\n"</span>;</div><div class="line"></div><div class="line">$b=<span class="string">qq&#123;a=$a&#125;</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"qq&#123;a=\$a&#125;=$b\n"</span>;</div><div class="line"></div><div class="line">$t=<span class="string">qx&#123;date&#125;</span>;</div><div class="line"><span class="comment"># 这里其实就相当于调用了Linux的外部命令，即date这个命令</span></div><div class="line"><span class="keyword">print</span> <span class="string">"qx&#123;date&#125;=$t\n"</span>;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl quote.pl </div><div class="line"><span class="string">q&#123;a=$a&#125;</span>=a=$a</div><div class="line"><span class="string">qq&#123;a=$a&#125;</span>=a=<span class="number">10</span></div><div class="line"><span class="string">qx&#123;date&#125;</span>=Fri May <span class="number">18</span> <span class="number">05</span>:08:<span class="number">41</span> PDT <span class="number">2018</span></div></pre></td></tr></table></figure></p>
<h2 id="其他运算符">（7）其他运算符</h2>
<p>除了以上我们提到的运算符外，Perl 还支持以下运算符：</p>
<table>
<thead>
<tr class="header">
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>.</td>
<td>点号 (.) 用于连接两个字符串。</td>
<td>如果 <code>$a=&quot;run&quot;, $b=&quot;oob&quot;</code>， <code>$a.$b</code> 结果为 “runoob”</td>
</tr>
<tr class="even">
<td>x</td>
<td>x 运算符返回字符串重复的次数。</td>
<td><code>('-' x 3)</code> 输出为 <code>---</code>。</td>
</tr>
<tr class="odd">
<td>..</td>
<td>.. 为范围运算符。</td>
<td><code>(2..5)</code> 输出结果为 <code>(2, 3, 4, 5)</code></td>
</tr>
<tr class="even">
<td>++</td>
<td>自增运算符，整数值增加 1</td>
<td><code>$a =10, $a++</code> 输出为 11</td>
</tr>
<tr class="odd">
<td>–</td>
<td>自减运算符，整数值减少 1</td>
<td><code>$a =10, $a--</code> 输出为 9</td>
</tr>
<tr class="even">
<td>-&gt;</td>
<td>箭号用于指定一个类的方法</td>
<td><code>$obj-&gt;$a</code> 表示对象 <code>$obj</code> 的 <code>$a</code> 方法。</td>
</tr>
</tbody>
</table>
<h2 id="运算符的优先级">（8）运算符的优先级</h2>
<p>在Perl中，可以使用圆括号来改变执行优秀级，括号里面的运算都比括号外的优先，这与小学数学中的四则运算法则类似。但是还有一些操作很难判断优先级，例如字符串的连接和乘幂运算，下表是操作符的结合性与优先级，如下所示：</p>
<table>
<thead>
<tr class="header">
<th>运算符符</th>
<th>结合性</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>++, –</td>
<td>无</td>
</tr>
<tr class="even">
<td>-, ~, !</td>
<td>从右到左</td>
</tr>
<tr class="odd">
<td>**</td>
<td>从右到左</td>
</tr>
<tr class="even">
<td>=~, !~</td>
<td>从左到右</td>
</tr>
<tr class="odd">
<td>*, /, %, x</td>
<td>从左到右</td>
</tr>
<tr class="even">
<td>+, -, .</td>
<td>从左到右</td>
</tr>
<tr class="odd">
<td>&lt;&lt;, &gt;&gt;</td>
<td>从左到右</td>
</tr>
<tr class="even">
<td>-e, -r,</td>
<td>无</td>
</tr>
<tr class="odd">
<td>&lt;, &lt;=, &gt;, &gt;=, lt, le, gt, ge</td>
<td>从左到右</td>
</tr>
<tr class="even">
<td>==, !=, &lt;=&gt;, eq, ne, cmp</td>
<td>从左到右</td>
</tr>
<tr class="odd">
<td>&amp;</td>
<td>从左到右</td>
</tr>
<tr class="even">
<td>|, ^</td>
<td>从左到右</td>
</tr>
<tr class="odd">
<td>&amp;&amp;</td>
<td>从左到右</td>
</tr>
<tr class="even">
<td>||</td>
<td>从左到右</td>
</tr>
<tr class="odd">
<td>..</td>
<td>从左到右</td>
</tr>
<tr class="even">
<td>? and :</td>
<td>从右到左</td>
</tr>
<tr class="odd">
<td>=, +=, -=, *=,</td>
<td>从右到左</td>
</tr>
<tr class="even">
<td>其他</td>
<td></td>
</tr>
<tr class="odd">
<td>,</td>
<td>从左到右</td>
</tr>
<tr class="even">
<td>not</td>
<td>从左到右</td>
</tr>
<tr class="odd">
<td>and</td>
<td>从左到右</td>
</tr>
<tr class="even">
<td>or, xor</td>
<td>从左到右</td>
</tr>
</tbody>
</table>
<p>在这个表格里，任何操作符的优先级都高于列在它下方的所有操作符，低于列在它上方的所有操作符。|</p>
<h2 id="参考资料">参考资料</h2>
<p><a href="http://www.runoob.com/perl/perl-tutorial.html" target="_blank" rel="external">Perl教程|菜鸟教程</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/14/Perl学习笔记（3）-条件与循环语句/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/14/Perl学习笔记（3）-条件与循环语句/" itemprop="url">Perl学习笔记（３）-条件与循环语句以及错误处理</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-14T12:00:00+08:00">
                2018-05-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Perl/" itemprop="url" rel="index">
                    <span itemprop="name">Perl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  5,632
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  25
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言">(0)前言</h2>
<p>很多程序语言其实是比较类似的。基本上都有数据类型，循环结构，条件语句等内容。Perl也不例外。</p>
<h2 id="if语句">(1)if语句</h2>
<p>if语句由一个布尔表达式后跟一个或多个语句组成。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(boolean_expression)&#123;</div><div class="line">   表达式</div><div class="line">   <span class="comment"># 在布尔表达式 boolean_expression 为 true 执行</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果布尔表达式 boolean_expression为 true，则 if 语句内的代码块将被执行。如果布尔表达式为 false，则 if 语句结束后的第一组代码（闭括号后）将被执行，如下所示：</p>
<h3 id="if语句案例第一">if语句案例第一</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat if01.pl</div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a is less 20\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is: $a\n"</span>;</div><div class="line"></div><div class="line">$a=<span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"variable of a is true.\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl if01.pl</div><div class="line">a is less <span class="number">20</span></div><div class="line">The value of a is: <span class="number">10</span></div><div class="line">The value of a is</div></pre></td></tr></table></figure>
<h2 id="ifelse语句">(2)if…else语句</h2>
<p>一个if语句后可跟一个可选的else语句，else语句在布尔表达式为false时执行。语法语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(boolean_expression)&#123;    </div><div class="line">    表达式A;</div><div class="line">    <span class="comment"># 在布尔表达式 boolean_expression 为 true 执行 </span></div><div class="line">&#125;<span class="keyword">else</span>&#123;    </div><div class="line">    表达式B;</div><div class="line">    <span class="comment"># 在布尔表达式 boolean_expression 为 false 执行 </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果布尔表达式boolean_expression为true，则执行if块内的表达式A。如果布尔表达式为false，则执行else块内的表达式B，如下所示：</p>
<h3 id="ifelse语句案例1">if…else语句案例1：</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat ifelse01.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a = <span class="number">100</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a is less 20\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a is more 20\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line"></div><div class="line">$a = <span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"condition of a is true.\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"condition of a ls flase.\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl ifelse01.pl </div><div class="line">a is more <span class="number">20</span></div><div class="line">The value of a is <span class="number">100</span></div><div class="line">condition of a ls flase.</div><div class="line">The value of a is</div></pre></td></tr></table></figure>
<h3 id="三元运算符">三元运算符 <code>?：</code></h3>
<p>可以使用 条件运算 <code>? :</code>来简化<code>if...else</code>语句的操作。通常格式为：<code>Exp1 ? Exp2 : Exp3</code>；如果 Exp1 表达式为 true ，则返回 Exp2 表达式计算结果，否则返回 Exp3，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat ifelse02.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a = <span class="number">100</span>;</div><div class="line">$result=($a&lt;<span class="number">20</span>)?<span class="string">"a is less 20\n"</span>:<span class="string">"a is more 20\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$result\n"</span>;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl ifelse02.pl </div><div class="line">a is more <span class="number">20</span></div></pre></td></tr></table></figure>
<h2 id="ifelsifelse语句">(3)if…elsif…else语句</h2>
<p>一个if语句后可跟一个可选的elsif语句，然后再跟另一个else语句，这种条件判断语句在多个条件的情况下非常有用，在使用if,elsif,else语句时你需要注意以下几点：</p>
<ol style="list-style-type: decimal">
<li>if语句后可以跟上0个或1个else语句，但是elsif后面必须有else语句。</li>
<li>if语句后可以跟上0个或1个elsif语句，但它们必须写在else语句前。</li>
<li>如果其中的一个elsif执行成功，其他的elsif和else将不再被执行。</li>
</ol>
<p>语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(boolean_expression1)&#123;</div><div class="line">   表达式A</div><div class="line">   <span class="comment">#在布尔表达式boolean_expression1为true执行A</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">elsif</span>(boolean_expression2)&#123;</div><div class="line">   表达式B</div><div class="line">   <span class="comment">#在布尔表达式boolean_expression2为true执行B</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">elsif</span>(boolean_expression3)&#123;</div><div class="line">   表达式C</div><div class="line">   <span class="comment">#在布尔表达式boolean_expression3为true执行C</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span>&#123;</div><div class="line">   表达式D</div><div class="line">   <span class="comment">#布尔表达式的条件都为false时执行D</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ifelsif案例1">if…elsif案例1:</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat ifelsif.pl</div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">$a=<span class="number">100</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a==<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is 20\n"</span>;</div><div class="line">&#125;<span class="keyword">elsif</span>($a==<span class="number">30</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is 30\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl ifelsif.pl </div><div class="line">The value of a is <span class="number">100</span></div></pre></td></tr></table></figure>
<h2 id="unless语句">(4)unless语句</h2>
<p>一个unless语句由一个布尔表达式后跟一个或多个语句组成。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">unless</span>(boolean_expression)&#123;</div><div class="line">    表达式A</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression为false执行A</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="unless使用案例1">unless使用案例1:</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat unless.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">120</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a is more or equeal 20\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line"></div><div class="line">$a=<span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The condition of a is false\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl unless.pl </div><div class="line">a is more <span class="keyword">or</span> equeal <span class="number">20</span></div><div class="line">The value of a is <span class="number">120</span></div><div class="line">The condition of a is false</div><div class="line">The value of a is</div></pre></td></tr></table></figure>
<h2 id="unlesselse语句">(5)unless…else语句</h2>
<p>一个unless语句后可跟一个可选的else语句，else语句在布尔表达式为true时执行。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">unless</span>(boolean_expression)&#123;</div><div class="line">    表达式A</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression为false执行A</span></div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    表达式B</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression为true执行B</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果布尔表达式boolean_expression为false，则执行unless块内的代码。如果布尔表达式为true，则执行else块内的代码。</p>
<h3 id="unlesselse使用案例1">unless…else使用案例1:</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat unlessif.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">100</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a==<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The condition given is false\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The conditoin given is true\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line"></div><div class="line">$a=<span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The condition of a given is false\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The conditoin of a given is true\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"THe value of a is $a\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl unlessif.pl </div><div class="line">The condition <span class="keyword">given</span> is false</div><div class="line">The value of a is <span class="number">100</span></div><div class="line">The condition of a <span class="keyword">given</span> is false</div><div class="line">THe value of a is</div></pre></td></tr></table></figure>
<h2 id="unlesselsifelse-statement">(6)unless…elsif…else statement</h2>
<p>一个unless语句后可跟一个可选的elsif语句，然后再跟另一个else语句，这种条件判断语句在多个条件的情况下非常有用。 在使用unless,elsif,else语句时你需要注意以下几点。</p>
<ol style="list-style-type: decimal">
<li>unless语句后可以跟上0个或1个else语句，但是elsif后面必须有else语句。</li>
<li>unless语句后可以跟上0个或1个elsif语句，但它们必须写在else语句前。</li>
<li>如果其中的一个elsif执行成功，其他的elsif和else将不再被执行。</li>
</ol>
<p>它的使用格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">unless</span>(boolean_expression1)&#123;</div><div class="line">    表达式A</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression1为false执行A</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">elsif</span>(boolean_expression2)&#123;</div><div class="line">    表达式B</div><div class="line"><span class="comment">#在布尔表达式boolean_expression2为true执行B</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">elsif</span>(boolean_expression3)&#123;</div><div class="line">    表达式C</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression3为true执行C</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span>&#123;</div><div class="line">    表达式A</div><div class="line">    <span class="comment">#没有条件匹配时执行D</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="unlesselsifelse-statement使用案例">unless…elsif…else statement使用案例</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat unless03.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">20</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a==<span class="number">30</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The vlaue of a is not 30\n"</span>;</div><div class="line">&#125;<span class="keyword">elsif</span>($a==<span class="number">30</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is 30\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl unless03.pl </div><div class="line">The vlaue of a is <span class="keyword">not</span> <span class="number">30</span></div></pre></td></tr></table></figure>
<h2 id="switch">(7)switch</h2>
<p>一个switch语句允许测试一个变量等于多个值时的情况。每个值称为一个case，且被测试的变量会对每个switch case进行检查。 switch case执行是基于<code>Switch</code>模块，<code>Switch</code>模块使用<code>Filter::Util::Call</code>和<code>Text::Balanced</code>来执行，这两个模块都需要安装。</p>
<p>switch的格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">use</span> Switch;</div><div class="line"> </div><div class="line">switch(argument)&#123;</div><div class="line">   case <span class="number">1</span>            &#123; <span class="keyword">print</span> <span class="string">"数字 1"</span> &#125;</div><div class="line">   case <span class="string">"a"</span>          &#123; <span class="keyword">print</span> <span class="string">"字符串 a"</span> &#125;</div><div class="line">   case [<span class="number">1</span>..<span class="number">10</span>,<span class="number">42</span>]   &#123; <span class="keyword">print</span> <span class="string">"数字在列表中"</span> &#125;</div><div class="line">   case (\@array)    &#123; <span class="keyword">print</span> <span class="string">"数字在数组中"</span> &#125;</div><div class="line">   case /\w+<span class="regexp">/        &#123; print "正则匹配模式" &#125;</span></div><div class="line"><span class="regexp">   case qr/</span>\w+<span class="regexp">/      &#123; print "正则匹配模式" &#125;</span></div><div class="line"><span class="regexp">   case (\%hash)     &#123; print "哈希" &#125;</span></div><div class="line"><span class="regexp">   case (\&amp;sub)      &#123; print "子进程" &#125;</span></div><div class="line"><span class="regexp">   else              &#123; print "不匹配之前的条件" &#125;</span></div><div class="line"><span class="regexp">&#125;</span></div></pre></td></tr></table></figure>
<p>以下是switch语句的规则:</p>
<ol style="list-style-type: decimal">
<li>switch语句的括号中可以使用任意类型的标量参数。</li>
<li>在一个switch中可以有任意数量的case语句。每个case后跟一个要比较的值和一个冒号。</li>
<li>case语句后的标量会与switch语句的标量进行比较，判断是否相等。</li>
<li>当被测试的变量等于case中的常量时，case后跟的语句将被执行，直到遇到break语句为止。</li>
<li>switch语句可以有一个可选的else,该语句在最后面，该语句在所有case不匹配的情况下执行。</li>
<li>当匹配case后，会执行case语句块代码，执行后跳出switch语句。</li>
<li>当匹配case后，如果我们需要继续执行接下来的case语句，则需要添加next语句。</li>
</ol>
<h3 id="switch使用案例">switch使用案例</h3>
<p>代码如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat switch01.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">use</span> Switch;</div><div class="line"></div><div class="line">$var=<span class="number">10</span>;</div><div class="line">@array=(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>);</div><div class="line">%hash=(<span class="string">'key1'</span>=&gt;<span class="number">10</span>,<span class="string">'key2'</span>=&gt;<span class="number">20</span>);</div><div class="line"></div><div class="line">switch($var)&#123;</div><div class="line">    case <span class="number">10</span>            &#123;<span class="keyword">print</span> <span class="string">"Number 10\n"</span>;<span class="keyword">next</span>;&#125;</div><div class="line">    case <span class="string">"a"</span>           &#123;<span class="keyword">print</span> <span class="string">"string a "</span>&#125;</div><div class="line">    case [<span class="number">1</span>..<span class="number">10</span>,<span class="number">42</span>]    &#123;<span class="keyword">print</span> <span class="string">"Number in list"</span>&#125;</div><div class="line">    case (\@array)     &#123;<span class="keyword">print</span> <span class="string">"Number in array"</span>&#125;</div><div class="line">    case (\%hash)      &#123;<span class="keyword">print</span> <span class="string">"In hash"</span>&#125;</div><div class="line">    <span class="keyword">else</span>               &#123;<span class="keyword">print</span> <span class="string">"There is no matching condition"</span>&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl switch01.pl </div><div class="line">Can<span class="string">'t locate Switch.pm in @INC (you may need to install the Switch module) (@INC contains: /home/biotest/miniconda2/lib/perl5/site_perl/5.22.0/x86_64-linux-thread-multi /home/biotest/miniconda2/lib/perl5/site_perl/5.22.0 /home/biotest/miniconda2/lib/perl5/5.22.0/x86_64-linux-thread-multi /home/biotest/miniconda2/lib/perl5/5.22.0 .) at switch01.pl line 3.</span></div><div class="line"><span class="string">BEGIN failed--compilation aborted at switch01.pl line 3.</span></div></pre></td></tr></table></figure>
<p>从结果来看，这是因为Perl没有安装Switch模块，<code>Filter::Util::Call</code>和<code>Text::Balanced</code>接着需要安装这个模块，代码如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">perl -MCPAN -e shell <span class="comment">#进入cpan</span></div><div class="line">install Switch</div><div class="line">install Filter::Util::Call</div><div class="line">install Text::Balanced</div></pre></td></tr></table></figure>
<p>安装后，继续运行，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl switch01.pl </div><div class="line">Number <span class="number">10</span></div><div class="line">Number in list</div></pre></td></tr></table></figure>
<h2 id="while循环">(8)while循环</h2>
<p>有的时候，我们可能需要多次执行同一块代码。一般情况下，语句是按顺序执行的：函数中的第一个语句先执行，接着是第二个语句，依此类推。编程语言提供了更为复杂执行路径的多种控制结构。Perl中有while循环，until循环，for循环。 while语句在给定条件为true时，重复执行语句或语句组，循环主体执行之前会先测试条件。 while循环的语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span>(condition)</div><div class="line">&#123;</div><div class="line"> statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在这里，statement(s)可以是一个单独的语句，也可以是几个语句组成的代码块。condition可以是任意的表达式，当为任意非零值时都为true。当条件为true时执行循环。当条件为false时，程序流将继续执行紧接着循环的下一条语句。</p>
<h3 id="while循环案例使用">while循环案例使用</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat while.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line"><span class="comment">#execute while loop</span></div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">     <span class="keyword">printf</span> <span class="string">"The value of a is:  $a\n"</span>;</div><div class="line">     $a=$a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl while.pl </div><div class="line">The value of a is:  <span class="number">10</span></div><div class="line">The value of a is:  <span class="number">11</span></div><div class="line">The value of a is:  <span class="number">12</span></div><div class="line">The value of a is:  <span class="number">13</span></div><div class="line">The value of a is:  <span class="number">14</span></div><div class="line">The value of a is:  <span class="number">15</span></div><div class="line">The value of a is:  <span class="number">16</span></div><div class="line">The value of a is:  <span class="number">17</span></div><div class="line">The value of a is:  <span class="number">18</span></div><div class="line">The value of a is:  <span class="number">19</span></div></pre></td></tr></table></figure>
<p>程序中在变量a小于20时执行循环体，在变量a大于等于20时，退出循环。</p>
<h2 id="until循环">(8)until循环</h2>
<p>until语句在给定条件为false时，重复执行语句或语句组。语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">until</span>(condition)</div><div class="line">&#123;</div><div class="line"> statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在这里，statement(s)可以是一个单独的语句，也可以是几个语句组成的代码块。condition可以是任意的表达式，当条件为false时执行循环。当条件为true时，程序流将继续执行紧接着循环的下一条语句。</p>
<h3 id="until循环案例">until循环案例</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat until.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">$a=<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">until</span>($a&gt;<span class="number">10</span>)&#123;</div><div class="line">    <span class="keyword">printf</span> <span class="string">"The value of a is: $a\n"</span>;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl until.pl </div><div class="line">The value of a is: <span class="number">5</span></div><div class="line">The value of a is: <span class="number">6</span></div><div class="line">The value of a is: <span class="number">7</span></div><div class="line">The value of a is: <span class="number">8</span></div><div class="line">The value of a is: <span class="number">9</span></div><div class="line">The value of a is: <span class="number">10</span></div></pre></td></tr></table></figure>
<p>程序中在变量<code>$a</code>小于10时执行循环体，在变量<code>$a</code>大于等于10时，退出循环。</p>
<h2 id="for循环">(9)for循环</h2>
<p>for循环用于多次执行一个语句序列，简化管理循环变量的代码。语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(init;condition;increment)&#123;</div><div class="line"> statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>下面是for循环的控制流程解析： 1. init会首先被执行，且只会执行一次。这一步允许您声明并初始化任何循环控制变量。您也可以不在这里写任何语句，只要有一个分号出现即可。 2. 接下来，会判断condition。如果为true，则执行循环主体。如果为false，则不执行循环主体，且控制流会跳转到紧接着for循环的下一条语句。 在执行完for循环主体后，控制流会跳回上面的increment语句。该语句允许您更新循环控制变量。该语句可以留空，只要在条件后有一个分号出现即可。 3. 条件再次被判断。如果为true，则执行循环，这个过程会不断重复（循环主体，然后增加步值，再然后重新判断条件）。在条件变为false时，for循环终止。 4. 在这里，statement(s)可以是一个单独的语句，也可以是几个语句组成的代码块。condition可以是任意的表达式，当条件为false时执行循环。 当条件为true时，程序流将继续执行紧接着循环的下一条语句。</p>
<h3 id="for循环案例">for循环案例</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat for.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>($a=<span class="number">1</span>;$a&lt;<span class="number">10</span>;$a=$a+<span class="number">1</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is: $a\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl for.pl </div><div class="line">The value of a is: <span class="number">1</span></div><div class="line">The value of a is: <span class="number">2</span></div><div class="line">The value of a is: <span class="number">3</span></div><div class="line">The value of a is: <span class="number">4</span></div><div class="line">The value of a is: <span class="number">5</span></div><div class="line">The value of a is: <span class="number">6</span></div><div class="line">The value of a is: <span class="number">7</span></div><div class="line">The value of a is: <span class="number">8</span></div><div class="line">The value of a is: <span class="number">9</span></div></pre></td></tr></table></figure>
<h2 id="foreach循环">(10)foreach循环</h2>
<p>foreach循环用于迭代一个列表或集合变量的值。语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">foreach</span> var (list) &#123;</div><div class="line">...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="foreach循环案例">foreach循环案例</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat foreach.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@list=(<span class="number">2</span>,<span class="number">12</span>,<span class="number">36</span>,<span class="number">42</span>,<span class="number">51</span>);</div><div class="line"></div><div class="line"><span class="keyword">foreach</span> $a(@list)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a : $a\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl foreach.pl </div><div class="line">The value of a : <span class="number">2</span></div><div class="line">The value of a : <span class="number">12</span></div><div class="line">The value of a : <span class="number">36</span></div><div class="line">The value of a : <span class="number">42</span></div><div class="line">The value of a : <span class="number">51</span></div></pre></td></tr></table></figure>
<h2 id="dowhile循环">(11)do…while循环</h2>
<p>do…while循环是在循环的尾部检查它的条件。do…while循环与while循环类似，但是do…while循环会确保至少执行一次循环。语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">do</span></div><div class="line">&#123;</div><div class="line"> statement(<span class="keyword">s</span>);</div><div class="line">&#125;<span class="keyword">while</span>(condition);</div></pre></td></tr></table></figure></p>
<p>请注意，条件表达式出现在循环的尾部，所以循环中的statement(s)会在条件被测试之前至少执行一次。 如果条件为true，控制流会跳转回上面的do，然后重新执行循环中的statement(s)。这个过程会不断重复，直到给定条件变为false为止。</p>
<h3 id="dowhile案例使用">do…while案例使用</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat dowhile.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">do</span>&#123;</div><div class="line">    <span class="keyword">printf</span> <span class="string">"The value of a is:  $a\n"</span>;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;<span class="keyword">while</span>($a&lt;<span class="number">15</span>);</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl dowhile.pl </div><div class="line">The value of a is:  <span class="number">10</span></div><div class="line">The value of a is:  <span class="number">11</span></div><div class="line">The value of a is:  <span class="number">12</span></div><div class="line">The value of a is:  <span class="number">13</span></div><div class="line">The value of a is:  <span class="number">14</span></div></pre></td></tr></table></figure>
<h2 id="循环嵌套">(12)循环嵌套</h2>
<p>Perl语言允许在一个循环内使用另一个循环，下面演示几个实例来说明这个概念。</p>
<h3 id="嵌套for循环语句的语法">(12.1)嵌套for循环语句的语法</h3>
<p>格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> ( init; condition; increment )&#123;</div><div class="line">   <span class="keyword">for</span> ( init; condition; increment )&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="while循环嵌套">(12.2)while循环嵌套</h3>
<p>使用格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span>(condition)&#123;</div><div class="line">   <span class="keyword">while</span>(condition)&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>使用案例 <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat while2.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">0</span>;</div><div class="line">$b=<span class="number">0</span>;;</div><div class="line"></div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">3</span>)&#123;</div><div class="line">    $b=<span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>($b&lt;<span class="number">3</span>)&#123;</div><div class="line">         <span class="keyword">print</span> <span class="string">"a=$a,b=$b\n"</span>;</div><div class="line">         $b=$b+<span class="number">1</span>;</div><div class="line">     &#125;</div><div class="line">     $a=$a+<span class="number">1</span>;</div><div class="line">     <span class="keyword">print</span> <span class="string">"a=$a\n\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl while2.pl </div><div class="line">a=<span class="number">0</span>,b=<span class="number">0</span></div><div class="line">a=<span class="number">0</span>,b=<span class="number">1</span></div><div class="line">a=<span class="number">0</span>,b=<span class="number">2</span></div><div class="line">a=<span class="number">1</span></div><div class="line"></div><div class="line">a=<span class="number">1</span>,b=<span class="number">0</span></div><div class="line">a=<span class="number">1</span>,b=<span class="number">1</span></div><div class="line">a=<span class="number">1</span>,b=<span class="number">2</span></div><div class="line">a=<span class="number">2</span></div><div class="line"></div><div class="line">a=<span class="number">2</span>,b=<span class="number">0</span></div><div class="line">a=<span class="number">2</span>,b=<span class="number">1</span></div><div class="line">a=<span class="number">2</span>,b=<span class="number">2</span></div><div class="line">a=<span class="number">3</span></div></pre></td></tr></table></figure></p>
<h3 id="dowhile循环嵌套">(13.3)do…while循环嵌套</h3>
<p>格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">do</span>&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">   <span class="keyword">do</span>&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;<span class="keyword">while</span>( condition );</div><div class="line"></div><div class="line">&#125;<span class="keyword">while</span>( condition );</div></pre></td></tr></table></figure></p>
<h3 id="until循环嵌套">(13.4)until循环嵌套</h3>
<p>格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">until</span>(condition)&#123;</div><div class="line">   <span class="keyword">until</span>(condition)&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="foreach循环嵌套">(13.5)foreach循环嵌套</h3>
<p>格式如下： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">foreach</span> $a (@listA)&#123;</div><div class="line">   <span class="keyword">foreach</span> $b (@listB)&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="循环控制语句">(13)循环控制语句</h2>
<p>循环控制语句改变了代码的执行顺序，通过它你可以实现代码的跳转，Perl中的循环控制语句有这些：</p>
<table style="width:100%;">
<colgroup>
<col width="18%">
<col width="81%">
</colgroup>
<thead>
<tr class="header">
<th>控制语句</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>next 语句</td>
<td>停止执行从next语句的下一语句开始到循环体结束标识符之间的语句，转去执行continue语句块，然后再返回到循环体的起始处开始执行下一次循环。</td>
</tr>
<tr class="even">
<td>last 语句</td>
<td>退出循环语句块，从而结束循环</td>
</tr>
<tr class="odd">
<td>continue 语句</td>
<td>continue 语句块通常在条件语句再次判断前执行。</td>
</tr>
<tr class="even">
<td>redo 语句</td>
<td>redo 语句直接转到循环体的第一行开始重复执行本次循环，redo语句之后的语句不再执行，continue语句块也不再执行；</td>
</tr>
<tr class="odd">
<td>goto 语句</td>
<td>Perl 有三种 goto 形式：got LABLE，goto EXPR，和 goto &amp;NAME。</td>
</tr>
</tbody>
</table>
<h3 id="next语句">(13.1) next语句</h3>
<p>next语句用于停止执行从next语句的下一语句开始到循环体结束标识符之间的语句，转去执行continue语句块，然后再返回到循环体的起始处开始执行下一次循环。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">next</span>[LABEL];</div></pre></td></tr></table></figure>
<p>其中LABEL是可选的，如果没有指定LABEL，next语句将返回到循环体的起始处开始执行下一次循环，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat next.pl</div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">if</span>($a==<span class="number">15</span>)</div><div class="line">    &#123;</div><div class="line">       <span class="comment"># jump loop</span></div><div class="line">       $a=$a+<span class="number">1</span>;</div><div class="line">       <span class="keyword">next</span>;</div><div class="line">     &#125;</div><div class="line">     <span class="keyword">print</span> <span class="string">"The value of a is: $a\n"</span>;</div><div class="line">     $a = $a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl next.pl </div><div class="line">The value of a is: <span class="number">10</span></div><div class="line">The value of a is: <span class="number">11</span></div><div class="line">The value of a is: <span class="number">12</span></div><div class="line">The value of a is: <span class="number">13</span></div><div class="line">The value of a is: <span class="number">14</span></div><div class="line">The value of a is: <span class="number">16</span></div><div class="line">The value of a is: <span class="number">17</span></div><div class="line">The value of a is: <span class="number">18</span></div><div class="line">The value of a is: <span class="number">19</span></div></pre></td></tr></table></figure>
<p>从结果可以看出，如果a等于15了，就跳出这个循环。</p>
<h3 id="last语句">(13.2) last语句</h3>
<p>last 语句用于退出循环语句块，从而结束循环，last语句之后的语句不再执行，continue语句块也不再执行。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">last</span> [LABEL];</div></pre></td></tr></table></figure>
<p>案例如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure></p>
<h3 id="continue">(13.3)continue</h3>
<p>continue块通常在条件语句再次判断前执行。continue语句可用在while和foreach循环中。 while循环中continue语句语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span>(condition)&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>foreach循环中continue语句语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">foreach</span> $a (@listA)&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>while中的continue使用案例如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat continue.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">3</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a=$a\n"</span>;</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl continue.pl </div><div class="line">a=<span class="number">0</span></div><div class="line">a=<span class="number">1</span></div><div class="line">a=<span class="number">2</span></div></pre></td></tr></table></figure>
<p>foreach中的continue使用如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat continue2.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@list=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</div><div class="line"><span class="keyword">foreach</span> $a(@list)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a=$a\n"</span>;</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">    <span class="keyword">last</span> <span class="keyword">if</span> $a==<span class="number">4</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl continue2.pl </div><div class="line">a=<span class="number">1</span></div><div class="line">a=<span class="number">2</span></div><div class="line">a=<span class="number">3</span></div><div class="line">a=<span class="number">4</span></div></pre></td></tr></table></figure>
<h3 id="redo语句">(13.4)0redo语句</h3>
<p>redo语句直接转到循环体的第一行开始重复执行本次循环，redo语句之后的语句不再执行，continue语句块也不再执行。continue语句可用在while和foreach循环中。 语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">redo</span> [LABEL]</div></pre></td></tr></table></figure>
<p>其中LABEL是可选的。带标号修饰符LABEL的redo语句表示把循环控制流程直接转到与标号修饰符LABEL相关联的语句块的第一行处开始执行，而不再执行redo语句之后的语句和continue语句块；不带标号修饰符LABEL的redo语句表示把循环控制流程直接转到当前语句块的第一行处开始执行，而不再执行redo语句之后的语句和continue语句块；如果是在for循环中或者是带有continue语句块，则for循环中的递增列表和continue语句块都不再被执行，看下面的案例：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat redo.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">10</span>)&#123;</div><div class="line">    <span class="keyword">if</span>($a==<span class="number">5</span>)&#123;</div><div class="line">      $a=$a+<span class="number">1</span>;</div><div class="line">      <span class="keyword">redo</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a=$a\n"</span>;</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl redo.pl </div><div class="line">a=<span class="number">0</span></div><div class="line">a=<span class="number">1</span></div><div class="line">a=<span class="number">2</span></div><div class="line">a=<span class="number">3</span></div><div class="line">a=<span class="number">4</span></div><div class="line">a=<span class="number">6</span></div><div class="line">a=<span class="number">7</span></div><div class="line">a=<span class="number">8</span></div><div class="line">a=<span class="number">9</span></div></pre></td></tr></table></figure>
<p>从结果来看，当a=5时，重新转到第一行运行。</p>
<h3 id="goto语句">(13.5)goto语句</h3>
<p>Perl 有三种 goto 形式：got LABLE，goto EXPR，和 goto &amp;NAME，如下所示：</p>
<table>
<thead>
<tr class="header">
<th>序号</th>
<th>goto 类型</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>goto LABEL-找出标记为 LABEL 的语句并且从那里重新执行。</td>
</tr>
<tr class="even">
<td>2</td>
<td>goto EXPR-goto EXPR 形式只是 goto LABEL 的一般形式。它期待表达式生成一个标记名称，并跳到该标记处执行。</td>
</tr>
<tr class="odd">
<td>3</td>
<td>goto &amp;NAME-它把正 在运行着的子进程替换为一个已命名子进程的调用。</td>
</tr>
</tbody>
</table>
<p>语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">goto</span> LABEL</div><div class="line">或</div><div class="line"><span class="keyword">goto</span> EXPR</div><div class="line">或</div><div class="line"><span class="keyword">goto</span> &amp;NAME</div></pre></td></tr></table></figure>
<p>使用案例如下所示：</p>
<p>在下面的这个案例中，当a=15时，跳出循环，进入<code>LOOP</code>这个标签处，此时a=16，继续循环。</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<p>下面的这个案例使用了goto EXPR的形式，它其实就是上一下案例的变形，只是中间的LABEL变成了一个表达式，本质还是一样的，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat gotoexpr.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line">$str1=<span class="string">"LO"</span>;</div><div class="line">$str2=<span class="string">"OP"</span>;</div><div class="line"></div><div class="line">LOOP:<span class="keyword">do</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>($a==<span class="number">15</span>)&#123;</div><div class="line">        $a=$a+<span class="number">1</span>;</div><div class="line">        <span class="keyword">goto</span> $str1.$str2; <span class="comment"># this is similar to goto LOOP</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a=$a\n"</span>;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;<span class="keyword">while</span>($a&lt;<span class="number">20</span>);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl gotoexpr.pl </div><div class="line">a=<span class="number">10</span></div><div class="line">a=<span class="number">11</span></div><div class="line">a=<span class="number">12</span></div><div class="line">a=<span class="number">13</span></div><div class="line">a=<span class="number">14</span></div><div class="line">a=<span class="number">16</span></div><div class="line">a=<span class="number">17</span></div><div class="line">a=<span class="number">18</span></div><div class="line">a=<span class="number">19</span></div></pre></td></tr></table></figure>
<h2 id="错误处理">(14)错误处理</h2>
<p>程序运行过程中，总会碰到各式各样的错误，比如打开一个不存在的文件。程序运行过程中如果出现错误就会停止，我们就需要使用一些检测方法来避免错误，从而防止程序退出。</p>
<h3 id="if语句判断错误">(14.1) if语句判断错误</h3>
<p>if语句可以用于判断返回值，使用格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(<span class="keyword">open</span>(DATA, $file))&#123;</div><div class="line">   ...</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">   <span class="keyword">die</span> <span class="string">"Error:Can not open file - $!"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果文件打不开，就会返回错误信息，错误信息包含在变量<code>$!</code>中，上述代码也可以简化为以下的代码：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">open</span>(DATA,$file)||<span class="keyword">die</span> <span class="string">"Error:Can not open file - $!"</span>;</div></pre></td></tr></table></figure>
<h3 id="unless函数判断错误">(14.2)unless函数判断错误</h3>
<p>unless函数与if相反，只有在表达式返回false时才会执行，使用方法如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">unless</span>(<span class="keyword">chdir</span>(<span class="string">"/etc"</span>)&#123;</div><div class="line">    <span class="keyword">die</span> <span class="string">"Error: Can not open directionary-$!"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>同样也可以简写为：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">die</span> <span class="string">"Error:Can not open directionary-$!"</span>;</div></pre></td></tr></table></figure>
<p>以上错误信息只有在目录切换出现错误的情况下才会出现。</p>
<h3 id="三元运算符-1">(14.3)三元运算符</h3>
<p>以下是三元运算符的使用案例：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span>(<span class="keyword">exists</span>($hash<span class="string">&#123;value&#125;</span>)?<span class="string">'Exist'</span>:<span class="string">'No Exist'</span>,<span class="string">"\n"</span>);</div></pre></td></tr></table></figure>
<p><code>exists</code>函数用于判断hash里面有没有对应的key，如果存在，返回True，不存在返回False。三元运算符的基本格式就是格式为<code>表达式 ? 值一 : 值二。</code></p>
<h3 id="warn函数">(14.4)warn函数</h3>
<p>warn函数用于触发一个警告信息，不会有其他操作，输出到STDERR(标准输出文件)，通常用于给用户提示，使用方法如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">chdir</span>(<span class="string">'/etc'</span>) <span class="keyword">or</span> <span class="keyword">warn</span> <span class="string">"Can not change directionary"</span>;</div></pre></td></tr></table></figure></p>
<h3 id="die函数">(14.5)die函数</h3>
<p>die函数类似于warn, 但它会执行退出。一般用作错误信息的输出，使用方法如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">chdir</span>(<span class="string">'/etc'</span>) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can not change directionary"</span>;</div></pre></td></tr></table></figure>
<h3 id="carp模块">(14.6)Carp模块</h3>
<p>在Perl脚本中，报告错误的常用方法是使用<code>warn()</code>或<code>die()</code>函数来报告或产生错误。而对于<code>Carp</code>模块，它可以对产生的消息提供额外级别的控制，尤其是在模块内部。标准<code>Carp模块</code>提供了<code>warn()</code>和<code>die()</code>函数的替代方法，它们在提供错误定位方面提供更多信息，而且更加友好。当在模块中使用时，错误消息中包含模块名称和行号。</p>
<h4 id="carp函数">(14.6.1) carp函数</h4>
<p><code>carp</code>函数可以输出程序的跟踪信息，类似于<code>warn</code>函数，通常会将该信息发送到<code>STDERR</code>，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat carp.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">package</span> T;</div><div class="line"></div><div class="line"><span class="keyword">require</span> Exporter;</div><div class="line">@ISA=<span class="keyword">qw</span>/Exporter/;</div><div class="line">@EXPORT=<span class="keyword">qw</span>/function/;</div><div class="line"><span class="keyword">use</span> Carp;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">function</span></span>&#123;</div><div class="line">    carp <span class="string">"Error in module!"</span>;</div><div class="line">&#125;</div><div class="line"><span class="number">1</span>;</div><div class="line"><span class="keyword">use</span> T;</div><div class="line">function();</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl carp.pl</div><div class="line">Can<span class="string">'t locate T.pm in @INC (you may need to install the T module) (@INC contains: /home/biotest/miniconda2/lib/perl5/site_perl/5.22.0/x86_64-linux-thread-multi /home/biotest/miniconda2/lib/perl5/site_perl/5.22.0 /home/biotest/miniconda2/lib/perl5/5.22.0/x86_64-linux-thread-multi /home/biotest/miniconda2/lib/perl5/5.22.0 .) at carp.pl line 14.</span></div><div class="line"><span class="string">BEGIN failed--compilation aborted at carp.pl line 14.</span></div></pre></td></tr></table></figure>
<p>Carp模块里面好多代码不懂，先空起来，有空再来补充笔记。</p>
<h2 id="参考资料">参考资料</h2>
<p><a href="http://www.runoob.com/perl/perl-tutorial.html" target="_blank" rel="external">Perl教程|菜鸟教程</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/13/Perl学习笔记（2）-数据、变量/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/13/Perl学习笔记（2）-数据、变量/" itemprop="url">Perl学习笔记（2）-变量、数据</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-13T12:00:00+08:00">
                2018-05-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Perl/" itemprop="url" rel="index">
                    <span itemprop="name">Perl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  6,553
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  28
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="perl的数据类型总览">Perl的数据类型总览</h2>
<p>Perl 是一种弱类型语言，所以变量不需要指定类型，Perl 解释器会根据上下文自动选择匹配类型。Perl 有三个基本的数据类型：标量、数组、哈希。</p>
<h2 id="标量scalar">标量（scalar）</h2>
<p>标量是Perl语言中最基本的一种数据类型。这种数据类型的变量可以是数字，字符串，浮点数，八进制等，不作严格的区分。在使用时在变量的名字前面加上一个<code>$</code>表示是标量。如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$myfirst=<span class="number">123</span>;　    <span class="comment">#数字123　</span></div><div class="line">$mysecond=<span class="string">"123"</span>;   <span class="comment">#字符串123</span></div></pre></td></tr></table></figure>
<p>我不是太能理解标量的含义，我猜测可能是因为Perl擅长处理文本，而把一些最基本的符号，例如数字，字符串，浮点数都当作是一个东西，这样比较容易达到目的，毕竟Perl设计的初衷并不是为了处理一些数据。因此对于标量的理解，就把它当作是组成文本的最基本单位就行了。</p>
<h3 id="define函数判断变量的定义">define函数判断变量的定义</h3>
<p>如果未定义变量，那么这个变量就会赋予<code>undef</code>的值，它不是数字，也不是字符串，有时候也会被当作数字0，使用<code>defined</code>函数会知道一个变量是否被定义了，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ cat define.pl </div><div class="line"><span class="comment">#!/usr/bin/perl -w</span></div><div class="line"></div><div class="line">$var = <span class="keyword">undef</span>;</div><div class="line"><span class="keyword">print</span> ($var);</div><div class="line"><span class="keyword">if</span> (<span class="keyword">defined</span>($var))&#123;</div><div class="line">    <span class="keyword">print</span>(<span class="string">"definded!\n"</span>);</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line"><span class="keyword">print</span>(<span class="string">"undefined!\n"</span>);</div><div class="line">&#125;</div><div class="line"></div><div class="line">$var++;</div><div class="line"><span class="keyword">print</span>($var.<span class="string">"\n"</span>);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ perl define.pl </div><div class="line">Use of uninitialized value $var in <span class="keyword">print</span> at define.pl line <span class="number">4</span>.</div><div class="line">undefined!</div><div class="line"><span class="number">1</span></div></pre></td></tr></table></figure>
<h3 id="单引号内的字符串">单引号内的字符串</h3>
<p>单引号内的字符串直接量指的是一对单引号内的一串字符，这两个单引号并不属于字符串的内容。如果要表示单引号，需要加反斜线进行转义，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">'fred'</span> <span class="comment"># 共4个字符，即f、r、e、d</span></div><div class="line"><span class="string">''</span> <span class="comment"># 空字符</span></div><div class="line"><span class="string">'Dont\'t'</span> <span class="comment"># 加了反斜线进行转义</span></div></pre></td></tr></table></figure>
<h3 id="双引号内的字符串">双引号内的字符串</h3>
<p>双引号可以转义许多字符，或者是用八进制或十六进制写法来表示任何字符，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="string">"barney"</span> <span class="comment"># 这种写法与'barney'写法一样</span></div><div class="line"><span class="string">"hello world\n"</span> <span class="comment"># 输出为helloworld，后面接着换行符</span></div><div class="line"><span class="string">"coke\tspirte"</span> <span class="comment"># 输出结果为coke、制表符、spirte</span></div></pre></td></tr></table></figure>
<h3 id="perl中的转义字符">Perl中的转义字符</h3>
<table>
<thead>
<tr class="header">
<th>转义字符</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>\</td>
<td>反斜线</td>
</tr>
<tr class="even">
<td>'</td>
<td>单引号</td>
</tr>
<tr class="odd">
<td>&quot;</td>
<td>双引号</td>
</tr>
<tr class="even">
<td></td>
<td>系统响铃</td>
</tr>
<tr class="odd">
<td></td>
<td>退格</td>
</tr>
<tr class="even">
<td></td>
<td>换页符</td>
</tr>
<tr class="odd">
<td></td>
<td>换行</td>
</tr>
<tr class="even">
<td></td>
<td>回车</td>
</tr>
<tr class="odd">
<td></td>
<td>水平制表符</td>
</tr>
<tr class="even">
<td> 垂直制表符</td>
<td></td>
</tr>
<tr class="odd">
<td>nn</td>
<td>创建八进制格式的数字</td>
</tr>
<tr class="even">
<td></td>
<td>创建十六进制格式的数字</td>
</tr>
<tr class="odd">
<td></td>
<td>控制字符，x可以是任何字符</td>
</tr>
<tr class="even">
<td> 强制下一个字符为大写</td>
<td></td>
</tr>
<tr class="odd">
<td></td>
<td>强制下一个字符为小写</td>
</tr>
<tr class="even">
<td></td>
<td>强制将所有字符转换为大写</td>
</tr>
<tr class="odd">
<td></td>
<td>强制将所有的字符转换为小写</td>
</tr>
<tr class="even">
<td></td>
<td>将到（non-word）字符加上反斜线</td>
</tr>
<tr class="odd">
<td></td>
<td>结束、、</td>
</tr>
</tbody>
</table>
<h4 id="转义字符的使用案例">转义字符的使用案例</h4>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat escapecharacter.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$result = <span class="string">"newbie tutorial \"runoob\""</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$result\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$result\n"</span>;</div><div class="line"></div><div class="line">$str=<span class="string">"BAIDU search \nwwww.baidu.com"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$str\n"</span>;</div><div class="line"></div><div class="line">$str=<span class="string">'BAIDU search \nwwww.baidu.com'</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$str\n"</span>;</div><div class="line"></div><div class="line">$str = <span class="string">'\Ulinux'</span>;<span class="comment"># 单引号不能进行转义</span></div><div class="line"><span class="keyword">print</span> <span class="string">"$str\n"</span>;</div><div class="line"></div><div class="line">$str = <span class="string">"Welcome to \Utaobao\E.com!"</span>; <span class="comment"># 大写E表示大写到此终止</span></div><div class="line"><span class="keyword">print</span> <span class="string">"$str\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># Notice following code don't contain E</span></div><div class="line">$str=<span class="string">"Welcome to \Utaobao.com"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$str\n"</span>;</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl escapecharacter.pl </div><div class="line">newbie tutorial <span class="string">"runoob"</span></div><div class="line">$result</div><div class="line">BAIDU search </div><div class="line">wwww.baidu.com</div><div class="line">BAIDU search \nwwww.baidu.com</div><div class="line">\Ulinux</div><div class="line">Welcome to TAOBAO.com!</div><div class="line">Welcome to TAOBAO.COM</div></pre></td></tr></table></figure>
<h3 id="字符串操作">字符串操作</h3>
<p>字符串的连接使用点号（<code>.</code>），如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ cat dot.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">$hello=<span class="string">"hello"</span>;</div><div class="line">$world=<span class="string">"world"</span>;</div><div class="line"><span class="keyword">print</span> $hello.$world.<span class="string">"\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ perl dot.pl </div><div class="line">helloworld</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$</div></pre></td></tr></table></figure>
<p>字符串也能做乘法，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">$word=<span class="string">"fred"</span>;</div><div class="line"><span class="keyword">print</span> $word <span class="keyword">x</span> <span class="number">3</span>; <span class="comment"># 这个格式是变量+空格+小写字母x+空格+数字</span></div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl repeat.pl </div><div class="line">fredfredfredbiotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$</div></pre></td></tr></table></figure>
<h3 id="数字与字符串之间的自动转换">数字与字符串之间的自动转换</h3>
<p>通常Perl会根据需要，自动在数字和字符串之间进行类型转换。这主要取决于操作符，如果操作符（比如+）需要的是数字，Perl就会将操作数视为数字，如果是操作符（比如点号）需要字符串时，Perl便会将操作数视为字符串。因此，你不必担心数字和字符串间的差异，只管合理使用操作符，Perl会自动完成剩下的工作。</p>
<p>对数字进行运算的操作符（例如乘法），如果遇到字符串类型的操作，Perl会自动将字符串转换成等效的十进制浮点数进行运算，例如<code>&quot;12&quot;*&quot;3&quot;</code>的结果会是36，字符串中非数字的部分（以前前置的空白符号）会被忽略，因此，“12fred34”*“3”也会得到36。完全不含数字的字符串会被转换为零。“前置零”只对直接量有效，不能用于字符串的自动转换，自动转换只能按照十进制数字来处理，例如：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">0377</span> <span class="comment"># 十进制数字255的八进制写法</span></div><div class="line"><span class="string">'0377'</span> <span class="comment"># 会转换成十进制数字377，任何其他进制的数字都会被转换为十进制</span></div></pre></td></tr></table></figure>
<p>在进行字符串的操作时（例如使用字符串连接符号）意外得到数字时，为数字就会被转换为形式相的字符串。比如要把字符串Z与“5乘以7的结果”相连接，就如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="string">"Z"</span>. <span class="number">5</span>*<span class="number">7</span> <span class="comment">#等同于"Z".35，得到"Z35"</span></div></pre></td></tr></table></figure>
<h2 id="标量变量">标量变量</h2>
<p>Perl中变量是通过前面的符号来区分的，这个符号称为魔符（sigil），变量分为标量变量（用<code>$</code>来区分），数组变量（用<code>@</code>来区分），哈希变量（用<code>%</code>来区分）。</p>
<h3 id="标量变量的赋值">标量变量的赋值</h3>
<p>变量不需要声明类型，在变量赋值后，解释器会自动分配匹配的类型空间，变量使用等号(=)来赋值，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat variable.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">$age=<span class="number">25</span>; <span class="comment"># 整型</span></div><div class="line">$name=<span class="string">"Zhang San"</span>; <span class="comment"># 字符串</span></div><div class="line">$number=<span class="number">123.456</span>;<span class="comment"># 浮点数</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"Age=$age\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"Name=$name\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"Salary=$number\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl variable.pl </div><div class="line">Age=<span class="number">25</span></div><div class="line">Name=Zhang San</div><div class="line">Salary=<span class="number">123.456</span></div></pre></td></tr></table></figure>
<h3 id="借助代码点创建字符">借助代码点创建字符</h3>
<p>用于编码抽象字符的整数范围叫做代码空间，其中的特殊整数叫做代码点（code point），简单来说，就是处理一些不常见字符的代码。在Perl中，使用代码点，然后使用chr()函数转换为对应的字符，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat codepoint.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">$alef=<span class="keyword">chr</span>(<span class="number">0x05D</span>);</div><div class="line">$alpha=<span class="keyword">chr</span>(<span class="keyword">hex</span>(<span class="string">'03B1'</span>));</div><div class="line">$omega=<span class="keyword">chr</span>(<span class="number">0x03C9</span>);</div><div class="line"><span class="keyword">print</span> <span class="string">"This is $alef\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"This is alpha, $alpha\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"This is omega, $omega\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl codepoint.pl </div><div class="line">This is ]</div><div class="line">Wide character in <span class="keyword">print</span> at codepoint.pl line <span class="number">6</span>.</div><div class="line">This is alpha, α</div><div class="line">Wide character in <span class="keyword">print</span> at codepoint.pl line <span class="number">7</span>.</div><div class="line">This is omega, ω</div></pre></td></tr></table></figure>
<p>从结果可以看出，使用代码点可以输出一些特殊字符，结果中还有一些提示信息，提示这些字符是宽字符，先不用管它们。</p>
<h2 id="数组">数组</h2>
<p>如果把Perl的标量（scalar）理解为单数（singular），那么Perl里的复数（plural）就是数组与列表。数组是用于存储一个有序的标量值的变量。数组用<code>@</code>表示，要访问数组的变量，可以使用美元符号(<code>$</code>)+变量名，并指定下标来访问，实例如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat array.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@ages=(<span class="number">25</span>,<span class="number">30</span>,<span class="number">40</span>);</div><div class="line">@names=(<span class="string">"google"</span>,<span class="string">"runoob"</span>,<span class="string">"taobao"</span>);</div><div class="line"></div><div class="line"><span class="keyword">print</span><span class="string">"\$ages[0]=$ages[0]\n"</span>;</div><div class="line"><span class="comment"># 在 $ 标记前使用了转义字符 (\) ，这样才能输出字符 $</span></div><div class="line"><span class="keyword">print</span><span class="string">"\ages[1]=$ages[1]\n"</span>;</div><div class="line"><span class="keyword">print</span><span class="string">"\$ages[2]=$ages[2]\n"</span>;</div><div class="line"><span class="keyword">print</span><span class="string">"\ages[0]=$ages[0]\n"</span>;</div><div class="line"><span class="keyword">print</span><span class="string">"\$ages[1]=$ages[1]\n"</span>;</div><div class="line"><span class="keyword">print</span><span class="string">"\$ages[2]=$ages[2]\n"</span>;</div><div class="line"><span class="keyword">print</span><span class="string">"\$ages[-1]=$ages[-1]\n"</span>;</div><div class="line"><span class="comment"># 在Perl中，可以使用-1表示最后一个索引</span></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl array.pl </div><div class="line">$ages[<span class="number">0</span>]=<span class="number">25</span></div><div class="line">ges[<span class="number">1</span>]=<span class="number">30</span></div><div class="line">$ages[<span class="number">2</span>]=<span class="number">40</span></div><div class="line">ges[<span class="number">0</span>]=<span class="number">25</span></div><div class="line">$ages[<span class="number">1</span>]=<span class="number">30</span></div><div class="line">$ages[<span class="number">2</span>]=<span class="number">40</span></div><div class="line">$ages[-<span class="number">1</span>]=<span class="number">40</span></div></pre></td></tr></table></figure>
<h2 id="列表">列表</h2>
<p>列表是包含在括号里的一序列的值，可以为任何数值，也可为空，如<code>(1, 5.3 , &quot;hello&quot; , 2)</code>，空列表：<code>()</code>，下面都是列表：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">(<span class="number">17</span>, $var, <span class="string">"a string"</span>)</div><div class="line">(<span class="number">17</span>, <span class="number">26</span> &lt;&lt; <span class="number">2</span>)</div><div class="line">(<span class="number">17</span>, $var1 + $var2)</div><div class="line">($value, <span class="string">"The answer is $value"</span>)</div></pre></td></tr></table></figure>
<p>列表存贮于数组变量中，数组变量以字符“@”打头，以<code>@ages=(25,30,40);</code>为例说明一下：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180517/HD6JF30LbI.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>数组还可以产使用<code>qw</code>定义数组，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat qw.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@array1=(<span class="number">1</span>,<span class="number">2</span>,<span class="string">'hello'</span>);</div><div class="line">@array2=<span class="keyword">qw</span>/this is an array/;</div><div class="line"><span class="keyword">print</span>(<span class="string">"@array1\n"</span>);</div><div class="line"><span class="keyword">print</span>(<span class="string">"@array2\n"</span>);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl qw.pl </div><div class="line"><span class="number">1</span> <span class="number">2</span> hello</div><div class="line">this is an array</div></pre></td></tr></table></figure>
<p>Perl提供了可以按序列输出的数组形式，格式为<code>起始值 + .. + 结束值</code>，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat dot2.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@var_10=(<span class="number">1</span>..<span class="number">10</span>);</div><div class="line">@var_20=(<span class="number">10</span>..<span class="number">20</span>);</div><div class="line">@var_abc=(a..z);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"@var_10\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"@var_20\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"@var_abc\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl dot2.pl </div><div class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span></div><div class="line"><span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span></div><div class="line">a b c d e f g h i j k l <span class="keyword">m</span> n o p <span class="keyword">q</span> r <span class="keyword">s</span> t u v w <span class="keyword">x</span> <span class="keyword">y</span> z</div></pre></td></tr></table></figure>
<p>数组长度返回的是数组物理大小，而不是元素的个数，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat size.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">@array=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</div><div class="line">$array[<span class="number">50</span>]=<span class="number">4</span>;</div><div class="line"></div><div class="line">$size=@array;</div><div class="line">$max_index=$#array;</div><div class="line"><span class="keyword">print</span> <span class="string">"the size of array: $size\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"the max of index: $max_index\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl size.pl </div><div class="line">the size of array: <span class="number">51</span></div><div class="line">the max of <span class="keyword">index</span>: <span class="number">50</span></div></pre></td></tr></table></figure>
<p>从输出的结果可以看出，数组元素只有四个，但是数组大小为 51。</p>
<h3 id="添加与删除数组元素">添加与删除数组元素</h3>
<p>添加和删除数组元素，数组中常用的操作函数如下所示：</p>
<ol style="list-style-type: decimal">
<li>push <span class="citation">@ARRAY</span>, LIST——将列表的值放到数组的末尾</li>
<li>pop <span class="citation">@ARRAY</span>——弹出数组最后一个值，并返回它</li>
<li>shift <span class="citation">@ARRAY</span>——弹出数组第一个值，并返回它。数组的索引值也依次减一。</li>
<li>unshift <span class="citation">@ARRAY</span>, LIST——将列表放在数组前面，并返回新数组的元素个数。</li>
</ol>
<p>看下面的案例：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat array_del.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="comment"># creat a simple array</span></div><div class="line">@sites=(<span class="string">"google"</span>,<span class="string">"microsoft"</span>,<span class="string">"ibm"</span>);</div><div class="line"><span class="keyword">print</span><span class="string">"1.\@sites=@sites\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># add an element in the end of the array:</span></div><div class="line"><span class="keyword">push</span>(@sites,<span class="string">"intel"</span>);</div><div class="line"><span class="keyword">print</span><span class="string">"2.\@sites=@sites\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># add an element in the beginning of the array:</span></div><div class="line"><span class="keyword">unshift</span>(@sites,<span class="string">"sun"</span>);</div><div class="line"><span class="keyword">print</span><span class="string">"3.\@sites=@sites\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># delete an element in the end of the array:</span></div><div class="line"><span class="keyword">pop</span>(@sites);</div><div class="line"><span class="keyword">print</span><span class="string">"4.\@sites=@sites\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># delete an element in the begining of the array:</span></div><div class="line"><span class="keyword">shift</span>(@sites);</div><div class="line"><span class="keyword">print</span><span class="string">"5.\@sites=@sites\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl array_del.pl </div><div class="line"><span class="number">1</span>.@sites=google microsoft ibm</div><div class="line"><span class="number">2</span>.@sites=google microsoft ibm intel</div><div class="line"><span class="number">3</span>.@sites=sun google microsoft ibm intel</div><div class="line"><span class="number">4</span>.@sites=sun google microsoft ibm</div><div class="line"><span class="number">5</span>.@sites=google microsoft ibm</div></pre></td></tr></table></figure>
<h3 id="切割数组">切割数组</h3>
<p>切割一个数组，并返回切割后的新数组，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat cut.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@sites=<span class="keyword">qw</span>/google tencent jd facebook <span class="number">163</span> microsoft/;</div><div class="line">@sites2=@sites[<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line"><span class="keyword">print</span> <span class="string">"@sites2\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl cut.pl </div><div class="line">facebook <span class="number">163</span> microsoft</div></pre></td></tr></table></figure>
<h3 id="替换数组元素">替换数组元素</h3>
<p>Perl 中数组元素替换使用 splice() 函数，语法格式如下：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">splice</span> @ARRAY, OFFSET [ , LENGTH [ , LIST ] ]</div></pre></td></tr></table></figure>
<p>参数说明：</p>
<ol style="list-style-type: decimal">
<li><span class="citation">@ARRAY</span>：要替换的数组。</li>
<li>OFFSET：起始位置。</li>
<li>LENGTH：替换的元素个数。</li>
<li>LIST：替换元素列表。</li>
</ol>
<p>以下案例从第6个元素开始替换数组中的5个元素：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat replace.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@nums=(<span class="number">1</span>..<span class="number">20</span>);</div><div class="line"><span class="keyword">print</span> <span class="string">"Before replacement--@nums\n"</span>;</div><div class="line"><span class="keyword">splice</span>(@nums,<span class="number">5</span>,<span class="number">6</span>,<span class="number">20</span>..<span class="number">25</span>);</div><div class="line"><span class="keyword">print</span> <span class="string">"After replacement--@nums\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl replace.pl </div><div class="line">Before replacement--<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span></div><div class="line">After replacement--<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span></div></pre></td></tr></table></figure>
<p>可以看出来，从第６个元素开始替换，替换的是从第５个元素开始往后的６个元素。</p>
<h3 id="将字符串转换为数组">将字符串转换为数组</h3>
<p>Perl 中将字符串转换为数组使用 split() 函数，语法格式如下：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">split</span> [ PATTERN [ , EXPR [ , LIMIT ] ] ]</div></pre></td></tr></table></figure>
<p>参数说明： 1. PATTERN：分隔符，默认为空格。 2. EXPR：指定字符串数。 3. LIMIT：如果指定该参数，则返回该数组的元素个数。</p>
<p>看下面的案例</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat trans_character_array.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="comment"># define string:</span></div><div class="line">$var_test=<span class="string">"baidu"</span>;</div><div class="line">$var_string=<span class="string">"www-baidu-com"</span>;</div><div class="line">$var_names=<span class="string">"google, interl, baidu,ati"</span>;</div><div class="line"></div><div class="line"><span class="comment"># transform strings into array:</span></div><div class="line">@test=<span class="keyword">split</span>(<span class="string">''</span>,$var_test);</div><div class="line">@string=<span class="keyword">split</span>(<span class="string">'-'</span>,$var_string);</div><div class="line">@names=<span class="keyword">split</span>(<span class="string">','</span>,$var_names);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"$test[3]\n"</span>; <span class="comment"># output character "d"</span></div><div class="line"><span class="keyword">print</span> <span class="string">"$string[2]\n"</span>; <span class="comment"># output character "com"</span></div><div class="line"><span class="keyword">print</span> <span class="string">"$names[3]\n"</span>; <span class="comment"># output character "ati"</span></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl trans_character_array.pl </div><div class="line">d</div><div class="line">com</div><div class="line">ati</div></pre></td></tr></table></figure>
<h3 id="将数组转换为字符串">将数组转换为字符串</h3>
<p>Perl 中将数组转换为字符串使用 join() 函数，语法格式如下：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">join</span> EXPR, LIST</div></pre></td></tr></table></figure>
<p>参数说明：</p>
<ol style="list-style-type: decimal">
<li>EXPR：连接符。</li>
<li>LIST：列表或数组。</li>
</ol>
<p>如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat array_into_string.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="comment"># defing string:</span></div><div class="line">$var_string=<span class="string">"wwww-baidu-com"</span>;</div><div class="line">$var_names=<span class="string">"google,intel,ibm,tencent"</span>;</div><div class="line"></div><div class="line"><span class="comment"># Transform string into array:</span></div><div class="line">@string=<span class="keyword">split</span>(<span class="string">'-'</span>,$var_string);</div><div class="line">@names=<span class="keyword">split</span>(<span class="string">','</span>,$var_names);</div><div class="line"></div><div class="line"><span class="comment"># Transform array into string:</span></div><div class="line">$string1=<span class="keyword">join</span>(<span class="string">'-'</span>,@string);</div><div class="line">$string2=<span class="keyword">join</span>(<span class="string">','</span>,@names);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"$string1\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$string2\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl array_into_string.pl </div><div class="line">wwww-baidu-com</div><div class="line">google,intel,ibm,tencent</div></pre></td></tr></table></figure>
<h3 id="数组排序">数组排序</h3>
<p>Perl 中数组排序使用 sort() 函数，语法格式如下：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">sort</span> [ SUBROUTINE ] LIST</div></pre></td></tr></table></figure>
<p>参数说明：</p>
<ol style="list-style-type: decimal">
<li>SUBROUTINE：指定规则。</li>
<li>LIMIT：列表或数组。</li>
</ol>
<p>案例如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat sort.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@sites=<span class="string">qw(ibm tencent amzon sun microsoft interl)</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"beofore sorting: @sites\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># sort array</span></div><div class="line">@sites=<span class="keyword">sort</span>(@sites);</div><div class="line"><span class="keyword">print</span> <span class="string">"After sorting: @sites\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl sort.pl </div><div class="line">beofore sorting: ibm tencent amzon sun microsoft interl</div><div class="line">After sorting: amzon ibm interl microsoft sun tencent</div></pre></td></tr></table></figure>
<h3 id="合并数组">合并数组</h3>
<p>数组的元素是以逗号来分割，我们也可以使用逗号来合并数组，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat merge.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@n1=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</div><div class="line">@n2=(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</div><div class="line">@n =(@n1,@n2);</div><div class="line"><span class="keyword">print</span> <span class="string">"numbers1:@n1\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"numbers2:@n2\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"Merge numbers1 and numbers2:@n\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl merge.pl </div><div class="line">numbers1:<span class="number">1</span> <span class="number">2</span> <span class="number">3</span></div><div class="line">numbers2:<span class="number">3</span> <span class="number">4</span> <span class="number">5</span></div><div class="line">Merge numbers1 <span class="keyword">and</span> numbers2:<span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span></div></pre></td></tr></table></figure>
<h3 id="从列表中选择元素">从列表中选择元素</h3>
<p>一个列表可以当作一个数组使用，在列表后指定索引值可以读取指定的元素，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat select.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">$var = (<span class="number">11</span>, <span class="number">22</span>, <span class="number">44</span>, <span class="number">444</span>, <span class="number">5555</span>)[<span class="number">4</span>];</div><div class="line"><span class="keyword">print</span> <span class="string">"the value of var is:  $var\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl select.pl </div><div class="line">the value of var is:  <span class="number">5555</span></div></pre></td></tr></table></figure></p>
<p>同样可以在数组中使用 .. 来读取指定范围的元素：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat range_array.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@list = (<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>)[<span class="number">1</span>..<span class="number">3</span>];</div><div class="line"><span class="keyword">print</span> <span class="string">"list的值 = @list\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl range_array.pl </div><div class="line">list的值 = <span class="number">4</span> <span class="number">3</span> <span class="number">2</span></div></pre></td></tr></table></figure>
<h2 id="哈希">哈希</h2>
<p>哈希是一个<code>key/value</code>对的集合，可以把它理解为Python中的字典。哈希<code>%</code>开始。如果要访问哈希值，可以使用<code>$+{key}</code>格式来访问，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat hash.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">%data=(<span class="string">'google'</span>,<span class="number">45</span>,<span class="string">'runoob'</span>,<span class="number">30</span>,<span class="string">'taobao'</span>,<span class="number">40</span>);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"\$data&#123;'google'&#125; = $data&#123;'google'&#125;\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$data&#123;'runoob'&#125; = $data&#123;'runoob'&#125;\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$data&#123;'taobao'&#125; = $data&#123;'taobao'&#125;\n"</span>;</div><div class="line"></div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl hash.pl </div><div class="line">$data&#123;<span class="string">'google'</span>&#125; = <span class="number">45</span></div><div class="line">$data&#123;<span class="string">'runoob'</span>&#125; = <span class="number">30</span></div><div class="line">$data&#123;<span class="string">'taobao'</span>&#125; = <span class="number">40</span></div></pre></td></tr></table></figure>
<h3 id="创建哈希">创建哈希</h3>
<p>创建哈希有两种方式：第一，为每个key设置value；第二，通过列表创建。 先看第一种方式，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$site&#123;<span class="string">'google'</span>&#125;=<span class="string">'google.com'</span>;</div><div class="line">$site&#123;<span class="string">'bing'</span>&#125;=<span class="string">'bing.com'</span>;</div><div class="line">$site&#123;<span class="string">'baidu'</span>&#125;=<span class="string">'baidu.com'</span>;</div></pre></td></tr></table></figure></p>
<p>第二种，通过列表设置，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">%data=(<span class="string">'google'</span>,<span class="string">'google.com'</span>,<span class="string">'bing'</span>,<span class="string">'bing.com'</span>,<span class="string">'taobao'</span>,<span class="string">'taobao.com'</span>)</div></pre></td></tr></table></figure>
<p>也可以使用<code>=&gt;</code>符号来设置<code>key/value</code>，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">%data=(<span class="string">'google'</span>=&gt;<span class="string">'google.com'</span>,<span class="string">'bing'</span>=&gt;<span class="string">'bing.com'</span>,<span class="string">'taobao'</span>=&gt;<span class="string">'taobao.com'</span>)</div></pre></td></tr></table></figure>
<p>也可以使用<code>-</code>来代替引号，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">%data=(<span class="string">-google=&gt;</span><span class="string">'google.com'</span>,<span class="string">-bing=&gt;</span><span class="string">'bing.com'</span>,<span class="string">-taobao=&gt;</span><span class="string">'taobao.com'</span>)</div></pre></td></tr></table></figure>
<p>不过这种方式创建的哈希，需要<code>key</code>不能出现空格，读取元素方式为：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$val = $data&#123;-google&#125;</div><div class="line">$val = $data&#123;-runoob&#125;</div></pre></td></tr></table></figure>
<h3 id="访问哈希">访问哈希</h3>
<p>访问哈希元素格式：<code>${key}</code>，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat access_hash.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">%data=(<span class="string">'google'</span>=&gt;<span class="string">'google.com'</span>,<span class="string">'baidu'</span>=&gt;<span class="string">'baidu.com'</span>,<span class="string">'mit'</span>=&gt;<span class="string">'mit.edu'</span>);</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"\$data&#123;'google'&#125;=$data&#123;'google'&#125;\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$data&#123;'baidu'&#125;=$data&#123;'baidu'&#125;\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"\$data&#123;'mit'&#125;=$data&#123;'mit'&#125;\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl access_hash.pl </div><div class="line">$data&#123;<span class="string">'google'</span>&#125;=google.com</div><div class="line">$data&#123;<span class="string">'baidu'</span>&#125;=baidu.com</div><div class="line">$data&#123;<span class="string">'mit'</span>&#125;=mit.edu</div></pre></td></tr></table></figure>
<h3 id="读取哈希的key和value">读取哈希的<code>key</code>和<code>value</code></h3>
<h4 id="读取hash的key">读取hash的key</h4>
<p>我们可以使用<code>keys</code>函数读取哈希所有的键，语法格式如下： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">keys</span> %HASH</div></pre></td></tr></table></figure></p>
<p>该函数返回所有哈希的所有 key 的数组，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat values_hash.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">%data=(<span class="string">'google'</span>=&gt;<span class="string">'google.com'</span>,<span class="string">'abc'</span>=&gt;<span class="string">'abc.com'</span>,<span class="string">'UFO'</span>=&gt;<span class="string">'ufo.com'</span>);</div><div class="line"></div><div class="line">@names=<span class="keyword">keys</span> %data;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"$names[0]\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$names[1]\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$names[2]\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl values_hash.pl </div><div class="line">UFO</div><div class="line">google</div><div class="line">abc</div></pre></td></tr></table></figure>
<h4 id="读取hash的value">读取hash的value</h4>
<p>使用<code>values</code>函数读取hash的值，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat value_hash.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">%data=(<span class="string">'google'</span>=&gt;<span class="string">'google.com'</span>,<span class="string">'abc'</span>=&gt;<span class="string">'abc.com'</span>,<span class="string">'UFO'</span>=&gt;<span class="string">'ufo.com'</span>);</div><div class="line"></div><div class="line">@url=<span class="keyword">values</span>%data;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"$url[0]\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$url[1]\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$url[2]\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl value_hash.pl </div><div class="line">google.com</div><div class="line">abc.com</div><div class="line">ufo.com</div></pre></td></tr></table></figure>
<h3 id="检测元素是否存在">检测元素是否存在</h3>
<p>如果你在哈希中读取不存在的<code>key/value</code>对 ，会返回<code>undefined</code>值，且在执行时会有警告提醒。为了避免这种情况，我们可以使用<code>exists</code>函数来判断<code>key</code>是否存在，存在的时候读取，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat exists.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">%data=(<span class="string">'google'</span>=&gt;<span class="string">'google.com'</span>,<span class="string">'sina'</span>=&gt;<span class="string">'sina.com'</span>,<span class="string">'taobao'</span>=&gt;<span class="string">'taobao.com'</span>);</div><div class="line"><span class="keyword">if</span> (<span class="keyword">exists</span>($data&#123;<span class="string">'facebook'</span>&#125;))&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"the website of factbook is $data&#123;'facebook'&#125;\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"facebook doesn't exist\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl exists.pl </div><div class="line">facebook doesn<span class="string">'t exist</span></div></pre></td></tr></table></figure></p>
<h3 id="获取哈希大小">获取哈希大小</h3>
<p>哈希大小为元素的个数，我们可以通过先获取<code>key</code>或<code>value</code>的所有元素数组，再计算数组元素多少来获取哈希的大小，如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat size_of_hash.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">%data=(<span class="string">'google'</span>=&gt;<span class="string">'google.com'</span>,<span class="string">'sina'</span>=&gt;<span class="string">'sina.com'</span>,<span class="string">'taobao'</span>=&gt;<span class="string">'taobao.com'</span>);</div><div class="line"></div><div class="line">@keys=<span class="keyword">keys</span>%data;</div><div class="line">$size=@keys;</div><div class="line"><span class="keyword">print</span> <span class="string">"1- size of hash: $size\n"</span>;</div><div class="line"></div><div class="line">@values=<span class="keyword">values</span>%data;</div><div class="line">$size=@values;</div><div class="line"><span class="keyword">print</span> <span class="string">"2- size of hash: $size\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl size_of_hash.pl </div><div class="line"><span class="number">1</span>- size of hash: <span class="number">3</span></div><div class="line"><span class="number">2</span>- size of hash: <span class="number">3</span></div></pre></td></tr></table></figure></p>
<h3 id="哈希中添加或删除元素">哈希中添加或删除元素</h3>
<p><code>delete</code>函数用于删除哈希中的元素；使用赋值来添加哈希中的元素，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~$ cat delete.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">%data=(<span class="string">'google'</span>=&gt;<span class="string">'google.com'</span>,<span class="string">'baidu'</span>=&gt;<span class="string">'baidu.com'</span>,<span class="string">'bing'</span>=&gt;<span class="string">'bing.com'</span>);</div><div class="line">@keys=<span class="keyword">keys</span>%data;</div><div class="line">$size=@keys;</div><div class="line"><span class="keyword">print</span> <span class="string">"1-The size of hash: $size\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># add element:</span></div><div class="line">$data&#123;<span class="string">'facebook'</span>&#125;=<span class="string">'facebook.com'</span>;</div><div class="line">@keys=<span class="keyword">keys</span>%data;</div><div class="line">$size=@keys;</div><div class="line"><span class="keyword">print</span> <span class="string">"2-The size of hash:$size\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># delete element:</span></div><div class="line"><span class="keyword">delete</span> $data&#123;<span class="string">'baidu'</span>&#125;;</div><div class="line">@keys=<span class="keyword">keys</span>%data;</div><div class="line">$size=@keys;</div><div class="line"><span class="keyword">print</span> <span class="string">"3-The size of hash: $size\n"</span>;</div><div class="line">biotest@ubuntu:~$ perl delete.pl </div><div class="line"><span class="number">1</span>-The size of hash: <span class="number">3</span></div><div class="line"><span class="number">2</span>-The size of hash:<span class="number">4</span></div><div class="line"><span class="number">3</span>-The size of hash: <span class="number">3</span></div></pre></td></tr></table></figure>
<h2 id="变量上下文">变量上下文</h2>
<p>所谓上下文：指的是表达式所在的位置。上下文是由等号左边的变量类型决定的，等号左边是标量，则是标量上下文，等号左边是列表，则是列表上下文。Perl解释器会根据上下文来决定变量的类型，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat context.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@names = (<span class="string">'google'</span>,<span class="string">'baidu'</span>,<span class="string">'sogou'</span>);</div><div class="line">@copy = @names;</div><div class="line">$size=@names;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"Names is: @copy\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"Name is :$size\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl context.pl </div><div class="line">Names is: google baidu sogou</div><div class="line">Name is :<span class="number">3</span></div></pre></td></tr></table></figure>
<p>代码及结果解释：代码中<code>@names</code>是一个数组，它应用在了两个不同的上下文中。第一个将其复制给另外一个数组<code>@copy</code>，所以它输出了数组的所有元素。第二个我们将数组赋值给一个标量，它返回了数组的元素个数。以下列出了多种不同的上下文：</p>
<table>
<thead>
<tr class="header">
<th>序号</th>
<th>上下文及描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>标量 −赋值给一个标量变量，在标量上下文的右侧计算</td>
</tr>
<tr class="even">
<td>2</td>
<td>列表 −赋值给一个数组或哈希，在列表上下文的右侧计算。</td>
</tr>
<tr class="odd">
<td>3</td>
<td>布尔 −布尔上下文是一个简单的表达式计算，查看是否为 true 或 false。</td>
</tr>
<tr class="even">
<td>4</td>
<td>Void −这种上下文不需要关系返回什么值，一般不需要返回值。</td>
</tr>
<tr class="odd">
<td>5</td>
<td>插值 −这种上下文只发生在引号内。</td>
</tr>
</tbody>
</table>
<h2 id="perl的内置警告信息">Perl的内置警告信息</h2>
<p>从Perl 5.6开始，就能心通过编译指令开启警告功能，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">usr warnings;</div></pre></td></tr></table></figure>
<p>也可以在命令行上使用<code>-w</code>选项开启警告，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">perl -w my_program</div></pre></td></tr></table></figure>
<p>例如，如果用户把<code>12fred34</code>当成数字用，Perl就会发出警告，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ARgument <span class="string">"12fred34"</span> isn<span class="string">'t numeric</span></div></pre></td></tr></table></figure>
<h2 id="全局特殊常量">全局特殊常量</h2>
<p>在Perl中有一些特殊的字符的应用例如<code>.__FILE__.</code>, .<code>__LINE__.</code>和<code>.__PACKAGE__.</code>（注意，这是一个点加两条下划线），它们分别表示当前执行脚本的文件名，行号，包名，这些特殊字符是单独的标记，不能写在字符串中，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~$ cat special_string.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"The name of script file  "</span> .__FILE_<span class="number">_</span>.<span class="string">"\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"The line number of scripte file  "</span>.__LINE_<span class="number">_</span>.<span class="string">"\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"The name of package  "</span>.__PACKAGE_<span class="number">_</span>.<span class="string">"\n"</span>;</div><div class="line"></div><div class="line"><span class="comment"># Following code will not run:</span></div><div class="line"><span class="keyword">print</span> <span class="string">".__FILE__. .__LINE__. .__PACKAGE__. \n"</span>;</div><div class="line">biotest@ubuntu:~$ perl special_string.pl </div><div class="line">The name of script file  special_string.pl</div><div class="line">The line number of scripte file  <span class="number">4</span></div><div class="line">The name of <span class="keyword">package</span>  main</div><div class="line">.__FILE_<span class="number">_</span>. .__LINE_<span class="number">_</span>. .__PACKAGE_<span class="number">_</span>.</div></pre></td></tr></table></figure>
<table>
<thead>
<tr class="header">
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>__END__</code></td>
<td>脚本的逻辑结束，忽略后面的文本。</td>
</tr>
<tr class="even">
<td><code>__FILE__</code></td>
<td>当前文件名</td>
</tr>
<tr class="odd">
<td><code>__LINE__</code></td>
<td>当前行号</td>
</tr>
<tr class="even">
<td><code>__PACKAGE__</code></td>
<td>当前包名，默认的包名是main。</td>
</tr>
</tbody>
</table>
<h2 id="perl特殊变量">Perl特殊变量</h2>
<p>Perl语言中定义了一些特殊的变量，通常以<code>$</code>，<code>@</code>，或<code>%</code>作为前缀，例如<code>$_</code>。很多特殊的变量有一个很长的英文名，操作系统变量<code>$!</code>可以写为<code>$OS_ERROR</code>。如果你想使用英文名的特殊变量需要在程序头部添加<code>use English</code>;。这样就可以使用具有描述性的英文特殊变量。最常用的特殊变量为<code>$_</code>，该变量包含了默认输入和模式匹配内容。如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat special_variable.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">foreach</span>(<span class="string">'Google'</span>,<span class="string">'Baidu'</span>,<span class="string">'Tencent'</span>)&#123;</div><div class="line">    <span class="keyword">print</span> $_;</div><div class="line">    <span class="keyword">print</span> <span class="string">"\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl special_variable.pl </div><div class="line">Google</div><div class="line">Baidu</div><div class="line">Tencent</div></pre></td></tr></table></figure>
<p>如果不使用<code>$_</code>作为输出，则是这个样子：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ cat output.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">foreach</span>(<span class="string">'Google'</span>,<span class="string">'Baidu'</span>,<span class="string">'Tencent'</span>)&#123;</div><div class="line">    <span class="keyword">print</span>;</div><div class="line">    <span class="keyword">print</span><span class="string">"\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl output.pl </div><div class="line">Google</div><div class="line">Baidu</div><div class="line">Tencent</div></pre></td></tr></table></figure>
<p>实例中，首先输出“Google”，接着输出“Baidu”，最后输出“Tencent”。在迭代循环中，当前循环的字符串会放在<code>$_</code>中,然后通过print输出。另外print在不指定输出变量，默认情况下使用的也是<code>$_</code>。</p>
<p>以下是几处即使没有写明Perl也会假定使用<code>$_</code>的地方：</p>
<ol style="list-style-type: decimal">
<li>各种单目函数，包括像<code>ord()</code>和<code>int()</code>这样的函数以及除<code>&quot;-t&quot;</code>以外所有的文件测试操作<code>(&quot;-f&quot;，&quot;-d&quot;)</code>，<code>&quot;-t&quot;</code>默认操作<code>STDIN</code>。</li>
<li>各种列表函数，例如<code>print()</code>和<code>unlink()</code>。</li>
<li>没有使用<code>&quot;=~&quot;</code>运算符时的模式匹配操作<code>&quot;m//&quot;</code>、<code>&quot;s///&quot;</code>和<code>&quot;tr///&quot;</code>。 4 在没有给出其他变量时是<code>&quot;foreach&quot;</code>循环的默认迭代变量。</li>
<li><code>grep()</code>和<code>map()</code>函数的隐含迭代变量。</li>
<li>当<code>&quot;while&quot;</code>仅有唯一条件，且该条件是对“”操作的结果进行测试时，<code>$_</code>就是存放输入记录的默认位置。除了<code>&quot;while&quot;</code>测试条件之外不会发生这种情况。(助记：下划线在特定操作中是可以省略的。)</li>
</ol>
<h2 id="特殊变量类型">特殊变量类型</h2>
<p>根据特殊的变量的使用性质，可以分为以下几类： 1. 全局标量特殊变量。 2. 全局数组特殊变量。 3. 全局哈希特殊变量。 4. 全局特殊文件句柄。 5. 全局特殊常量。 6. 正则表达式特殊变量。 7. 文件句柄特殊变量。</p>
<h3 id="全局标量特殊变量">全局标量特殊变量</h3>
<p>以下列出了所有的标量特殊变量，包含了特殊字符与英文形式的变量：</p>
<table>
<colgroup>
<col width="8%">
<col width="31%">
<col width="59%">
</colgroup>
<thead>
<tr class="header">
<th>特殊字符</th>
<th>对应的英文形式变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>$_</code></td>
<td><code>$ARG</code></td>
<td>默认输入和模式匹配内容。</td>
</tr>
<tr class="even">
<td><code>$.</code></td>
<td><code>$NR</code></td>
<td>前一次读的文件句柄的当前行号</td>
</tr>
<tr class="odd">
<td><code>$/</code></td>
<td><code>$RS</code></td>
<td>输入记录分隔符,默认是新行字符。如用<code>undef</code>这个变量,将读到文件结尾。</td>
</tr>
<tr class="even">
<td><code>$,</code></td>
<td><code>$OFS</code></td>
<td>输出域分隔符</td>
</tr>
<tr class="odd">
<td><code>$\</code></td>
<td><code>$ORS</code></td>
<td>输出记录分隔符</td>
</tr>
<tr class="even">
<td><code>$&quot;</code></td>
<td><code>$LIST_SEPARATOR</code></td>
<td>该变量同 $,类似，但应用于向双引号引起的字符串(或类似的内插字符串)中内插数组和切片值的场合。默认为一个空格。</td>
</tr>
<tr class="odd">
<td><code>$;</code></td>
<td><code>$SUBSCRIPT_SEPARATOR</code></td>
<td>在仿真多维数组时使用的分隔符。默认为 <code>&quot;\034&quot;</code>。</td>
</tr>
<tr class="even">
<td><code>$^L</code></td>
<td><code>$FORMAT_FORMFEED</code></td>
<td>发送到输出通道的走纸换页符。默认为 <code>&quot;\f&quot;</code>.</td>
</tr>
<tr class="odd">
<td><code>$:</code></td>
<td><code>$FORMAT_LINE_BREAK_CHARACTERS</code></td>
<td>The current set of characters after which a string may be broken to fill continuation fields (starting with ^) in a format. Default is <code>&quot;\n&quot;&quot;</code>.</td>
</tr>
<tr class="even">
<td><code>$^A</code></td>
<td><code>$ACCUMULATOR</code></td>
<td>打印前用于保存格式化数据的变量</td>
</tr>
<tr class="odd">
<td><code>$#</code></td>
<td><code>$OFMT</code></td>
<td>打印数字时默认的数字输出格式（已废弃）。</td>
</tr>
<tr class="even">
<td><code>$?</code></td>
<td><code>$CHILD_ERROR</code></td>
<td>返回上一个外部命令的状态</td>
</tr>
<tr class="odd">
<td><code>$!</code></td>
<td><code>$OS_ERROR or $ERRNO</code></td>
<td>这个变量的数字值是<code>errno</code>的值,字符串值是对应的系统错误字符串</td>
</tr>
<tr class="even">
<td><code>$@</code></td>
<td><code>$EVAL_ERROR</code></td>
<td>命令<code>eval</code>的错误消息.如果为空,则表示上一次<code>eval</code>命令执行成功</td>
</tr>
<tr class="odd">
<td><code>$$</code></td>
<td><code>$PROCESS_ID or $PID</code></td>
<td>运行当前Perl脚本程序的进程号</td>
</tr>
<tr class="even">
<td><code>$&lt;</code></td>
<td><code>$REAL_USER_ID or $UID</code></td>
<td>当前进程的实际用户号</td>
</tr>
<tr class="odd">
<td><code>$&gt;</code></td>
<td><code>$EFFECTIVE_USER_ID or $EUID</code></td>
<td>当前进程的有效用户号</td>
</tr>
<tr class="even">
<td><code>$(</code></td>
<td><code>$REAL_GROUP_ID or $GID</code></td>
<td>当前进程的实际组用户号</td>
</tr>
<tr class="odd">
<td><code>$)</code></td>
<td><code>$EFFECTIVE_GROUP_ID or $EGID</code></td>
<td>当前进程的有效组用户号</td>
</tr>
<tr class="even">
<td><code>0</code></td>
<td><code>$PROGRAM_NAME</code></td>
<td>包含正在执行的脚本的文件名</td>
</tr>
<tr class="odd">
<td><code>$[</code></td>
<td></td>
<td>数组的数组第一个元素的下标,默认是 0。</td>
</tr>
<tr class="even">
<td><code>$]</code></td>
<td><code>$PERL_VERSION</code></td>
<td>Perl的版本号</td>
</tr>
<tr class="odd">
<td><code>$^D</code></td>
<td><code>$DEBUGGING</code></td>
<td>调试标志的值</td>
</tr>
<tr class="even">
<td><code>$^E</code></td>
<td><code>$EXTENDED_OS_ERROR</code></td>
<td>在非UNIX环境中的操作系统扩展错误信息</td>
</tr>
<tr class="odd">
<td><code>$^F</code></td>
<td><code>$SYSTEM_FD_MAX</code></td>
<td>最大的文件捆述符数值</td>
</tr>
<tr class="even">
<td><code>$^H</code></td>
<td></td>
<td>由编译器激活的语法检查状态</td>
</tr>
<tr class="odd">
<td><code>$^I</code></td>
<td><code>$INPLACE_EDIT</code></td>
<td>内置控制编辑器的值</td>
</tr>
<tr class="even">
<td><code>$^M</code></td>
<td></td>
<td>备用内存池的大小</td>
</tr>
<tr class="odd">
<td><code>$^O</code></td>
<td><code>$OSNAME</code></td>
<td>操作系统名</td>
</tr>
<tr class="even">
<td><code>$^P</code></td>
<td><code>$PERLDB</code></td>
<td>指定当前调试值的内部变量</td>
</tr>
<tr class="odd">
<td><code>$^T</code></td>
<td><code>$BASETIME</code></td>
<td>从新世纪开始算起,脚步本以秒计算的开始运行的时间</td>
</tr>
<tr class="even">
<td><code>$^W</code></td>
<td><code>$WARNING</code></td>
<td>警告开关的当前值</td>
</tr>
<tr class="odd">
<td><code>$^X</code></td>
<td><code>$EXECUTABLE_NAME</code></td>
<td>Perl二进制可执行代码的名字</td>
</tr>
<tr class="even">
<td><code>$ARGV</code></td>
<td></td>
<td>从默认的文件句柄中读取时的当前文件名</td>
</tr>
</tbody>
</table>
<h3 id="全局数组特殊变量">全局数组特殊变量</h3>
<table>
<thead>
<tr class="header">
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>@ARGV</code></td>
<td>传给脚本的命令行参数列表</td>
</tr>
<tr class="even">
<td><code>@INC</code></td>
<td>在导入模块时需要搜索的目录列表</td>
</tr>
<tr class="odd">
<td><code>@F</code></td>
<td>命令行的数组输入</td>
</tr>
</tbody>
</table>
<h3 id="全局哈希特殊变量">全局哈希特殊变量</h3>
<table>
<thead>
<tr class="header">
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>%INC</code></td>
<td>散列表<code>%INC</code>包含所有用do或require语句包含的文件.关键字是文件名,值是这个文件的路径</td>
</tr>
<tr class="even">
<td><code>%ENV</code></td>
<td>包含当前环境变量</td>
</tr>
<tr class="odd">
<td><code>%SIG</code></td>
<td>信号列表及其处理方式</td>
</tr>
</tbody>
</table>
<h3 id="全局特殊文件句柄">全局特殊文件句柄</h3>
<table>
<colgroup>
<col width="17%">
<col width="82%">
</colgroup>
<thead>
<tr class="header">
<th>变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>ARGV</code></td>
<td>遍历数组变量@ARGV中的所有文件名的特殊文件句柄</td>
</tr>
<tr class="even">
<td><code>STDERR</code></td>
<td>标准错误输出句柄</td>
</tr>
<tr class="odd">
<td><code>STDIN</code></td>
<td>标准输入句柄</td>
</tr>
<tr class="even">
<td><code>STDOUT</code></td>
<td>标准输出句柄</td>
</tr>
<tr class="odd">
<td><code>DATA</code></td>
<td>特殊文件句柄引用了在文件中 <code>__END__</code> 标志后的任何内容包含脚本内容。或者引用一个包含文件中<code>__DATA__</code>标志后的所有内容，只要你在同一个包有读取数据，<code>__DATA__</code>就存在。</td>
</tr>
<tr class="even">
<td><code>_ (下划线)</code></td>
<td>特殊的文件句柄用于缓存文件信息(fstat、stat和lstat)。</td>
</tr>
</tbody>
</table>
<h3 id="正则表达式特殊变量">正则表达式特殊变量</h3>
<table>
<colgroup>
<col width="8%">
<col width="22%">
<col width="68%">
</colgroup>
<thead>
<tr class="header">
<th>变量</th>
<th>英文形式变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>$n</code></td>
<td></td>
<td>包含上次模式匹配的第n个子串</td>
</tr>
<tr class="even">
<td><code>$&amp;</code></td>
<td><code>$MATCH</code></td>
<td>前一次成功模式匹配的字符串</td>
</tr>
<tr class="odd">
<td><code>$`</code></td>
<td><code>$PREMATCH</code></td>
<td>前次匹配成功的子串之前的内容</td>
</tr>
<tr class="even">
<td><code>$'</code></td>
<td><code>$POSTMATCH</code></td>
<td>前次匹配成功的子串之后的内容</td>
</tr>
<tr class="odd">
<td><code>$+</code></td>
<td><code>$LAST_PAREN_MATCH</code></td>
<td>与上个正则表达式搜索格式匹配的最后一个括号。例如：<code>/Version:   (.*)|Revision: (.*)/ &amp;&amp; ($rev = $+);</code></td>
</tr>
</tbody>
</table>
<h3 id="文件句柄特殊变量">文件句柄特殊变量</h3>
<table>
<thead>
<tr class="header">
<th>变量</th>
<th>英文形式变量</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>$|</code></td>
<td><code>$OUTPUT_AUTOFLUSH</code></td>
<td>如果设置为零,在每次调用函数write或print后，自动调用函数fflush,将所写内容写回文件</td>
</tr>
<tr class="even">
<td><code>$%</code></td>
<td><code>$FORMAT_PAGE_NUMBER</code></td>
<td>当前输出页号</td>
</tr>
<tr class="odd">
<td><code>$=</code></td>
<td><code>$FORMAT_LINES_PER_PAGE</code></td>
<td>当前每页长度。默认为 60。</td>
</tr>
<tr class="even">
<td><code>$-</code></td>
<td><code>$FORMAT_LINES_LEFT</code></td>
<td>当前页剩余的行数</td>
</tr>
<tr class="odd">
<td><code>$~</code></td>
<td><code>$FORMAT_NAME</code></td>
<td>当前报表输出格式的名称。默认值是文件句柄名。</td>
</tr>
<tr class="even">
<td><code>$^</code></td>
<td><code>$FORMAT_TOP_NAME</code></td>
<td>当前报表输出表头格式的名称。默认值是带后缀“_TOP“的文件句柄名。</td>
</tr>
</tbody>
</table>
<h2 id="参考资料">参考资料</h2>
<p><a href="http://www.runoob.com/perl/perl-tutorial.html" target="_blank" rel="external">Perl教程|菜鸟教程</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/12/Perl学习笔记（1）-基础笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/12/Perl学习笔记（1）-基础笔记/" itemprop="url">Perl学习笔记（1）-基础语法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-12T12:00:00+08:00">
                2018-05-12
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Perl/" itemprop="url" rel="index">
                    <span itemprop="name">Perl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  3,969
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  17
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言">前言</h2>
<p>在生物信息学方面，Python，R，Perl，Linux我觉得是必须要掌握的4个工具，以前学习一些Perl，只是不系统，笔记记得有点散，没有把它们总结起来。现在总结一下Perl的学习笔记。参考资料主要为：一、<a href="http://www.runoob.com/perl/perl-tutorial.html" target="_blank" rel="external">Perl教程|菜鸟教程</a>（这个是主要的，思路非常简洁，并且把原代码列了出来，非常适应初学者）；二、<a href="https://item.jd.com/10972653.html" target="_blank" rel="external">O’Reilly：Perl语言入门（第6版）（中文版）</a>（刚开始是想看小骆驼这本书的，但后来发现在案例操作上写得不太好）；三、百度搜索辅助。Linux的Ubuntu发行版中自带了Perl语句，输入<code>perl -v</code>就能够查看到Perl的版本，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ perl -v</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">This is perl 5, version 22, subversion 0 (v5.22.0) built for x86_64-linux-thread-multi</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">Copyright 1987-2015, Larry Wall</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">Perl may be copied only under the terms of either the Artistic License or the</span></div><div class="line"><span class="regexp">GNU General Public License, which may be found in the Perl 5 source kit.</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">Complete documentation for Perl, including FAQ lists, should be found on</span></div><div class="line"><span class="regexp">this system using "man perl" or "perldoc perl".  If you have access to the</span></div><div class="line"><span class="regexp">Internet, point your browser at http:/</span><span class="regexp">/www.perl.org/</span>, the Perl Home Page.</div></pre></td></tr></table></figure>
<h2 id="交互式编程">交互式编程</h2>
<p>在Linux的shell中可以直接使用Perl进行交互式编程 ，格式为<code>perl -e 代码块，</code>如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">02</span>datatype$ perl -e <span class="string">'print "Hello,world\n"'</span></div><div class="line">Hello,world</div></pre></td></tr></table></figure>
<h2 id="一个简单的perl程序">一个简单的Perl程序</h2>
<p>先看一个简单的Perl程序，在Ubuntu中输入<code>vim helloworld.pl</code>建立一个perl程序，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/perl -w</span></div><div class="line"><span class="keyword">print</span> <span class="string">"Hello, world!\n"</span>;</div><div class="line"><span class="comment"># this is comment</span></div></pre></td></tr></table></figure>
<p>从这一段代码中我们可以了解到这些内容：</p>
<ol style="list-style-type: decimal">
<li>第一行的<code>#!/usr/bin/perl</code>是告诉系统，Perl的解释器位于哪里，这一段代码不要省略，<code>-w</code>不是必须的，加上<code>-w</code>参数表示提示警告；</li>
<li>每次输入一行代码后，要以分号（<code>;</code>）结尾；</li>
<li>Perl程序用井号（<code>#</code>）作为注释。</li>
</ol>
<p>按<code>Esc</code>键，输入<code>wq</code>，保存退出。在命令行模式输入<code>perl first.pl</code>后，按回车就可以运行，显示结果。再次按回车，运行结束，运行结果如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ perl first.pl</span></div><div class="line"><span class="regexp">This is my first perl program</span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">biotest@ubuntu:~/perl</span>$</div></pre></td></tr></table></figure>
<p>其实Perl语句的扩展名也可以不用，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ mv helloworld.pl helloworld2</span></div><div class="line"><span class="regexp">biotest@ubuntu:~/perl</span>$ perl helloworld2</div><div class="line">This is <span class="keyword">my</span> first perl program</div><div class="line"></div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl$</span></div></pre></td></tr></table></figure>
<p>也可以更改权限，直接执行，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ chmod u+x helloworld2 </span></div><div class="line"><span class="regexp">biotest@ubuntu:~/perl</span>$ ./helloworld2 </div><div class="line">This is <span class="keyword">my</span> first perl program</div><div class="line"></div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl$</span></div></pre></td></tr></table></figure>
<h2 id="注释">注释</h2>
<p>Perl程序除了使用井号作为单行注释外，还可以使用POD（Plain Old Documentations）来进行多行注释，格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">=pdo 注释</span></div><div class="line"><span class="comment">这是一个多行注释</span></div><div class="line"><span class="comment">这是一个多行注释</span></div><div class="line"><span class="comment">这是一个多行注释</span></div><div class="line"><span class="comment">这是一个多行注释</span></div><div class="line"><span class="comment">=cut</span></div></pre></td></tr></table></figure>
<p>看一个Perl程序（命令为multiple_comment.pl），如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"><span class="keyword">print</span> <span class="string">"This is my perl program \n"</span>;</div><div class="line"></div><div class="line"><span class="comment">=pdo</span></div><div class="line"><span class="comment">This is a multiple annotation;</span></div><div class="line"><span class="comment">THis is a multiline commnet;</span></div><div class="line"><span class="comment">=cut</span></div><div class="line"></div><div class="line">$a=&lt;&gt;;</div><div class="line"><span class="keyword">print</span> $a;</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ perl multiple_comment.pl </span></div><div class="line"><span class="regexp">This is my perl program </span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp"></span></div><div class="line"><span class="regexp">biotest@ubuntu:~/perl</span>$</div></pre></td></tr></table></figure>
<p>使用POD注释需要注意的是，①=pod、 =cut只能在行首；②以=开头，以=cut结尾；③=后面要紧接一个字符，=cut后面可以不用。</p>
<h2 id="here文档">Here文档</h2>
<p>Here可以向命令中传递大量的字符串，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line">$var = &lt;&lt;<span class="string">"EOF"</span>;</div><div class="line">This is a Here Document instance using double quotation marks.</div><div class="line">You can input soma character <span class="keyword">and</span> variables,<span class="keyword">for</span> example:</div><div class="line">a = $a</div><div class="line">EOF</div><div class="line"><span class="keyword">print</span> <span class="string">"$var\n"</span>;</div><div class="line"></div><div class="line">$var=&lt;&lt;<span class="string">'EOF'</span>;</div><div class="line">This is another Here Document instance using single quotation marks.</div><div class="line"><span class="keyword">for</span> example:a=$a</div><div class="line">EOF</div><div class="line"><span class="keyword">print</span> <span class="string">"$var\n"</span>;</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ perl here.pl </div><div class="line">This is a Here Document instance using double quotation marks.</div><div class="line">You can input soma character <span class="keyword">and</span> variables,<span class="keyword">for</span> example:</div><div class="line">a = <span class="number">10</span></div><div class="line"></div><div class="line">This is another Here Document instance using single quotation marks.</div><div class="line"><span class="keyword">for</span> example:a=$a</div></pre></td></tr></table></figure>
<p>从结果可以看出，here文档可以向一条命令传递大量的字符串，并且这些字符串中如果有变量，它也会显示出来。它的用法为：</p>
<ol style="list-style-type: decimal">
<li>必须后接分号，否则编译通不过。</li>
<li>END可以用任意其它字符代替，只需保证结束标识与开始标识一致。</li>
<li>结束标识必须顶格独自占一行(即必须从行首开始，前后不能衔接任何空白和字符)。</li>
<li>开始标识可以不带引号号或带单双引号，不带引号与带双引号效果一致，解释内嵌的变量和转义符号，带单引号则不解释内嵌的变量和转义符号。</li>
<li>当内容需要内嵌引号（单引号或双引号）时，不需要加转义符，本身对单双引号转义。</li>
</ol>
<h2 id="perl关于空格的处理">Perl关于空格的处理</h2>
<p>Perl 解释器不会关心有多少个空白，以下程序也能正常运行，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ cat blank.pl </span></div><div class="line"><span class="regexp">#!/usr</span><span class="regexp">/bin/perl</span></div><div class="line"><span class="keyword">print</span>      <span class="string">"Hello, world\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ perl blank.pl </span></div><div class="line"><span class="regexp">Hello, world</span></div><div class="line"><span class="regexp">biotest@ubunt</span></div></pre></td></tr></table></figure>
<p>但是如果出现了两行，就会原样输出，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"><span class="keyword">print</span> <span class="string">"Hello </span></div><div class="line"><span class="string">           world\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ perl blank2.pl </span></div><div class="line"><span class="regexp">Hello </span></div><div class="line"><span class="regexp">           world</span></div></pre></td></tr></table></figure>
<p>其实这个也好理解，因为换行的时候有可能引入了一个换行符（虽然看不到），与原来只在一行时，中间有几个空格已经不同了。</p>
<h2 id="单引号和双引号">单引号和双引号</h2>
<p>双引号可以正常解析一些转义字符与变量，而单引号无法解析会原样输出，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ cat quotation.pl </span></div><div class="line"><span class="regexp">#!/usr</span><span class="regexp">/bin/perl</span></div><div class="line"><span class="keyword">print</span> <span class="string">"Hello, world\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">'Hello, world\n'</span>;</div><div class="line">$a=<span class="number">10</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"a=$a\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">'a=$a\n'</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"this is the end"</span></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl$ perl quotation.pl </span></div><div class="line"><span class="regexp">Hello, world</span></div><div class="line"><span class="regexp">Hello, world\na=10</span></div><div class="line"><span class="regexp">a=$a\nthis is the endbiotest@ubuntu:~/perl</span>$</div></pre></td></tr></table></figure>
<p>从结果可以看出，使用双引号，可以使用转义字符，如果是单引号，则无法使用转义字符，另外，还能发现，如果结尾没有转义字符，输出的内容就会连成一片，形成一行，不太美观，因此在前面的案例中，多数使用双引号，并在结尾部分引入<code>\n</code>转义字符。</p>
<h2 id="案例分析">案例分析</h2>
<p>现在看一个实际运用中的案例，代码（脚本文件名为<code>example.pl</code>），如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">@lines=<span class="string">`perldoc -u -f atan2`</span>;</div><div class="line"><span class="keyword">foreach</span>(@lines)&#123;</div><div class="line"><span class="keyword">s</span>/\w&lt;([^&gt;]+)&gt;<span class="regexp">/\U$1/g</span>;</div><div class="line"><span class="keyword">print</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>在运行之前，先看一下直接在bash中运行<code>perldoc -u -f atan2</code>的结果，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ perldoc -u -f <span class="keyword">atan2</span>|cat</div><div class="line"><span class="comment">=over 8</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">=item atan2 Y,X</span></div><div class="line"><span class="comment">X&lt;atan2&gt; X&lt;arctangent&gt; X&lt;tan&gt; X&lt;tangent&gt;</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">=for Pod::Functions arctangent of Y/X in the range -PI to PI</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">Returns the arctangent of Y/X in the range -PI to PI.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">For the tangent operation, you may use the C&lt;Math::Trig::tan&gt;</span></div><div class="line"><span class="comment">function, or use the familiar relation:</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    sub tan &#123; sin($_[0]) / cos($_[0])  &#125;</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">The return value for C&lt;atan2(0,0)&gt; is implementation-defined; consult</span></div><div class="line"><span class="comment">your atan2(3) manpage for more information.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">Portability issues: L&lt;perlport/atan2&gt;.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">=back</span></div></pre></td></tr></table></figure>
<p>再次运行刚才那段代码（代码名称为example.pl），如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ perl example.pl |cat</div><div class="line"><span class="comment">=over 8</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">=item atan2 Y,X</span></div><div class="line"><span class="comment">ATAN2 ARCTANGENT TAN TANGENT</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">=for Pod::Functions arctangent of Y/X in the range -PI to PI</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">Returns the arctangent of Y/X in the range -PI to PI.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">For the tangent operation, you may use the MATH::TRIG::TAN</span></div><div class="line"><span class="comment">function, or use the familiar relation:</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">    sub tan &#123; sin($_[0]) / cos($_[0])  &#125;</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">The return value for ATAN2(0,0) is implementation-defined; consult</span></div><div class="line"><span class="comment">your atan2(3) manpage for more information.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">Portability issues: PERLPORT/ATAN2.</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="comment">=back</span></div></pre></td></tr></table></figure>
<p>现在解释一下原来的代码（<code>example.pl</code>）：</p>
<p>第一行：<code>#!/usr/bin/perl</code>：这是告诉Ubuntu，perl解释器位于<code>/usr/bin/perl</code>（每台电脑可能有所不同，但是必须是perl解释器所在的地址）；</p>
<p>第二行：<code>@lines=`perldoc -u -f atan2`</code>：这里有使用了一对反引号（<code>`</code>）来调用外部的命令，即<code>perldoc -u -f atan2</code>，在bash中直接运行这条命令，出来的结果是一文字，这个命令是用于阅读Perl及相关扩展和工具程序的说明文档，这里显示的是在Perl中如何使用三角函数atan2的一些信息。反引号输出的结果会一行行依次被储存在<code>@lines</code>这个数组变量中，接着代码启动了一个循环（这里的foreach就相当于bash中的for），依次对每行数据进行处理，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">foreach</span>(@lines)&#123;</div><div class="line"><span class="keyword">s</span>/\w&lt;([^&gt;]+)&gt;<span class="regexp">/\U$1/g</span>;</div><div class="line"><span class="keyword">print</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>第三到六行：其中最主要的是这么一段奇怪的符号，即<code>s/\w&lt;([^&gt;]+)&gt;/\U$1/g</code>，它的大概意思是：对每个包含一对尖括号（<code>&lt;&gt;</code>）的行进行相应的数据替换操作（跟bash shell中的sed有点类似）。</p>
<h2 id="perl帮助文档的查阅">Perl帮助文档的查阅</h2>
<p>Perl的帮助文档的函数是<code>perldoc -f 指令</code>，<code>perldoc -m 模块</code>，或者是<code>perldoc perldoc</code>（这个是教你怎么使用Perldoc），在使用<code>perl -f</code>之前，需要安装<code>perldoc</code>，否则会报错，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">You need to install the perl-doc <span class="keyword">package</span> to <span class="keyword">use</span> this program</div></pre></td></tr></table></figure>
<p>安装Perldoc的代码为：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install perl-doc</div></pre></td></tr></table></figure>
<p>现在使用一下帮助，查询一下<code>opendir</code>这个函数，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perldoc -f <span class="keyword">opendir</span>|cat</div><div class="line">    <span class="keyword">opendir</span> DIRHANDLE,EXPR</div><div class="line">            Opens a directory named EXPR <span class="keyword">for</span> processing by <span class="string">"readdir"</span>,</div><div class="line">            <span class="string">"telldir"</span>, <span class="string">"seekdir"</span>, <span class="string">"rewinddir"</span>, <span class="keyword">and</span> <span class="string">"closedir"</span>. Returns true <span class="keyword">if</span></div><div class="line">            successful. DIRHANDLE may be an expression whose value can be used</div><div class="line">            as an indirect dirhandle, usually the real dirhandle name. If</div><div class="line">            DIRHANDLE is an undefined <span class="keyword">scalar</span> variable (<span class="keyword">or</span> array <span class="keyword">or</span> hash</div><div class="line">            element), the variable is assigned a reference to a new anonymous</div><div class="line">            dirhandle; that is, it<span class="string">'s autovivified. DIRHANDLEs have their own</span></div><div class="line"><span class="string">            namespace separate from FILEHANDLEs.</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">            See the example at "readdir".</span></div></pre></td></tr></table></figure>
<p>再查询一下<code>MIME::Base64</code>这个包，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~$ perldoc -<span class="keyword">m</span> MIME::Base64|head</div><div class="line"><span class="keyword">package</span> MIME::Base64;</div><div class="line"></div><div class="line"><span class="keyword">use</span> strict;</div><div class="line"><span class="keyword">use</span> vars <span class="string">qw(@ISA @EXPORT @EXPORT_OK $VERSION)</span>;</div><div class="line"></div><div class="line"><span class="keyword">require</span> Exporter;</div><div class="line">@ISA = <span class="string">qw(Exporter)</span>;</div><div class="line">@EXPORT = <span class="string">qw(encode_base64 decode_base64)</span>;</div><div class="line">@EXPORT_OK = <span class="string">qw(encode_base64url decode_base64url encoded_base64_length decoded_base64_length)</span>;</div></pre></td></tr></table></figure>
<h2 id="perl的包">Perl的包</h2>
<p>Perl 中每个包有一个单独的符号表，定义语法如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> mypack;</div></pre></td></tr></table></figure>
<p>这段代码定义了一个名为<code>mypack</code>的包，在此后定义的所有变量和函数的名称都储存在这个包关联的符号表中，直到遇到另外一个<code>package</code>为止。Perl中的这个包我觉得有点类型Python中的模块。</p>
<p>每个符号表有其自己的一组变量、函数，各组名字是不相关的，因此可以在不同的包中使用相同的变量名，而代表的是不同的变量。从一个包中访问另外一个包的变量，可通过<code>包名+双冒号(::)+变量名</code>的方式。存贮变量和函数的名字的默认符号表是与名为main的包相关联的。如果在程序里定义了其它的包，当你想切换回去使用默认的符号表，可以重新指定main包，如下所示</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> main;</div></pre></td></tr></table></figure>
<p>这样，接下来的程序就好象从没定义过包一样，变量和子程序的名字象通常那样存贮。以下实例中文件有<code>main</code>和<code>Foo</code>包。特殊变量<code>__PACKAGE__</code>用于输出包名，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ cat package.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="comment"># This is "main" package</span></div><div class="line"><span class="keyword">print</span> <span class="string">"The name of package is: "</span>,__PACKAGE_<span class="number">_</span>,<span class="string">" $i\n"</span>;</div><div class="line"></div><div class="line"><span class="keyword">package</span> Foo;</div><div class="line"><span class="comment"># This is "Foo" package</span></div><div class="line">$i=<span class="number">10</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"The name of package is: "</span>,__PACKAGE_<span class="number">_</span>,<span class="string">" $i\n"</span>;</div><div class="line"></div><div class="line"><span class="keyword">package</span> main;</div><div class="line"><span class="comment"># Redirect "main" package</span></div><div class="line">$i =<span class="number">100</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"The name of package is: "</span>,__PACKAGE_<span class="number">_</span>, <span class="string">" $i\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"The name of package is: "</span>,__PACKAGE_<span class="number">_</span>,<span class="string">" $Foo::i\n"</span>;</div><div class="line"></div><div class="line"><span class="number">1</span>;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ perl package.pl </div><div class="line">The name of <span class="keyword">package</span> is: main </div><div class="line">The name of <span class="keyword">package</span> is: Foo <span class="number">10</span></div><div class="line">The name of <span class="keyword">package</span> is: main <span class="number">100</span></div><div class="line">The name of <span class="keyword">package</span> is: main <span class="number">10</span></div></pre></td></tr></table></figure>
<p>代码及结果解释：perl中默认的包是main包，因此在开头并没有定义这个main包，接着定义了一个Foo包，最后为了切换回main包，又需要对mian包重新指定。末尾要添加1；执行返回 TRUE，这是必须的，否则返回错误。</p>
<h2 id="begin和end模块">BEGIN和END模块</h2>
<p>Perl语言提供了两个关键字：BEGIN，END。它们可以分别包含一组脚本，用于程序体运行前或者运行后的执行，使用格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">BEGIN &#123; ... &#125;</div><div class="line">END &#123; ... &#125;</div><div class="line">BEGIN &#123; ... &#125;</div><div class="line">END &#123; ... &#125;</div></pre></td></tr></table></figure>
<ol style="list-style-type: decimal">
<li>每个<code>BEGIN</code>模块在Perl脚本载入和编译后但在其他语句执行前执行。</li>
<li>每个<code>END</code>语句块在解释器退出前执行。</li>
<li><code>BEGIN</code>和<code>END</code>语句块在创建Perl模块时特别有用。</li>
</ol>
<p>看下面的案例：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ cat begin_end.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">package</span> Foo;</div><div class="line"><span class="keyword">print</span> <span class="string">"Begin and Block instance\n"</span>;</div><div class="line"></div><div class="line">BEGIN&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"This is BEGIN statements blocks\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">END &#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"This is END statements blocks\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="number">1</span>;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ perl begin_end.pl </div><div class="line">This is BEGIN statements blocks</div><div class="line">Begin <span class="keyword">and</span> Block instance</div><div class="line">This is END statements blocks</div></pre></td></tr></table></figure>
<p>这段代码定义了一个叫<code>Foo</code>的包，在运行这个包的时候，先执行了<code>BEGIN</code>的代码，在运行这个包之后，又执行了<code>END</code>这一部分的代码。</p>
<h2 id="perl模块的创建">Perl模块的创建</h2>
<p>Perl模块是一个可重复使用的包，模块的名字与包名相同，定义的文件后缀为.pm。以下我们定义了一个模块<code>Foo.pm</code>，代码如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">01</span>basic$ cat module.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">package</span> Foo;</div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">bar</span> </span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"Hello $_[0]\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">blat</span> </span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"World $_[0]\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="number">1</span>;</div></pre></td></tr></table></figure>
<p>关于这段代码以及Perl模块的解释：</p>
<ol style="list-style-type: decimal">
<li>末尾1；执行返回TRUE，这是必须的，否则返回错误。</li>
<li>使用函数require和use载入一个模块。</li>
<li><code>require</code>和<code>use</code>函数调用eval函数来执行代码。</li>
<li><code>@IN</code>C是Perl内置的一个特殊数组，它包含指向库例程所在位置的目录路径。</li>
</ol>
<h2 id="包的调用函数require和use">包的调用函数require和use</h2>
<p>Perl使用<code>require</code>函数来调用模块，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">require</span> Foo;</div><div class="line"></div><div class="line">Foo::bar(<span class="string">"a"</span>);</div><div class="line">Foo::blat(<span class="string">"b"</span>);</div></pre></td></tr></table></figure>
<p>Perl也可以使用use函数来调用要共模块，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">use</span> Foo;</div><div class="line"></div><div class="line">bar(<span class="string">"a"</span>);</div><div class="line">blat(<span class="string">"b"</span>);</div></pre></td></tr></table></figure>
<p>从这两个案例可以看出这些内容：</p>
<ol style="list-style-type: decimal">
<li>require用于载入module或perl程序(.pm后缀可以省略，但.pl必须有)；</li>
<li>Perl use语句是编译时引入的，require是运行时引入的；</li>
<li>Perl use引入模块的同时，也引入了模块的子模块。而require则不能引入，要在重新声明；</li>
<li>USE是在当前默认的@INC里面去寻找,一旦模块不在@INC中的话,用USE是不可以引入的，但是require可以指定路径；</li>
<li>USE引用模块时，如果模块名称中包含<code>::</code>双冒号，该双冒号将作为路径分隔符，相当于Unix下的<code>/</code>或者Windows下的<code>\</code>。 例如<code>use MyDirectory::MyModule</code>。</li>
</ol>
<p>通过添加以下语句 use 模块就可以从模块中导出列表符号：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">require</span> Exporter;</div><div class="line">$ISA=<span class="string">qw(Exporter)</span>;</div></pre></td></tr></table></figure>
<p><code>@EXPORT</code>数组包含默认导出的变量和函数的名字，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> Module;</div><div class="line"></div><div class="line"><span class="keyword">require</span> Exporter;</div><div class="line">@ISA = <span class="string">qw(Exporter)</span>;</div><div class="line">@EXPORT = <span class="string">qw(bar blat)</span>;  <span class="comment"># 默认导出的符号</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">bar</span> </span>&#123; <span class="keyword">print</span> <span class="string">"Hello $_[0]\n"</span> &#125;</div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">blat</span> </span>&#123; <span class="keyword">print</span> <span class="string">"World $_[0]\n"</span> &#125;</div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">splat</span> </span>&#123; <span class="keyword">print</span> <span class="string">"Not $_[0]\n"</span> &#125;  <span class="comment"># Not exported!</span></div><div class="line"></div><div class="line"><span class="number">1</span>;</div></pre></td></tr></table></figure>
<h2 id="perl模块的安装">Perl模块的安装</h2>
<p>由于Perl本身只带了核心的Perl模块数，如果要用到其他的Perl模块，还需要到CPAN上下载。CPAN是Perl的一个公共模块仓库，英文全称为Comprehensive Perl Archive Network。搜索相应模块的地址为：http://search.cpan.org/。Linux下安装Perl模块有两种方法：手工安装和自动安装。</p>
<h3 id="手工安装模块">手工安装模块</h3>
<p>手工安装需要从CPAN上下载所需要的模块，手工编译、安装，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">tar xvfz 某个模块.tar.gz</div><div class="line">cd 解压后的目录</div><div class="line">perl Makefile.PL</div><div class="line">make</div><div class="line">make install</div></pre></td></tr></table></figure>
<p>整个过程与Ubuntu编译安装软件类似，过程就是这个样子：</p>
<ol style="list-style-type: decimal">
<li>首先运行 <code>perl Makefile.PL</code>在当前目录生成 <code>Makefile</code>；</li>
<li>然后运行 “make” 编译并创建所需的库文件；</li>
<li>之后用 “make test” 测试编译结果是否正确；最后运行 “make install” 将库文件安装到系统目录，至此整个编译过程结束。</li>
</ol>
<h3 id="自动安装模块">自动安装模块</h3>
<p>第二种方法是联网安装，需要使用CPAN的模块自动完成下载、编译、安装，过程如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">perl -MCPAN -e shell <span class="comment">#进入cpan</span></div><div class="line">install 包名</div><div class="line"><span class="keyword">q</span> 退出</div></pre></td></tr></table></figure>
<h2 id="perl模块的查看">Perl模块的查看</h2>
<h3 id="第一种方法使用perldoc-模块名">第一种方法：使用perldoc + 模块名</h3>
<p>有时候需要查看Perl的某个模块是否已经安装了，此时使用<code>perldoc</code>直接查看这个模块的文档即可，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">perldoc Carp <span class="comment"># Check Carp module installed</span></div></pre></td></tr></table></figure>
<h3 id="第二种方法perldoc-perllocal">第二种方法：perldoc + perllocal</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">perldoc Carp</div></pre></td></tr></table></figure>
<h3 id="第三种方法使用instmodsh函数">第三种方法：使用instmodsh函数</h3>
<p>直接在Shell中输入<code>instmodsh</code>，此时会出现命令提示行，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">Available commands are:</div><div class="line">   l            - List all installed modules</div><div class="line">   <span class="keyword">m</span> &lt;module&gt;   - Select a module</div><div class="line">   <span class="keyword">q</span>            - Quit the program</div><div class="line">cmd?</div></pre></td></tr></table></figure>
<p>系统会提示你输入相应的代码，输入<code>l</code>是查看已经安装的模块，输入<code>m 模块名</code>，查看具体的模块，输入<code>q</code>是退出。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">RVDSD</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">78</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">59</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">RVDSD</span>

  
</div>



<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共258.5k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
