<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="生物信息学," />










<meta name="description" content="面向对象相关知识背景面向对象即Object Oriented,OO，这是一种软件开发方法，具体的定义也说不清楚，根据书中的描述，对象大致意味着一系列数据或属性以及一套访问这些数据的方法。在《Python无师自通》这本书中提到：  在 Python 中，每一个数据值，如 2 或”Hello, World!”，被称为对象（object）。可以把对象看作拥有 3 个属性的数据值：唯一标识（identit">
<meta name="keywords" content="生物信息学">
<meta property="og:type" content="article">
<meta property="og:title" content="Python学习笔记（12）-黑马教程-面向对象之封装">
<meta property="og:url" content="http://rvdsd.top/2018/04/13/Python/Python学习笔记（12）-面向对象之封装/index.html">
<meta property="og:site_name" content="RVDSD的个人笔记本">
<meta property="og:description" content="面向对象相关知识背景面向对象即Object Oriented,OO，这是一种软件开发方法，具体的定义也说不清楚，根据书中的描述，对象大致意味着一系列数据或属性以及一套访问这些数据的方法。在《Python无师自通》这本书中提到：  在 Python 中，每一个数据值，如 2 或”Hello, World!”，被称为对象（object）。可以把对象看作拥有 3 个属性的数据值：唯一标识（identit">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://pic-1256416512.cos.ap-chengdu.myqcloud.com/img/20190520193938.png">
<meta property="og:image" content="https://pic-1256416512.cos.ap-chengdu.myqcloud.com/img/20190521124623.png">
<meta property="og:updated_time" content="2019-06-18T06:52:30.744Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Python学习笔记（12）-黑马教程-面向对象之封装">
<meta name="twitter:description" content="面向对象相关知识背景面向对象即Object Oriented,OO，这是一种软件开发方法，具体的定义也说不清楚，根据书中的描述，对象大致意味着一系列数据或属性以及一套访问这些数据的方法。在《Python无师自通》这本书中提到：  在 Python 中，每一个数据值，如 2 或”Hello, World!”，被称为对象（object）。可以把对象看作拥有 3 个属性的数据值：唯一标识（identit">
<meta name="twitter:image" content="https://pic-1256416512.cos.ap-chengdu.myqcloud.com/img/20190520193938.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://rvdsd.top/2018/04/13/Python/Python学习笔记（12）-面向对象之封装/"/>





  <title>Python学习笔记（12）-黑马教程-面向对象之封装 | RVDSD的个人笔记本</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">RVDSD的个人笔记本</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">学习过程中的输出</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/04/13/Python/Python学习笔记（12）-面向对象之封装/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Python学习笔记（12）-黑马教程-面向对象之封装</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-04-13T12:00:00+08:00">
                2018-04-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  12,884
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  50
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="面向对象相关知识背景"><a href="#面向对象相关知识背景" class="headerlink" title="面向对象相关知识背景"></a>面向对象相关知识背景</h2><p>面向对象即Object Oriented,OO，这是一种软件开发方法，具体的定义也说不清楚，根据书中的描述，对象大致意味着一系列数据或属性以及一套访问这些数据的方法。在《Python无师自通》这本书中提到：</p>
<blockquote>
<p>在 Python 中，每一个数据值，如 2 或”Hello, World!”，被称为对象（object）。可以把对象看作拥有 3 个属性的数据值：唯一标识（identity）、数据类型和值。</p>
<p>对象的唯一标识，指的是其在计算机内存中的地址，该地址不会变化。</p>
<p>对象的数据类型是对象所属的数据类别，这决定了对象的属性，也不会变化。</p>
<p>对象的值是其表示的数据，例如数字 2 的值即为 2。</p>
<p>“Hello, World!”这个对象的数据类型为字符串（str，string 的缩写），值为”Hello, World!”。如果提及数据类型为 str 的对象，可以称其为字符串。</p>
</blockquote>
<p>与面向对象有关的一些术语有多态、封装、方法、属性、超类和继承。</p>
<p>多态：可对不同类型的对象执行相同的损伤；；</p>
<p>封装：对外部隐藏有关对象工作原理的细节。</p>
<p>继承：可基于通用类创建出专用类。</p>
<p>在后面的笔记中会详细说明这是什么意思。</p>
<h2 id="什么是类"><a href="#什么是类" class="headerlink" title="什么是类"></a>什么是类</h2><p>类是一种对象，每个对象都属于特定的类，并被称为该类的实例。例如，如果你在窗外看到一只鸟，这只鸟就是“鸟类”的一个实例，鸟类是一个非常通用（抽象）的类，它有许多个子类：你看到的那只鸟可能属于子类”云雀“。你可以将“鸟类”视为由所有鸟组成的集合，而“云雀”是其一个子集，一个类的对象为另一个类的对象的子集时，前者就是后者的子类。因此“云雀”为“鸟类”的子类，而“鸟类”为“云雀”的超类。并且在面向对象的编程中，是先定义类，然后再由类生成一个实例。</p>
<p>通过上面的比喻，我们大致就理解了类，子类，超类。但在面向对象的编程中，子类可能还要更复些，因为类是由其支持的方法定义的。类的所有实例都有该类的所有方法，因此子类的所有实例都有超类的所有方法。因此，要定义子类，只需要定义多出来的方法（或者是重写某个方法）即可。例如鸟类（我们用Bird替代）可能提供方法fly，而Penguin类（Bird的一个子类）可能新增方法eat_fish。创建Penguin类时，我们还可能要重写超类方法，即方法fly，企鹅Penguin不会飞，我们要在Penguin的实例中，方法fly应什么都不做或引发异常。</p>
<h3 id="创建类"><a href="#创建类" class="headerlink" title="创建类"></a>创建类</h3><p>在使用面向对象开发之前，应该首先分析一下需要，确定程序中需要包括哪些类。在程度开发中，要设计一个类，通常需要满足以下三个要求：</p>
<ol>
<li>类名。类名的命名要以驼峰式命名法进行命名，也就是每个单词的首字母要大写，例如<code>CapWords</code>；</li>
<li>属性。属性赋予事物具有什么样的特性；</li>
<li>方法。方法赋予事物具有什么样的行为。</li>
<li></li>
</ol>
<h2 id="封装-encapsulation"><a href="#封装-encapsulation" class="headerlink" title="封装(encapsulation)"></a>封装(encapsulation)</h2><p>封装指的是向外部隐藏不必要的细节。这听起来有点像多态（无需知道对象的内部细节就可使用它）。这两个概念很像，因为它们都是抽象的原则。它们都像函数一样，可帮助你处理程序的组成部分，让你无需关心不必要的细节。 </p>
<p>但封装与多态又有所不同，多态让你无需知道对象所属的类（对象的类型）就能调用其方法，而封闭则是让你需知道对象的构造就能使用它，下面展示一个案例，在这个案例中，使用了多态，但是没有使用封闭，发吭你有一个名为OpenObject的类，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;o = OpenObject()</div><div class="line">&gt;&gt;&gt;o.set_name(<span class="string">'Sir Lancelot'</span>)</div><div class="line">&gt;&gt;&gt;o.get_names()</div><div class="line">&gt;&gt;&gt;<span class="string">'Sir Lancelot'</span></div></pre></td></tr></table></figure>
<p>在上面的案例中，我们像调用函数一样调用了类，创建了一个对象，并将其关联到变量o，然后使用了<code>set_name</code>和<code>get_name</code>这两个方法（假设OpenObject支持这些方法），但是，如果o将其名称储存在全局变量global_name中，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;gloabl_name</div><div class="line"><span class="string">'Sir Lancelot'</span></div></pre></td></tr></table></figure>
<p>这就意味着使用OpenObject类的实例（对象）时，就需要考虑global_name的内容，事实上，必须确保无人能修改它。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;global_name = <span class="string">'Sir Gumby'</span></div><div class="line">&gt;&gt;&gt;o.get_name()</div><div class="line"><span class="string">'Sir Gumby'</span></div></pre></td></tr></table></figure>
<p>d如果浓度创建多个OpenObject对象，则会出现问题，因为它们共用同一个变量，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>o1 = OpenObject() </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>o2 = OpenObject() </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>o1.set_name(<span class="string">'Robin Hood'</span>) </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>o2.get_name() </div><div class="line"><span class="string">'Robin Hood'</span></div></pre></td></tr></table></figure>
<p>在上面的这个案例中，设置一个对象的名称时，将自动设置另一个对象的名称，这可能不是我们想要的结果。基本上，你希望对象是抽象的：当调用方法时，无需操心其他的事情，如避免干扰全局变量。如何将名称“封装”在对象中呢，将其作为一种<code>属性</code>即可，属性是归属于对象的变量，就像方法一样，实际上，方法差不多就是与函数相关联的属性，如果你使用属性而非全局变量重新编写前面的类，并将其重命名为ClosedObject，就可以像下面这样使用它，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>c = ClosedObject() </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>c.set_name(<span class="string">'Sir Lancelot'</span>) </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>c.get_name() </div><div class="line"><span class="string">'Sir Lancelot'</span></div></pre></td></tr></table></figure>
<p>到目前为止，一切顺利，但这并不能证明名称不是存储在全局变量中的，现在再来创建一个对象，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>r = ClosedObject() </div><div class="line"><span class="meta">&gt;&gt;&gt; </span>r.set_name(<span class="string">'Sir Robin'</span>) </div><div class="line">r.get_name()</div><div class="line"><span class="string">'Sir Robin'</span></div></pre></td></tr></table></figure>
<p>从中可知正确地设置了新对象的名称，此时再来看一下第一个对象，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>c.get_name() </div><div class="line"><span class="string">'Sir Lancelot'</span></div></pre></td></tr></table></figure>
<p>其名称还在，因为这个对象有自己的状态，对象的状态由其属性（如名称）描述，对象的方法可能修改这些属性，因此对象将一系列函数（方法）组合起来，并赋予它们访问一些变量（属性）的权限，而属性可用于在两次函数调用之间存储值。</p>
<h3 id="属性和方法的确定"><a href="#属性和方法的确定" class="headerlink" title="属性和方法的确定"></a>属性和方法的确定</h3><p>描述对象特征的内容可以定义为<code>属性</code>。对象具有的某些行为（动词），就可以定义为<code>方法</code>。</p>
<p>例如我们看下面一个案例：</p>
<ul>
<li><strong>小明</strong>今年<strong>18岁</strong>，身高<strong>1.75</strong>，每天早上<strong>跑</strong>完步，会去<strong>吃</strong>东西。</li>
<li><strong>小美</strong>今年<strong>17岁</strong>，身高<strong>1.65</strong>，小美<strong>不跑步</strong>，小美喜<strong>欢</strong>吃东西。</li>
</ul>
<p>从上面的描述我们可以这么思考，我们可以设计一个人类，例如<code>persion</code>，这个类中需要包含3个属性，即名字<code>name</code>，年龄<code>age</code>，和身高<code>height</code>，此外，还要包括2个动作，分别为是跑步<code>run</code>和吃东西<code>eat</code>。</p>
<p>再看一个案例：</p>
<p>我们有以下需求：</p>
<ul>
<li>一只<strong>黄颜色</strong>的狗，叫<strong>大黄</strong></li>
<li>看见生人<strong>叫</strong></li>
<li>看见家人<strong>摇尾巴</strong></li>
</ul>
<p>那么我们就会设计这样一个狗类(<code>Dog</code>)，这个类中含有2个属性，分别是名字(<code>name</code>）用于记录狗的名字，颜色(<code>color</code>)用于记录狗的颜色；含有2个方法，分别是叫(<code>shout</code>)和摇尾巴(<code>shake</code>)。</p>
<p>以上就是类是如何设计的，总之就是一句话，先考虑需求，然后考虑类，描述性的文字是属性，动作性的文字是方法。</p>
<h2 id="面向对象基础语法"><a href="#面向对象基础语法" class="headerlink" title="面向对象基础语法"></a>面向对象基础语法</h2><p>在Python中，对象无所不在，变量、数据、函数都是对象。在Python中，可能通过两种方法来验证以对象：</p>
<ol>
<li>在标记符/数据后输入一个<code>.</code>，然后按下<code>TAB</code>键，<code>ipython</code>就会提示该对象能够调用的<code>方法列表</code>。</li>
<li>使用内置函数<code>dir</code>传入标识符/数据，可以查看对象内的<strong>所有属性及方法</strong>。</li>
</ol>
<p>先看第一种方法，在<code>ipython</code>中定义一个列表变量，即<code>gl_list=[]</code>，然后输入<code>gl_list.</code>（后面有一个点），按下<code>TAB</code>键，后面就会出现这个对象能使用的方法，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">3</span>]: gl_list = []</div><div class="line"></div><div class="line">In [<span class="number">4</span>]: gl_list.</div><div class="line">    append() count() insert() reverse()</div><div class="line">    clear() extend() pop() sort()</div><div class="line">    copy() index() remove()</div></pre></td></tr></table></figure>
<p>现在定义一个函数，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">6</span>]: <span class="function"><span class="keyword">def</span> <span class="title">demo</span><span class="params">()</span>:</span></div><div class="line">   ...:     <span class="string">"""这是一个测试函数"""</span></div><div class="line">   ...:     print(<span class="string">"Hello python"</span>)</div><div class="line">   ...:</div><div class="line"></div><div class="line">In [<span class="number">7</span>]: demo()</div><div class="line">Hello python</div><div class="line"></div><div class="line">In [<span class="number">8</span>]: demo.</div></pre></td></tr></table></figure>
<p>此时输入demo后面再加一个点<code>.</code>，没有任何信息，此时就需要用另外一种方法来验证它是一个对象，也就是使用<code>dir</code>，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">10</span>]: dir(demo)</div><div class="line">Out[<span class="number">10</span>]:</div><div class="line">[<span class="string">'__annotations__'</span>,</div><div class="line"> <span class="string">'__call__'</span>,</div><div class="line"> <span class="string">'__class__'</span>,</div><div class="line"> <span class="string">'__closure__'</span>,</div><div class="line"> <span class="string">'__code__'</span>,</div><div class="line"> <span class="string">'__defaults__'</span>,</div><div class="line"> <span class="string">'__delattr__'</span>,</div><div class="line"> <span class="string">'__dict__'</span>,</div><div class="line"> <span class="string">'__dir__'</span>,</div><div class="line"> <span class="string">'__doc__'</span>,</div><div class="line"> <span class="string">'__eq__'</span>,</div><div class="line"> <span class="string">'__format__'</span>,</div><div class="line"> <span class="string">'__ge__'</span>,</div><div class="line"> <span class="string">'__get__'</span>,</div><div class="line"> <span class="string">'__getattribute__'</span>,</div><div class="line"> <span class="string">'__globals__'</span>,</div><div class="line"> <span class="string">'__gt__'</span>,</div><div class="line"> <span class="string">'__hash__'</span>,</div><div class="line"> <span class="string">'__init__'</span>,</div><div class="line"> <span class="string">'__init_subclass__'</span>,</div><div class="line"> <span class="string">'__kwdefaults__'</span>,</div><div class="line"> <span class="string">'__le__'</span>,</div><div class="line"> <span class="string">'__lt__'</span>,</div><div class="line"> <span class="string">'__module__'</span>,</div><div class="line"> <span class="string">'__name__'</span>,</div><div class="line"> <span class="string">'__ne__'</span>,</div><div class="line"> <span class="string">'__new__'</span>,</div><div class="line"> <span class="string">'__qualname__'</span>,</div><div class="line"> <span class="string">'__reduce__'</span>,</div><div class="line"> <span class="string">'__reduce_ex__'</span>,</div><div class="line"> <span class="string">'__repr__'</span>,</div><div class="line"> <span class="string">'__setattr__'</span>,</div><div class="line"> <span class="string">'__sizeof__'</span>,</div><div class="line"> <span class="string">'__str__'</span>,</div><div class="line"> <span class="string">'__subclasshook__'</span>]</div></pre></td></tr></table></figure>
<p>从上面的我们可以看出来，这里面是一个列表，它列出了很多方法，这些方法都是双下划线开头，双下划线结尾，这些东西都是Python内置的方法（<code>__方法名__</code>)，有些可以直接使用，例如<code>__doc__</code>，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">11</span>]: demo.__doc__</div><div class="line">Out[<span class="number">11</span>]: <span class="string">'这是一个测试函数'</span></div></pre></td></tr></table></figure>
<p>此时我们就可以看到，使用<code>__doc__</code>这个内置方法就能查看函数的文档说明，常用的一些内置方法/属性有以下这些：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>序号</th>
<th>方法名</th>
<th>类型</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td><code>__new__</code></td>
<td>方法</td>
<td>创建对象时，会被自动调用</td>
</tr>
<tr>
<td>2</td>
<td><code>__init__</code></td>
<td>方法</td>
<td>对象被初始化时，会被自动调用</td>
</tr>
<tr>
<td>3</td>
<td><code>__del__</code></td>
<td>方法</td>
<td>对象被从内存中销毁之前，会被自动调用</td>
</tr>
<tr>
<td>4</td>
<td><code>__str__</code></td>
<td>方法</td>
<td>返回对象的工描述信息，print函数输出使用</td>
</tr>
</tbody>
</table>
</div>
<p>因此，<code>dir()</code>这个函数很有用，例如当我想调用某个函数的方法时，一时想不想来，就可以使用<code>dir()</code>这个函数。</p>
<h2 id="定义简单的类"><a href="#定义简单的类" class="headerlink" title="定义简单的类"></a>定义简单的类</h2><h3 id="格式"><a href="#格式" class="headerlink" title="格式"></a>格式</h3><p>在Python中要定义一个只包含方法的类，格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> 类名</span></div><div class="line"><span class="class">    <span class="title">def</span> 方法1<span class="params">(self, 参数列表)</span>:</span></div><div class="line">        <span class="keyword">pass</span></div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">def</span> 方法2<span class="params">(self, 参数列表)</span>:</span></div><div class="line">        <span class="keyword">pass</span></div></pre></td></tr></table></figure>
<p>先看下面的一个案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">set_name</span><span class="params">(self, name)</span>:</span></div><div class="line">        self.name = name</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_name</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> self.name</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">greet</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"Hello, wolrd! I'm &#123;&#125;."</span>.format(self.name))</div></pre></td></tr></table></figure>
<p>在上面的这个案例中，一共定义了3种方法，它们类似于函数定义，但都位于class语句语，Person是类的名称。class语句创建独立的命名空间，用于在其中定义方法（其实就是定义函数）。self它指向对象本身，具体是哪个对象呢，我们再来看下面的案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">foo = Person()</div><div class="line">bar = Person()</div><div class="line">foo.set_name(<span class="string">'Luke Skywalker'</span>)</div><div class="line">bar.set_name(<span class="string">'Anakin Skywalker'</span>)</div><div class="line">foo.greet()</div><div class="line">bar.greet()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Hello, wolrd! I<span class="string">'m Luke Skywalker.</span></div><div class="line"><span class="string">Hello, wolrd! I'</span>m Anakin Skywalker.</div></pre></td></tr></table></figure>
<p>这个案例主要是用来说明self是什么，对foo调用set_name和greet时，foo都会做为第一个参数自动传递给它们，也就是命名为self的原因（其实可以任意命名），如果没有self，所有的方法都无法访问对象本身，也就是要损伤的属性所属的对象。此外，也可以从外部访问这些属性，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">foo.name</div><div class="line">bar.name = <span class="string">'Yoda'</span></div><div class="line">bar.greet()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Hello, wolrd! I<span class="string">'m Luke Skywalker.</span></div><div class="line"><span class="string">Hello, wolrd! I'</span>m Anakin Skywalker.</div><div class="line">Hello, wolrd! I<span class="string">'m Yoda.</span></div></pre></td></tr></table></figure>
<h2 id="属性、函数和方法"><a href="#属性、函数和方法" class="headerlink" title="属性、函数和方法"></a>属性、函数和方法</h2><p>方法和函数的区别表现在前面提到的参数self上，方法更准确地说是关联的方法，是将第一个参数关联到它所属的实例中，因此无需提供这个参数。也可以将属性关联到一个普通的函数，但这样就没有特殊的self参数了，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Class</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">method</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"I have a self"</span>)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">function</span><span class="params">()</span>:</span></div><div class="line">    print(<span class="string">"I don't..."</span>)</div><div class="line"></div><div class="line">instance = Class()</div><div class="line">instance.method()</div><div class="line">instance.method= function</div><div class="line">instance.method()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">I have a self</div><div class="line">I don<span class="string">'t...</span></div></pre></td></tr></table></figure>
<p>从上面可以知道，有没有参数self并不取决于是否以刚才使用的方式（如instance.method）调用方法。实际上，完全可以让另一个变量指向同一个方法，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bird</span>:</span></div><div class="line">    song = <span class="string">'Squaawk!'</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sing</span><span class="params">(self)</span>:</span></div><div class="line">        print(self.song)</div><div class="line"></div><div class="line">bird = Bird()</div><div class="line">bird.sing()</div><div class="line">birdsong = bird.sing</div><div class="line">birdsong()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Squaawk!</div><div class="line">Squaawk!</div></pre></td></tr></table></figure>
<p>最后一个方法调用看起来很像函数调用，但变量birdsong指向的是关联的方法bird.song，这意味着它也能够访问参数self（即使它被关联到类的实例）。</p>
<h2 id="隐藏"><a href="#隐藏" class="headerlink" title="隐藏"></a>隐藏</h2><p>默认情况下，我们可以从外部访问对象的属性，看下面的案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;c.name</div><div class="line"><span class="string">'Sir Lancelot'</span></div><div class="line">&gt;&gt;&gt;c.name = <span class="string">'Sir Gumby'</span></div><div class="line">&gt;&gt;&gt;c.get_name()</div><div class="line"><span class="string">'Sir Gumby'</span></div></pre></td></tr></table></figure>
<p>如果我们不让其他人从外部访问属性，就可能将属性定义为私有，私有属性不能从对象外部访问，而只能通过存取器（例如get_name和set_name）来访问。</p>
<p>要让方法或属性成为私有的（不能从外部访问），只需要让其名称以两个下划线打头即可，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Secrective</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__inaccessible</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"Bet you can't see me..."</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">accessible</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"The secret message is: "</span>)</div><div class="line">        self.__inaccessible()</div><div class="line"></div><div class="line">s = Secrective()</div><div class="line">s.accessible()</div><div class="line">s.__inaccessible()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">s.accessible()</div><div class="line">The secret message <span class="keyword">is</span>: </div><div class="line">Bet you can<span class="string">'t see me...</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">s.__inaccessible()</span></div><div class="line"><span class="string">Traceback (most recent call last):</span></div><div class="line"><span class="string">  File "C:/Users/20161111/PycharmProjects/untitled2/test.py", line 11, in &lt;module&gt;</span></div><div class="line"><span class="string">    s.__inaccessible()</span></div><div class="line"><span class="string">AttributeError: '</span>Secrective<span class="string">' object has no attribute '</span>__inaccessible<span class="string">'</span></div></pre></td></tr></table></figure>
<p>从上面的案例我们可以看出来，无法从外部访问<code>__inaccessible</code>，但是在类中，例如<code>accessible</code>中我们仍然可以使用它。虽然以两个下划线打头有点奇怪，但这样的方法类似于其他语言中的标准私有方法。然后背后的处理手法并不标准：在类定义中，对所有以两个下划线打头的名称都进行转换，即在开头加上一个下划线和类名，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>Secretive._Secretive__inaccessible </div><div class="line">&lt;unbound method Secretive.__inaccessible&gt;</div></pre></td></tr></table></figure>
<p>上面的代码在我的编辑器中无法运行，可以直接跳过，但知道了这种幕后处理手法，就能从类外部访问私有方法，但是不建议这么做，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">s=Secrective()</div><div class="line">s._Secrective__inaccessible()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Bet you can<span class="string">'t see me...</span></div></pre></td></tr></table></figure>
<p>总之，你无法禁止别人访问对象的私有方法和属性，但这种名称修改方式发出了强烈的信号，让他们不要这样做。如果你不希望名称被悠，又想发出不要从外部修改属性或方法的信号，可以用一个下划线打头，这虽然只是一种约定，但也有些作用，例如使用<code>from module import *</code>就不会导入以一个下划线打头的名称。</p>
<h2 id="类的命名空间"><a href="#类的命名空间" class="headerlink" title="类的命名空间"></a>类的命名空间</h2><p>下面的两条语句大致等价：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">(x)</span>:</span><span class="keyword">return</span> x*x</div><div class="line">foo = <span class="keyword">lambda</span> x: x*x</div></pre></td></tr></table></figure>
<p>它们𨝌会创建一个返回参数平方的函数，并将这个函数关联到变量foo，可以在全局（模块）作用域内定义名称foo，也可以在函数或方法内定义。定义类时情况也是如此，在class语句中定义的代码都是在一个特殊的命名空间（类的命名空间）内执行的，而类的所有成员都可以访问这个命名空间。类定义其实就是要执行的代码段。例如，在类定义中，并非只能包括def语句，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></div><div class="line"><span class="meta">... </span>    print(<span class="string">'Class C being defined...'</span>)</div><div class="line">...</div><div class="line">Class C being defined...</div></pre></td></tr></table></figure>
<p>这个案例非常简单，再看下一个案例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MemberCounter</span>:</span></div><div class="line">   members = <span class="number">0</span></div><div class="line">   <span class="function"><span class="keyword">def</span> <span class="title">init</span><span class="params">(self)</span>:</span></div><div class="line">       MemberCounter.members += <span class="number">1</span></div><div class="line"></div><div class="line">m1 = MemberCounter()</div><div class="line">m1.init()</div><div class="line">MemberCounter.members</div><div class="line">m2 = MemberCounter()</div><div class="line">m2.init()</div><div class="line">MemberCounter.members</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">1</span></div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure>
<p>上述代码在类作用域内定义了一个变量，所有的成员（实例）都可以访问它，这里使用它来计算类实例的数量，注意到这里使用了init来初始化所有的实例，也就是将init转换为合适的构造函数，每个实例都可以访问这个类作用域内的变化，就像方法一样，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>m1.members</div><div class="line"><span class="number">2</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m2.members</div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure>
<p>如果在一个实例中给属性members赋值，结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&gt;&gt;&gt; </span>m1.members=<span class="string">'two'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m1.members</div><div class="line"><span class="string">'two'</span></div><div class="line"><span class="meta">&gt;&gt;&gt; </span>m2.members</div><div class="line"><span class="number">2</span></div></pre></td></tr></table></figure>
<p>新值被写入m1的一个属性中，这个属性遮住了类的变量。</p>
<h2 id="创建对象"><a href="#创建对象" class="headerlink" title="创建对象"></a>创建对象</h2><p>当一个类定义完全成，要使用这个类来创建对象，语法格式如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">对象变量=类名()</div></pre></td></tr></table></figure>
<h3 id="创建对象-1"><a href="#创建对象-1" class="headerlink" title="创建对象"></a>创建对象</h3><p>先看一个案例：例如小猫爱吃鱼，小猫要喝水。</p>
<p>分析：</p>
<ol>
<li>定义一个猫类，Cat()</li>
<li>定义两个方法<code>eat</code>和<code>drink</code></li>
<li>此时并没有涉及属性，因此我们不用定义属性。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"小猫爱吃鱼"</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drink</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"小猫要喝水"</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># 创建猫对象</span></div><div class="line">tom = Cat()</div><div class="line"></div><div class="line">tom.eat()</div><div class="line">tom.drink()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">小猫爱吃鱼</div><div class="line">小猫要喝水</div></pre></td></tr></table></figure>
<p>在这个案例中，我们先定义了一个猫类(Cat)，然后创建了一个猫对象，再后，使这个对象赋予了吃与喝这两个方法，这两个方法已经封装到了类中，并不需要知道它的执行细节。</p>
<p>如果要用<code>print</code>函数直接输出对象，那么输出结果就是此对象创建的内存地址，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">print(tom)</div><div class="line">&lt;__main__.Cat object at <span class="number">0x0000017F72807A90</span>&gt;</div></pre></td></tr></table></figure>
<h2 id="创建多个对象"><a href="#创建多个对象" class="headerlink" title="创建多个对象"></a>创建多个对象</h2><p>类只有一个，类只是一个模板，使用这个模板可以创建多个对象，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"小猫爱吃鱼"</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drink</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"小猫要喝水"</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># 创建猫对象</span></div><div class="line">tom = Cat()</div><div class="line"></div><div class="line">tom.eat()</div><div class="line">tom.drink()</div><div class="line"></div><div class="line"><span class="comment"># 再创建一个猫对象</span></div><div class="line">lazy_cat = Cat()</div><div class="line">lazy_cat.drink()</div><div class="line">lazy_cat.eat()</div><div class="line"></div><div class="line">print(tom)</div><div class="line">print(lazy_cat)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"小猫爱吃鱼"</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drink</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"小猫要喝水"</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># 创建猫对象</span></div><div class="line">tom = Cat()</div><div class="line"><span class="comment"># 再创建一个猫对象</span></div><div class="line">lazy_cat = Cat()</div><div class="line"></div><div class="line">print(tom)</div><div class="line">print(lazy_cat)</div></pre></td></tr></table></figure>
<p>我们来看一下结果：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;__main__.Cat object at <span class="number">0x0000020AF8E47A90</span>&gt;</div><div class="line">&lt;__main__.Cat object at <span class="number">0x0000020AF8E5F4E0</span>&gt;</div></pre></td></tr></table></figure>
<p>从结果可以看出来，tom与lazy_cat这两个对象的内存地址不一样，它们是不一样的对象，再看一下以下代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">lazy_cat2 = lazy_cat</div><div class="line">print(lazy_cat2)</div><div class="line">print(lazy_cat)</div></pre></td></tr></table></figure>
<p>结果如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&lt;__main__.Cat object at <span class="number">0x000001C0424B7A90</span>&gt;</div><div class="line">&lt;__main__.Cat object at <span class="number">0x000001C0424B7A90</span>&gt;</div></pre></td></tr></table></figure>
<p>可以发现，lazy_cat和lazy_cat2这两个对象是一样的。</p>
<h2 id="方法中的self参数"><a href="#方法中的self参数" class="headerlink" title="方法中的self参数"></a>方法中的self参数</h2><h3 id="给对象添加属性"><a href="#给对象添加属性" class="headerlink" title="给对象添加属性"></a>给对象添加属性</h3><p>在Python中很容易给对象添加属性，但是这种做法并不推荐，因为对象的属性通常都已经封装到类中了，没必要再单独给对象添加属性，虽然不推荐，但还是要看一下案例，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tom.name = <span class="string">"Tom"</span></div></pre></td></tr></table></figure>
<h3 id="输出对象属性"><a href="#输出对象属性" class="headerlink" title="输出对象属性"></a>输出对象属性</h3><p>前面是找到，在类中定义的方法中的一个参数<code>self</code>，这个self是指：哪一个对象调用的方法，self就是哪一个对象的引用。</p>
<p>例如代码中的<code>tom = Cat()</code>，tom指向的对象就是由Cat这个类创建的，此时这个对象调用了Cat中的eat这个方法时，self指的也是这个对象，如果要想访问这个对象的属性，那么就是self加一个点(<code>.</code>)即可，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 爱吃鱼"</span>% self.name)<span class="comment">#这一步我们可以使用self.name来访问对象的属性</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">drink</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">""</span>%s 要喝水<span class="string">"% self.name)</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string"># 创建猫对象</span></div><div class="line"><span class="string">tom = Cat()</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string"># 可能使用 .属性名 利用赋值语句就可以为对象添加属性</span></div><div class="line"><span class="string">tom.name = "</span>Tom<span class="string">"</span></div><div class="line"><span class="string">tom.eat()</span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string"># 再创建一个猫对象</span></div><div class="line"><span class="string">lazy_cat = Cat()</span></div><div class="line"><span class="string">lazy_cat.name = "</span>大懒猫<span class="string">"</span></div><div class="line"><span class="string">lazy_cat.eat()</span></div></pre></td></tr></table></figure>
<p>结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Tom 爱吃鱼</div><div class="line">大懒猫 爱吃鱼</div></pre></td></tr></table></figure>
<p>我们可以看到，原来的“小猫”就被替换成了“Tom”和“大懒猫”。也就是说，由哪一个对象调用的方法，方法内的self就是哪一个对象的引用。在类封装的方法内部，self就表示当前调用方法的对象自己。调用方法时，程序员不需要传递self参数。在方法内部，可以通过<code>self.</code>访问对象的属性，也可以通过<code>self.</code>调用其它的对象方法。</p>
<h2 id="初始化方法"><a href="#初始化方法" class="headerlink" title="初始化方法"></a>初始化方法</h2><p>当使用<code>类名()</code>创建对象时，会自动执行以下操作：</p>
<ol>
<li>为对象在内存中分配空间——创建对象</li>
<li>为对象的属性设置初始值——初始化方法(init)</li>
</ol>
<p>这个初始化方法就是<code>__init__</code>方法，<code>__init__</code>是对象的内置的方法，此方法是<strong>专门用来定义一个类具有哪些属性的方法</strong>，这个方法是固定的。我们在<code>Cat</code>中增加<code>__init__</code>方法，验证此方法在创建对象时会被自动调用，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        print(<span class="string">"这是一个初始化方法"</span>)</div><div class="line"></div><div class="line"></div><div class="line">tom = Cat()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">这是一个初始化方法</div></pre></td></tr></table></figure>
<p>从结果我们可以发现，使用类名()来创建对象的时候，会自动调用初始化方法<code>__init__</code>。</p>
<h3 id="在初始化方法内部定义属性"><a href="#在初始化方法内部定义属性" class="headerlink" title="在初始化方法内部定义属性"></a>在初始化方法内部定义属性</h3><p>在<code>__init__</code>方法内部使用<code>self.属性名 = 属性的初始值</code>就可以定义属性</p>
<p>定义属性之后，再使用Cat类创建的对象都会拥有该属性，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        print(<span class="string">"这是一个初始化方法"</span>)</div><div class="line"></div><div class="line">        <span class="comment"># self.属性名 = 属性的初始值</span></div><div class="line">        self.name = <span class="string">"Tom"</span></div><div class="line"></div><div class="line"></div><div class="line">tom = Cat()</div><div class="line"></div><div class="line">print(tom.name)</div></pre></td></tr></table></figure>
<p>运行结果，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">这是一个初始化方法</div><div class="line">Tom</div></pre></td></tr></table></figure>
<p>现在解释一下上面的代码，代码是从上到下执行的：</p>
<ol>
<li>当Python解释器遇到<code>class Cat:</code>时，这段代码是不执行的，直接跳过去，跳到<code>tom=Cat()</code>处；</li>
<li>我们的代码运行到<code>tom=Cat()</code>处时，Python解释器此时会做两件事情：①在内存中为Cat对象分配一块空间，假设就是0x1234这块空间（16进制）；②然后执行<code>class Cat</code>这块的代码，类代码中的<code>self</code>也会指向这块空间（即0x1234），此时也是从上到下执行的，执行到<code>self.name = &quot;Tom&quot;</code>时，这块空间就被命名为了Tom，因此在使用<code>print(tom.name)</code>时，就输出了空间的名字。</li>
</ol>
<h3 id="初始化方法的改造"><a href="#初始化方法的改造" class="headerlink" title="初始化方法的改造"></a>初始化方法的改造</h3><p>在前面代码的基础上，我们再创建一个对象，<code>lazy_cat</code>，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        print(<span class="string">"这是一个初始化方法"</span>)</div><div class="line"></div><div class="line">        <span class="comment"># self.属性名 = 属性的初始值</span></div><div class="line">        self.name = <span class="string">"Tom"</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s爱吃鱼"</span>%self.name)</div><div class="line"></div><div class="line"></div><div class="line">tom = Cat()</div><div class="line"></div><div class="line">print(tom.name)</div><div class="line"></div><div class="line">lazy_cat = Cat()</div><div class="line">lazy_cat.eat()</div></pre></td></tr></table></figure>
<p>从上面代码我们可知，<code>lazy_cat</code>这个对象的名称还是<code>Tom</code>，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">这是一个初始化方法</div><div class="line">Tom</div><div class="line">这是一个初始化方法</div><div class="line">Tom爱吃鱼</div></pre></td></tr></table></figure>
<p>运行后，发现果然如此。因为我们在初始化时，已经把对象的名称固定了，就是<code>self.name = &quot;Tom&quot;</code>这句代码。现在我们要解决这个问题。</p>
<p>如果要解决这个问题，我们需要在初始化方法中再定义一个形参，用于输入不同对象的名称，现在我们在<code>def __init__(self)</code>中添加一个参数，new_name，即<code>def __init__(self, new_name)</code>，当我们已经添加了这个形参后，在原来代码创建一个新对象时，也要添加相应的实参，例如<code>tom = Cat()</code>就需要写为<code>tom= Cat(&quot;Tom&quot;)</code>，完整代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, new_name)</span>:</span></div><div class="line"></div><div class="line">        print(<span class="string">"这是一个初始化方法"</span>)</div><div class="line"></div><div class="line">        <span class="comment"># self.属性名 = 属性的初始值</span></div><div class="line">        self.name = new_name</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s爱吃鱼"</span>%self.name)</div><div class="line"></div><div class="line"></div><div class="line">tom = Cat(<span class="string">"Tom"</span>)</div><div class="line"></div><div class="line">print(tom.name)</div><div class="line"></div><div class="line">lazy_cat = Cat(<span class="string">"大懒猫"</span>)</div><div class="line">lazy_cat.eat()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">这是一个初始化方法</div><div class="line">Tom</div><div class="line">这是一个初始化方法</div><div class="line">大懒猫爱吃鱼</div></pre></td></tr></table></figure>
<p>此时我们就发现了，一个对象对应一个名称。</p>
<p>总结一下就是，在开发中，如果希望在创建对象的同时就设置对象的属性，就可以对<code>__init__</code>方法进行改造：</p>
<ol>
<li>把希望设置的属性值，定义成<code>__init__</code>方法的参数；</li>
<li>在方法内部使用<code>self.属性 = 形参</code>接收外部 传递的参数；</li>
<li>在创建对象时，使用<code>类名(属性1,属性2...)</code>调用。</li>
</ol>
<h2 id="内置方法和属性"><a href="#内置方法和属性" class="headerlink" title="内置方法和属性"></a>内置方法和属性</h2><p>这一部分介绍两个内置方法，如下所示：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>序号</th>
<th>方法名</th>
<th>类型</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>01</td>
<td><code>__del__</code></td>
<td>方法</td>
<td>对象被从内存中销毁之前，会被自动调用</td>
</tr>
<tr>
<td>02</td>
<td><code>__str__</code></td>
<td>方法</td>
<td>返回对象的描述信息，print函数输出使用</td>
</tr>
</tbody>
</table>
</div>
<h3 id="del-方法"><a href="#del-方法" class="headerlink" title="__del__方法"></a><code>__del__</code>方法</h3><ul>
<li>在Python中，当使用<code>类名()</code>创建对象时，为对象分配完空间后，自动调用<code>__init__</code>方法。</li>
<li>当一个对象被从内存中销毁之前，会自动调用<code>__del__</code>方法。</li>
</ul>
<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><ul>
<li><code>__init__</code>改造初始化方法，可以让创建对象更加灵活。</li>
<li><code>__del___</code>如果希望在对象被销毁之前，再做一些事情，可以使用<code>__del__</code>方法。</li>
</ul>
<h3 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h3><ul>
<li>一个对象从调用<code>类名()</code>创建，生命周期开始。</li>
<li>一个对象的<code>__del__</code>方法一旦被调用，生命周期结束。</li>
<li>在对象的生命周期内，可以访问对象属性，或者让对象调用方法。</li>
</ul>
<p>先来看一个案例，代码如下所示：</p>
<p>代码A：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, new_name)</span>:</span></div><div class="line"></div><div class="line">        self.name = new_name</div><div class="line"></div><div class="line">        print(<span class="string">"%s 来了"</span> % self.name)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        print(<span class="string">"%s 我去了"</span>% self.name)</div><div class="line"></div><div class="line"><span class="comment"># tom是一个全局变量</span></div><div class="line">tom = Cat(<span class="string">"Tom"</span>)</div><div class="line">print(tom.name)</div><div class="line"></div><div class="line"><span class="comment"># del tom</span></div><div class="line"></div><div class="line">print(<span class="string">"-"</span>*<span class="number">50</span>)</div></pre></td></tr></table></figure>
<p>结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Tom 来了</div><div class="line">Tom</div><div class="line">--------------------------------------------------</div><div class="line">Tom 我去了</div></pre></td></tr></table></figure>
<p>现在，我们将代码中的<code>del tom</code>显示出来，如下所示：</p>
<p>代码B：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, new_name)</span>:</span></div><div class="line"></div><div class="line">        self.name = new_name</div><div class="line"></div><div class="line">        print(<span class="string">"%s 来了"</span> % self.name)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        print(<span class="string">"%s 我去了"</span>% self.name)</div><div class="line"></div><div class="line"><span class="comment"># tom是一个全局变量</span></div><div class="line">tom = Cat(<span class="string">"Tom"</span>)</div><div class="line">print(tom.name)</div><div class="line"></div><div class="line"><span class="keyword">del</span> tom</div><div class="line"></div><div class="line">print(<span class="string">"-"</span>*<span class="number">50</span>)</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Tom 来了</div><div class="line">Tom</div><div class="line">Tom 我去了</div><div class="line">--------------------------------------------------</div></pre></td></tr></table></figure>
<p>从结果中我们可以发现，代码A中的运行结果中，<code>Tom 我去了</code>出现在了点线下面，而代码B中的<code>Tom 我去了</code>则出现在了点线上面。而代码A与代码B的区别就在于，代码A中没有<code>del tom</code>这段代码，而代码B中有。</p>
<p>代码A中没有<code>del tom</code>这段代码，就说明，只有Python把tom这个对象自动删除（不是指操作者自己操作）后，才会出现<code>__del__</code>方法中的字符。我猜测这可能是Python自动回收内存的一种机制（注：关于Python的内存回收机制我也不太懂，有空了再补上）。而如果你自己亲自操作，也就是说使用了<code>del tom</code>这个代码后，Python就知道你把tom这个对象删除了，就开始运行<code>__del__</code>方法中的内容，然后再运行<code>print(&quot;-&quot;*50)</code>这段代码。</p>
<h3 id="str-方法"><a href="#str-方法" class="headerlink" title="__str__方法"></a><code>__str__</code>方法</h3><ul>
<li><p>在Python中，使用<code>print</code>输出对象变量，默认情况下，会输出这个变量引用的对象是由哪一个类创建的对象，以及在内存中的地址（十六进制表示）。</p>
</li>
<li><p>如果在开发中，希望使用<code>print</code>输出对象变量时，能够打印自定义的内容，就可以利用<code>__str__</code>这个内置方法了。需要注意的是，<code>__str__</code>方法必须返回一个字符。</p>
</li>
</ul>
<p>看下面的案例，在这个案例，我们直接输出一个对象（有的教程在此处称之为“实例”），如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, new_name)</span>:</span></div><div class="line"></div><div class="line">        self.name = new_name</div><div class="line"></div><div class="line">        print(<span class="string">"%s 来了"</span> % self.name)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        print(<span class="string">"%s 我去了"</span>% self.name)</div><div class="line"></div><div class="line"><span class="comment"># tom是一个全局变量</span></div><div class="line">tom = Cat(<span class="string">"Tom"</span>)</div><div class="line">print(tom)</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Tom 来了</div><div class="line">&lt;__main__.Cat object at <span class="number">0x0000021E1311B278</span>&gt;</div><div class="line">Tom 我去了</div></pre></td></tr></table></figure>
<p>其中第二行，即<code>&lt;__main__.Cat object at 0x0000021E1311B278&gt;</code>这里输出的是Cat这个类，并把tom这个对象在内存中的地址显示出来。现在我们在类中增加<code>__str___</code>这个方法，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Cat</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, new_name)</span>:</span></div><div class="line"></div><div class="line">        self.name = new_name</div><div class="line"></div><div class="line">        print(<span class="string">"%s 来了"</span> % self.name)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__del__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        print(<span class="string">"%s 我去了"</span>% self.name)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="string">"我是小猫"</span></div><div class="line"></div><div class="line"><span class="comment"># tom是一个全局变量</span></div><div class="line">tom = Cat(<span class="string">"Tom"</span>)</div><div class="line">print(tom)</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Tom 来了</div><div class="line">我是小猫</div><div class="line">Tom 我去了</div></pre></td></tr></table></figure>
<p>此时，我们改造了<code>__str__</code>这个方法后，输出的就不再是这个对象的类，以及这个对象的地址了。而是我们自定义的内容，现在把<code>__str__</code>中的方法再改造一下，改成<code>return &quot;我是小猫[%s]&quot;% self.name</code>，则结果就如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Tom 来了</div><div class="line">我是小猫[Tom]</div><div class="line">Tom 我去了</div></pre></td></tr></table></figure>
<h2 id="面向对象封装-encapsulation-案例"><a href="#面向对象封装-encapsulation-案例" class="headerlink" title="面向对象封装(encapsulation)案例"></a>面向对象封装(encapsulation)案例</h2><h3 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h3><ol>
<li>封装是面向对象编程的一大特点；</li>
<li>面向对象编程的第一步就是将属性和方法封装到一个抽象的类中；</li>
<li>外界使用类创建对象（有的教程叫实例），然后让对象调用方法；</li>
<li>对象方法中的细节都被封装在类的内部。</li>
</ol>
<h3 id="案例分析——小明爱跑步"><a href="#案例分析——小明爱跑步" class="headerlink" title="案例分析——小明爱跑步"></a>案例分析——小明爱跑步</h3><p>我们以“小明爱跑步”为例说明一下，先分析需求，如下所示：</p>
<ol>
<li>小明体重75.0公斤；</li>
<li>小明每次跑步会减肥0.5公斤；</li>
<li>小明每次吃东西体重增加1公斤。</li>
</ol>
<h3 id="代码分析"><a href="#代码分析" class="headerlink" title="代码分析"></a>代码分析</h3><p>代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, weight)</span>:</span></div><div class="line"></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.weight = weight</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">            <span class="keyword">return</span> <span class="string">"我的名字叫 %s 体重是 %.2f 公斤"</span> %(self.name, self.weight)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 爱跑步， 跑步锻炼身体"</span>%self.name)</div><div class="line"></div><div class="line">        self.weight -= <span class="number">0.5</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 是吃货，吃完这顿再减肥"</span>%self.name)</div><div class="line"></div><div class="line">        self.weight += <span class="number">1</span></div><div class="line"></div><div class="line">xiaoming = Person(<span class="string">"小明"</span>, <span class="number">75.0</span>)</div><div class="line"></div><div class="line">xiaoming.run()</div><div class="line">xiaoming.eat()</div><div class="line"></div><div class="line">print(xiaoming)</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">小明 爱跑步， 跑步锻炼身体</div><div class="line">小明 是吃货，吃完这顿再减肥</div><div class="line">我的名字叫 小明 体重是 <span class="number">75.50</span> 公斤</div></pre></td></tr></table></figure>
<p>如果我们把<code>Person</code>这个类折叠起来，就是下面的这个样子，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span>...</div><div class="line"></div><div class="line">xiaoming = Person(<span class="string">"小明"</span>, <span class="number">75.0</span>)</div><div class="line"></div><div class="line">xiaoming.run()</div><div class="line">xiaoming.eat()</div><div class="line"></div><div class="line">print(xiaoming)</div></pre></td></tr></table></figure>
<p>从上面折叠后的代码我们就知道，我们创建了一个<code>Person</code>这个类，再由这个类创建了一个叫<code>xiaoming</code>的对象，然后这个对象进行了跑步(<code>run</code>)和吃东西(<code>eat</code>)，具体这跑步与吃东西它们的代码，都已经封装到了<code>Person</code>这个类中，我们直接调用即可。</p>
<h3 id="案例扩展——小美也爱跑步"><a href="#案例扩展——小美也爱跑步" class="headerlink" title="案例扩展——小美也爱跑步"></a>案例扩展——小美也爱跑步</h3><p>在原来案例的基础上进行扩展，先看一下需要：</p>
<ol>
<li>小明和小美都爱跑步；</li>
<li>小明体重75.0公斤；</li>
<li>小美体重45.0公斤；</li>
<li>每次跑步都会减少0.5公斤；</li>
<li>每次吃东西都会增加1公斤。</li>
</ol>
<h4 id="代码分析——案例扩展"><a href="#代码分析——案例扩展" class="headerlink" title="代码分析——案例扩展"></a>代码分析——案例扩展</h4><p>再使用<code>Persion</code>这个类创建一个新对象，即<code>xiaomei</code>，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, weight)</span>:</span></div><div class="line"></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.weight = weight</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">            <span class="keyword">return</span> <span class="string">"我的名字叫 %s 体重是 %.2f 公斤"</span> %(self.name, self.weight)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 爱跑步， 跑步锻炼身体"</span>%self.name)</div><div class="line"></div><div class="line">        self.weight -= <span class="number">0.5</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">eat</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 是吃货，吃完这顿再减肥"</span>%self.name)</div><div class="line"></div><div class="line">        self.weight += <span class="number">1</span></div><div class="line"></div><div class="line">xiaoming = Person(<span class="string">"小明"</span>, <span class="number">75.0</span>)</div><div class="line"></div><div class="line">xiaoming.run()</div><div class="line">xiaoming.eat()</div><div class="line"></div><div class="line">print(xiaoming)</div><div class="line"></div><div class="line"><span class="comment"># 小美爱跑步</span></div><div class="line">xiaomei = Person(<span class="string">"小美"</span>, <span class="number">45</span>)</div><div class="line"></div><div class="line">xiaomei.eat()</div><div class="line">xiaomei.run()</div><div class="line"></div><div class="line">print(xiaomei)</div><div class="line">print(xiaoming)</div></pre></td></tr></table></figure>
<p>结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">小明 爱跑步， 跑步锻炼身体</div><div class="line">小明 是吃货，吃完这顿再减肥</div><div class="line">我的名字叫 小明 体重是 <span class="number">75.50</span> 公斤</div><div class="line">小美 是吃货，吃完这顿再减肥</div><div class="line">小美 爱跑步， 跑步锻炼身体</div><div class="line">我的名字叫 小美 体重是 <span class="number">45.50</span> 公斤</div><div class="line">我的名字叫 小明 体重是 <span class="number">75.50</span> 公斤</div></pre></td></tr></table></figure>
<p>我们可以看到，由一个类创建的两个对象。在每个对象的方法内部，可以直接访问对象的属性。每个对象各自使用各自的方法，属性互不影响。</p>
<h3 id="案例分析三——摆放家具"><a href="#案例分析三——摆放家具" class="headerlink" title="案例分析三——摆放家具"></a>案例分析三——摆放家具</h3><p>现在我们再看一个案例，摆放家具，看一下需求：</p>
<ol>
<li>房子(House)有户型、总面积和家具名称列表，而新房子没有任何家具；</li>
<li>家具(HouseItem)有名字和占地面积，其中不同的家具占地面积也不一样，例如床(bed)占地4平方米，衣柜(chest)占地2平方米，餐桌(table)占地1.5平方米；</li>
<li>现在我们要将2中的3样家具添加到房子中；</li>
<li>输出房子时，要求输出这些信息：户型、总面积、剩余面积和家具名称列表。</li>
</ol>
<p>有了上面需求后，我们要考虑一下如何设计代码：</p>
<ol>
<li>定义2个类，一个是房子(House)，一个是家具(HouseItem)。</li>
<li>房子有4个属性；</li>
<li>家具有2个属性。</li>
</ol>
<p>但是，房子与家具这两个类先定义哪个？思路就是，由于房子这个类中要用到家具（家具有面积，房子的剩余面积与家具有关），因此我们要先定义家具这个类，总之就是，被使用的类要先定义。</p>
<h4 id="定义家具类"><a href="#定义家具类" class="headerlink" title="定义家具类"></a>定义家具类</h4><p>根据前面的分析思路，现在先定义一个家具类，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HouseItem</span><span class="params">()</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, area)</span>:</span></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.area = area</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="string">"[%s] 占地 %.2f"</span>%(self.name, self.area)</div><div class="line"></div><div class="line"><span class="comment"># 创建家具</span></div><div class="line">bed = HouseItem(<span class="string">"床"</span>, <span class="number">4</span>)</div><div class="line">chest = HouseItem(<span class="string">"衣柜"</span>, <span class="number">2</span>)</div><div class="line">table = HouseItem(<span class="string">"餐桌"</span>, <span class="number">1.5</span>)</div><div class="line"></div><div class="line">print(bed)</div><div class="line">print(chest)</div><div class="line">print(table)</div></pre></td></tr></table></figure>
<p>结果运行如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">[床] 占地 <span class="number">4.00</span></div><div class="line">[衣柜] 占地 <span class="number">2.00</span></div><div class="line">[餐桌] 占地 <span class="number">1.50</span></div></pre></td></tr></table></figure>
<h4 id="定义房子类"><a href="#定义房子类" class="headerlink" title="定义房子类"></a>定义房子类</h4><p>思路：房子中需要定义4个属性，分别为房子类型(house_type)，面积(area)，剩余面积(free_area)，家具列表(item_list)。但是，在给房子传递参数时，只需要传递其中的2个即可，分别是房子类型(house_type)与面积(area)，因为剩余面积(free_area)可以由这2个参数算出来，而家具列表(item_list)在初始情况下是一个空列表，，也不需要传入。</p>
<p>注：在同一个代码文件中，如果要定义2个以及2个以上的类，类与类的代码之间要空两行，现在前2个属性的代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">House</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, house_type, area)</span>:</span></div><div class="line"></div><div class="line">        self.house_type = house_type </div><div class="line">        self.area = area</div></pre></td></tr></table></figure>
<p>这段代码定义了房子的2个需要传入的属性，现在再定义剩余面积(free_area)和家具名称列表，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">House</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, house_type, area)</span>:</span></div><div class="line"></div><div class="line">        self.house_type = house_type</div><div class="line">        self.area = area</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">#剩余面积</span></div><div class="line">        self.free_area = area</div><div class="line"></div><div class="line">    <span class="comment">#家具名称</span></div><div class="line">        self.item_list = []</div><div class="line">        <span class="comment"># 刚开始的时候，就是一个空列表</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">    <span class="comment"># 定义描述方法</span></div><div class="line">    <span class="comment"># 这里显示的是return返回的内容，如下所示：</span></div><div class="line">        <span class="keyword">return</span> (<span class="string">"户型：%s \n总面积： %.2f[剩余: %.2f]\n家具: %s"</span></div><div class="line">                % (self.house_type,</div><div class="line">                   self.area,</div><div class="line">                   self.free_area,</div><div class="line">                   self.item_list))</div><div class="line">    </div><div class="line">    <span class="comment"># 创建房子对象</span></div><div class="line">my_house = House(<span class="string">"两室一厅"</span>, <span class="number">60</span>)</div><div class="line"></div><div class="line">my_house.add_item(bed)</div><div class="line"><span class="comment"># 添加一张床</span></div><div class="line"></div><div class="line">my_house.add_item(chest)</div><div class="line"><span class="comment"># 添加一个衣柜</span></div><div class="line"></div><div class="line">my_house.add_item(table)</div><div class="line"><span class="comment"># 添加一张餐桌</span></div></pre></td></tr></table></figure>
<p>此时，完成的任务包括：定义了一个家具类，定义了一个房子类。当输入了房子类型与面积这2个参数后，代码可以显示用房输入的这些内容，前面的这些代码运行的结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">[床] 占地 <span class="number">4.00</span></div><div class="line">[衣柜] 占地 <span class="number">2.00</span></div><div class="line">[餐桌] 占地 <span class="number">1.50</span></div><div class="line">要添加 [床] 占地 <span class="number">4.00</span></div><div class="line">要添加 [衣柜] 占地 <span class="number">2.00</span></div><div class="line">要添加 [餐桌] 占地 <span class="number">1.50</span></div><div class="line">户型：两室一厅 </div><div class="line">总面积： <span class="number">60.00</span>[剩余: <span class="number">60.00</span>]</div><div class="line">家具: []</div></pre></td></tr></table></figure>
<p>但是，还有2个任务没有完成，分别是①剩余面积还没有计算；②家具列表还是空的。下面完成这2个任务，思路是这个样子的：</p>
<ol>
<li>我们需要判断一下家具的面积是否超过了剩余面积，如果超过，则提示不能添加这些家具；</li>
<li>将家具的名称追加到家具名称的列表中；</li>
<li>用房子的剩余面积减去家具面积。</li>
</ol>
<p>现在我们往代码中补充一个添加家具(add_item)方法，这个方法的代码以及要实现的功能如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_item</span><span class="params">(self, item)</span>:</span></div><div class="line"></div><div class="line">    print(<span class="string">"要添加 %s"</span> % item)</div><div class="line">    <span class="comment"># 1. 判断家具的面积</span></div><div class="line">    <span class="keyword">if</span> item.area &gt; self.free_area:</div><div class="line">        print(<span class="string">"%s 的面积太大了，无法添加"</span>% item.name)</div><div class="line"></div><div class="line">        <span class="keyword">return</span></div><div class="line"></div><div class="line">    <span class="comment"># 2. 将家具的名称添加到列表中</span></div><div class="line">    self.item_list.append(item.name)</div><div class="line"></div><div class="line">    <span class="comment"># 3. 计算剩余面积</span></div><div class="line">    self.free_area -= item.area</div></pre></td></tr></table></figure>
<p>实现全部功能的完整代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HouseItem</span><span class="params">()</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name, area)</span>:</span></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.area = area</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        <span class="keyword">return</span> <span class="string">"[%s] 占地 %.2f"</span>%(self.name, self.area)</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">House</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, house_type, area)</span>:</span></div><div class="line"></div><div class="line">        self.house_type = house_type</div><div class="line">        self.area = area</div><div class="line"></div><div class="line"></div><div class="line">    <span class="comment">#剩余面积</span></div><div class="line">        self.free_area = area</div><div class="line"></div><div class="line">    <span class="comment">#家具名称</span></div><div class="line">        self.item_list = []</div><div class="line">        <span class="comment"># 刚开始的时候，就是一个空列表</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line">    <span class="comment"># 这里显示的是return返回的内容，如下所示：</span></div><div class="line">        <span class="keyword">return</span> (<span class="string">"户型：%s \n总面积： %.2f[剩余: %.2f]\n家具: %s"</span></div><div class="line">                % (self.house_type,</div><div class="line">                   self.area,</div><div class="line">                   self.free_area,</div><div class="line">                   self.item_list))</div><div class="line"></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_item</span><span class="params">(self, item)</span>:</span></div><div class="line"></div><div class="line">        print(<span class="string">"要添加 %s"</span> % item)</div><div class="line">        <span class="comment"># 1. 判断家具的面积</span></div><div class="line">        <span class="keyword">if</span> item.area &gt; self.free_area:</div><div class="line">            print(<span class="string">"%s 的面积太大了，无法添加"</span>% item.name)</div><div class="line"></div><div class="line">            <span class="keyword">return</span></div><div class="line"></div><div class="line">        <span class="comment"># 2. 将家具的名称添加到列表中</span></div><div class="line">        self.item_list.append(item.name)</div><div class="line"></div><div class="line">        <span class="comment"># 3. 计算剩余面积</span></div><div class="line">        self.free_area -= item.area</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># 创建家具</span></div><div class="line">bed = HouseItem(<span class="string">"床"</span>, <span class="number">4</span>)</div><div class="line">chest = HouseItem(<span class="string">"衣柜"</span>, <span class="number">2</span>)</div><div class="line">table = HouseItem(<span class="string">"餐桌"</span>, <span class="number">1.5</span>)</div><div class="line"></div><div class="line">print(bed)</div><div class="line">print(chest)</div><div class="line">print(table)</div><div class="line"></div><div class="line"><span class="comment"># # 创建房子对象</span></div><div class="line">my_house = House(<span class="string">"两室一厅"</span>, <span class="number">60</span>)</div><div class="line"><span class="comment">#</span></div><div class="line">my_house.add_item(bed)</div><div class="line"><span class="comment"># # 添加一张床</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># my_house.add_item(chest)</span></div><div class="line"><span class="comment"># # 添加一个衣柜</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment"># my_house.add_item(table)</span></div><div class="line"><span class="comment"># # 添加一张餐桌</span></div><div class="line"></div><div class="line">print(my_house)</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[床] 占地 <span class="number">4.00</span></div><div class="line">[衣柜] 占地 <span class="number">2.00</span></div><div class="line">[餐桌] 占地 <span class="number">1.50</span></div><div class="line">要添加 [床] 占地 <span class="number">4.00</span></div><div class="line">户型：两室一厅 </div><div class="line">总面积： <span class="number">60.00</span>[剩余: <span class="number">56.00</span>]</div><div class="line">家具: [<span class="string">'床'</span>]</div></pre></td></tr></table></figure>
<p>如果我们把床的面积改为40，那么运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">[床] 占地 <span class="number">40.00</span></div><div class="line">[衣柜] 占地 <span class="number">2.00</span></div><div class="line">[餐桌] 占地 <span class="number">1.50</span></div><div class="line">要添加 [床] 占地 <span class="number">40.00</span></div><div class="line">户型：两室一厅 </div><div class="line">总面积： <span class="number">60.00</span>[剩余: <span class="number">20.00</span>]</div><div class="line">家具: [<span class="string">'床'</span>]</div></pre></td></tr></table></figure>
<p>如果我们把这三个家具的总面积改为大于60（例如床面积为40，餐桌为20，衣柜为20），结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">[床] 占地 <span class="number">40.00</span></div><div class="line">[衣柜] 占地 <span class="number">20.00</span></div><div class="line">[餐桌] 占地 <span class="number">20.00</span></div><div class="line">要添加 [床] 占地 <span class="number">40.00</span></div><div class="line">要添加 [衣柜] 占地 <span class="number">20.00</span></div><div class="line">要添加 [餐桌] 占地 <span class="number">20.00</span></div><div class="line">餐桌 的面积太大了，无法添加</div><div class="line">户型：两室一厅 </div><div class="line">总面积： <span class="number">60.00</span>[剩余: <span class="number">0.00</span>]</div><div class="line">家具: [<span class="string">'床'</span>, <span class="string">'衣柜'</span>]</div></pre></td></tr></table></figure>
<p>从添加家具这个案例我们可以知道这个案例中的面向对象思想：</p>
<ol>
<li>主程序只负责创建房子对象和家具对象；</li>
<li>让房子对象调用add_item方法将家具添加到房子中；</li>
<li>面积计算、剩余面积、家具列表等处理都被封装到房子类的内部中。</li>
</ol>
<h3 id="案例分析四——士兵突击"><a href="#案例分析四——士兵突击" class="headerlink" title="案例分析四——士兵突击"></a>案例分析四——士兵突击</h3><p>在这里再次复习一下封装：</p>
<ol>
<li>封装是面积对象编程的一个特点；；</li>
<li>面积对象编程的第一步就是将属性和方法封装到一个抽象的类中；</li>
<li>外界使用类创建对象（有的教程叫实例），然后让对象调用方法；</li>
<li>对象方法的细节都被封装到类的内部。</li>
</ol>
<p>在这一小节中，还要学到一个知识点就是：一个对象的属性可以是另外一个类创建的对象。</p>
<h4 id="案例需求"><a href="#案例需求" class="headerlink" title="案例需求"></a>案例需求</h4><p>现在我们先看一下这个案例的需求：</p>
<ol>
<li>士兵许三多有一把AK47</li>
<li>士兵可以开火；</li>
<li>枪能发射子弹；</li>
<li>枪装填子弹——增加子弹的数量。</li>
</ol>
<p>从第一项需求中我们可以知道，我们要创建一个士兵类(Soldier)以及一个枪类(Gun)，并且这个士兵类(Soldier)中含有枪类(Gun)这样一个属性，而这个属性则是由枪类(Gun)创建出来的一个对象。这就对应了我们前面提到的这个知识点，也就是说<strong>一个对象的属性可以是另外一个类创建的对象</strong>。</p>
<p>从第二项和第三项需求我们可以知道，士兵(Solider)对象中有一个开火(fire)的方法，而开火则是由枪发射子弹，那么还要在枪类(Gun)中创建一个发射的方法(shoot)。</p>
<p>从第四项需求可以知道，枪里面还应该有一个子弹数量这个属性，同时还要给枪创建一个装填子弹方法。</p>
<p>因此总结如下：</p>
<ol>
<li>需要创建一个士兵类(Soldier)，这个类中含有2属性，一个是士兵的名字(name)，一个是枪(gun)，同时还要定义一个方法，即开火(fire)；</li>
<li>需要创建一个枪类(Gun)，这个类中含有2个属性，一个是型号(model)，即AK47，还有一个是子弹数量(count)，同时还要定义2个方法，即装填子弹(add_bullet)与射击(shoot)这两个方法。</li>
<li>这里还有一个问题，是先定义枪类，还是士兵类，根据前面的知识，哪个类要被使用，就先定义哪个类。在这个案例中，是士兵使用枪，就先定义枪类。因为如果我们先定义士兵类，那么在士兵类的内部，还要用到枪的对象，此时枪类还没有被定义，就会比较麻烦。个人觉得，这个思路就是从小范围到大范围，从局部到整体。</li>
</ol>
<p>以上两个类的示意图如下所示：</p>
<p><img src="https://pic-1256416512.cos.ap-chengdu.myqcloud.com/img/20190520193938.png" alt=""></p>
<h4 id="创建枪-Gun-类"><a href="#创建枪-Gun-类" class="headerlink" title="创建枪(Gun)类"></a>创建枪(Gun)类</h4><p>在枪这个类中，型号(model)需要外界传递，而子弹数量(bullet_count)这个属性，我们假定开始的时候是没有子弹的，设为0，子弹需要人工装填，因此这个属性在初始阶段不需要外界输入，从上面的类图可以知道，枪里还有一个装填子弹方法(add_bullet)和发射子弹方法(shoot)，因此枪类代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, model)</span>:</span></div><div class="line"></div><div class="line">        <span class="comment"># 1. 枪的型号</span></div><div class="line">        self.model = model</div><div class="line"></div><div class="line">        <span class="comment"># 2. 子弹的数量</span></div><div class="line">        self.bullet_count = <span class="number">0</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_bullet</span><span class="params">(self, count)</span>:</span></div><div class="line">        self.bullet_count += count</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">shoot</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        <span class="comment"># 1. 判断子弹数量</span></div><div class="line">        <span class="keyword">if</span> self.bullet_count &lt;= <span class="number">0</span>:</div><div class="line">            print(<span class="string">"[%s] 没有子弹了..."</span> % self.model)</div><div class="line"></div><div class="line">            <span class="keyword">return</span></div><div class="line"></div><div class="line">        <span class="comment"># 2. 发射子弹</span></div><div class="line">        self.bullet_count -= <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="comment"># 3. 提示发射信息</span></div><div class="line">        print(<span class="string">"[%s] 突突突...[%d]"</span> % (self.model, self.bullet_count))</div><div class="line"></div><div class="line"></div><div class="line">ak47 = Gun(<span class="string">"AK47"</span>)</div><div class="line">ak47.add_bullet(<span class="number">50</span>)</div><div class="line">ak47.shoot()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[AK47] 突突突...[<span class="number">49</span>]</div></pre></td></tr></table></figure>
<p>代码能够正常运行，到此，枪类(Gun)的定义已经完成。</p>
<p>现在设计士兵类(Soldier)，这个类中含有2个属性，分别是姓名(name)和枪(gun)，不过在这里，先假设每一个新兵都没有枪。在这里还要提示一下，如果不知道设置什么初始值，可以设置为<code>None</code>。</p>
<ul>
<li><code>None</code>关键字表示什么都没有；</li>
<li>表示一个空对象，没有方法和属性，是一个特殊的常量；</li>
<li>可以将<code>None</code>赋值给任何一个变量。</li>
</ul>
<p>现在分析一下士兵类中的<code>fire</code>方法需求：</p>
<ol>
<li>判断是否有枪，没有枪法没法冲锋；</li>
<li>减一声口号；</li>
<li>装填子弹；</li>
<li>射击。</li>
</ol>
<p>完整代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Gun</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, model)</span>:</span></div><div class="line"></div><div class="line">        <span class="comment"># 1. 枪的型号</span></div><div class="line">        self.model = model</div><div class="line"></div><div class="line">        <span class="comment"># 2. 子弹的数量</span></div><div class="line">        self.bullet_count = <span class="number">0</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_bullet</span><span class="params">(self, count)</span>:</span></div><div class="line">        self.bullet_count += count</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">shoot</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        <span class="comment"># 1. 判断子弹数量</span></div><div class="line">        <span class="keyword">if</span> self.bullet_count &lt;= <span class="number">0</span>:</div><div class="line">            print(<span class="string">"[%s] 没有子弹了..."</span> % self.model)</div><div class="line"></div><div class="line">            <span class="keyword">return</span></div><div class="line"></div><div class="line">        <span class="comment"># 2. 发射子弹</span></div><div class="line">        self.bullet_count -= <span class="number">1</span></div><div class="line"></div><div class="line">        <span class="comment"># 3. 提示发射信息</span></div><div class="line">        print(<span class="string">"[%s] 突突突...[%d]"</span> % (self.model, self.bullet_count))</div><div class="line"></div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Soldier</span>:</span></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line"></div><div class="line">        <span class="comment"># 1. 姓名</span></div><div class="line">        self.name = name</div><div class="line"></div><div class="line"></div><div class="line">        <span class="comment"># 2. 枪 - 新兵没有枪</span></div><div class="line">        self.gun = <span class="keyword">None</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fire</span><span class="params">(self)</span>:</span></div><div class="line"></div><div class="line">        <span class="comment"># 1. 判断士兵是否有枪</span></div><div class="line">        <span class="keyword">if</span> self.gun == <span class="keyword">None</span>:</div><div class="line">            print(<span class="string">"[%s] 还没有枪..."</span>% self.name)</div><div class="line"></div><div class="line">            <span class="keyword">return</span></div><div class="line">        <span class="comment"># 2. 高喊口号</span></div><div class="line">        print(<span class="string">"冲啊...[%s]"</span>% self.name)</div><div class="line"></div><div class="line">        <span class="comment"># 3. 让枪装填子弹</span></div><div class="line">        self.gun.add_bullet(<span class="number">50</span>)</div><div class="line"></div><div class="line">        <span class="comment"># 4. 发射子弹</span></div><div class="line">        self.gun.shoot()</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">ak47 = Gun(<span class="string">"AK47"</span>)</div><div class="line"></div><div class="line"><span class="comment"># 2. 创建许三多</span></div><div class="line">xusanduo = Soldier(<span class="string">"许三多"</span>)</div><div class="line">xusanduo.gun = ak47</div><div class="line">xusanduo.fire()</div><div class="line">print(xusanduo.gun)</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">冲啊...[许三多]</div><div class="line">[AK47] 突突突...[<span class="number">49</span>]</div><div class="line">&lt;__main__.Gun object at <span class="number">0x000002E8B48D9668</span>&gt;</div></pre></td></tr></table></figure>
<p>在这个案例中，我们学到的内容就是：如果我们要实现某个任务，这个任务中有两个类，例如A类与B类，那么通过A类创建的对象中的属性可以是B类来源的对象，此时A创建的这个对象中的属性就是能调用B类中的方法。这个案例我觉得有点复杂，笔记不太可能记得很详细，可以多看几遍视频。</p>
<h4 id="身份运算符"><a href="#身份运算符" class="headerlink" title="身份运算符"></a>身份运算符</h4><p>再来看一下前面代码中的某一句，即<code>if self.gun == None</code>，选中后，会出现如下提示信息：</p>
<p><img src="https://pic-1256416512.cos.ap-chengdu.myqcloud.com/img/20190521124623.png" alt=""></p>
<p>PyCharm的提示信息显示，如果与<code>None</code>进行比较时，最好使用<code>is</code>或<code>is not</code>，而不是使用<code>==</code>。这里的<code>is</code>就是身份运算符。</p>
<p>身份运算符用于比较两个对象的内存地址是否一致，也就是说是否是对同一个对象的引用。在Python中，针对<code>None</code>进行比较时，建议使用<code>is</code>判断。Python中的身份运算符有2个，分别是<code>is</code>与<code>is not</code>，它们的功能如下所示：</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody>
<tr>
<td>is</td>
<td>is是判断两个标识符是不是引用同一个对象</td>
<td>x is y，类似id(x)==id(y)</td>
</tr>
<tr>
<td>is not</td>
<td>is not是判断两个标识符是不是引用不同的对象</td>
<td>x is not y，类似id(x)!=id(y)</td>
</tr>
</tbody>
</table>
</div>
<p>这里需要区分一下<code>is</code>与<code>==</code>的区别</p>
<p><code>is</code>用于判断两个变量引用对象是否为同一个；</p>
<p><code>==</code>用于判断引用变量的值是否相等，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">In [<span class="number">1</span>]: a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line"></div><div class="line">In [<span class="number">2</span>]: id(a)</div><div class="line">Out[<span class="number">2</span>]: <span class="number">2681339468296</span></div><div class="line"></div><div class="line">In [<span class="number">3</span>]: b = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</div><div class="line"></div><div class="line">In [<span class="number">4</span>]: id(b)</div><div class="line">Out[<span class="number">4</span>]: <span class="number">2681339465864</span></div><div class="line"></div><div class="line">In [<span class="number">5</span>]: a == b</div><div class="line">Out[<span class="number">5</span>]: <span class="keyword">True</span></div><div class="line"></div><div class="line">In [<span class="number">6</span>]: a <span class="keyword">is</span> b</div><div class="line">Out[<span class="number">6</span>]: <span class="keyword">False</span></div></pre></td></tr></table></figure>
<p>从上面的案例我们可以知道，a与b这两个列表的值相等，但引用不相等（也就是说这两个变量引用的内存地址不相同）。</p>
<p>而<code>None</code>在Python中算是一个空对象，空对象不能把它理解为零，它是Python中的一个特殊的常量，指向内存中的一个地址，一个变量如果是None，它一定和None指向同一个内存地址。在上面的代码中，即<code>if self.gun == None</code>这句中，<code>==</code>后面接的是一个对象，因此最好使用<code>is</code>，因为<code>is</code>主要用于判断对象的引用，而不是值，因此Python建议使用<code>is</code>来判断None。</p>
<p>网上又检索到了一些资料，如下所示：</p>
<p>在区分<code>is</code>和<code>==</code>这两种运算符区别之前，首先要知道Python中对象包含的三个基本要素，分别是：<code>id</code>(身份标识)、<code>type</code>(数据类型)和<code>value</code>(值)。<code>is</code>和<code>==</code>都是对对象进行比较判断作用的，但对对象比较判断的内容并不相同。<code>==</code>比较操作符和<code>is</code>同一性运算符区别</p>
<p><code>==</code>是python标准操作符中的比较操作符，用来比较判断两个对象的value(值)是否相等，<code>is</code>也被叫做同一性运算符，这个运算符比较判断的是对象间的唯一身份标识，也就是id是否相同。</p>
<h2 id="私有属性和私有方法"><a href="#私有属性和私有方法" class="headerlink" title="私有属性和私有方法"></a>私有属性和私有方法</h2><h3 id="应用场景及定义方式"><a href="#应用场景及定义方式" class="headerlink" title="应用场景及定义方式"></a>应用场景及定义方式</h3><h4 id="应用场景-1"><a href="#应用场景-1" class="headerlink" title="应用场景"></a>应用场景</h4><ul>
<li>在实际开发中，对象的某些属性和方法可能只希望在对象的内部被使用，而不希望在外部被访问到；</li>
<li>私有属性就是对象不希望公开的属性；</li>
<li>私有方法就是对象不希望公开的方法。</li>
</ul>
<h4 id="定义方式"><a href="#定义方式" class="headerlink" title="定义方式"></a>定义方式</h4><ul>
<li>在定义属性和方法时，在属性名或者方法名前增加两个下划线，定义的就是私有属性或方法；</li>
<li>我们先看一个最常规的案例，如下所示：</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Women</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.age = <span class="number">18</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 的年龄是%d"</span>%(self.name, self.age))</div><div class="line"></div><div class="line">xiaofang = Women(<span class="string">"小芳"</span>)</div><div class="line"></div><div class="line">print(xiaofang.age)</div><div class="line"></div><div class="line">xiaofang.secret()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">18</span></div><div class="line">小芳 的年龄是<span class="number">18</span></div></pre></td></tr></table></figure>
<p>在这个案例中，我们定义了一个女人类(Women)，通过这个类创建了一个xiaofang对象，然后输出了这个对象的属性(age)与方法(secret)。</p>
<p>现在我们将age这个属性与方法改为私有属性，也就是在它们前面加两个下划线，变成<code>__age</code>，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Women</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.__age = <span class="number">18</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 的年龄是%d"</span>%(self.name, self.__age))</div><div class="line"></div><div class="line">xiaofang = Women(<span class="string">"小芳"</span>)</div><div class="line"></div><div class="line"><span class="comment"># 私有属性在外界不能被直接访问</span></div><div class="line">print(xiaofang.__age)</div><div class="line"></div><div class="line">xiaofang.secret()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"D:/netdisk/bioinfo.notes/Python/黑马教程笔记/面向对象/hm_17_私有属性和方法.py"</span>, line <span class="number">13</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    print(xiaofang.__age)</div><div class="line">AttributeError: <span class="string">'Women'</span> object has no attribute <span class="string">'__age'</span></div></pre></td></tr></table></figure>
<p>运行结果出错，系统提示缺少属性<code>__age</code>。现在我们将<code>print(xiaofang.__age)</code>这句注释掉，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Women</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.__age = <span class="number">18</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">secret</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="comment"># 在对象的方法内部，是可以访问对象的私有属性的</span></div><div class="line">        print(<span class="string">"%s 的年龄是%d"</span>%(self.name, self.__age))</div><div class="line"></div><div class="line">xiaofang = Women(<span class="string">"小芳"</span>)</div><div class="line"></div><div class="line"><span class="comment"># 私有属性在外界不能被直接访问</span></div><div class="line"><span class="comment"># print(xiaofang.__age)</span></div><div class="line"></div><div class="line">xiaofang.secret()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">小芳 的年龄是<span class="number">18</span></div></pre></td></tr></table></figure>
<p>能够正常运行，这说明在对象的<code>secret</code>这个方法内部，可以访问这个对象的私有属性，也就是<code>self.__age</code>。</p>
<p>现在我们把<code>secret</code>这个方法也改为私有方法，即改为<code>__secret</code>，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Women</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.__age = <span class="number">18</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__secret</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 的年龄是%d"</span>%(self.name, self.__age))</div><div class="line"></div><div class="line">xiaofang = Women(<span class="string">"小芳"</span>)</div><div class="line"></div><div class="line"><span class="comment"># print(xiaofang.__age)</span></div><div class="line"></div><div class="line">xiaofang.__secret()</div></pre></td></tr></table></figure>
<p>结果运算如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"D:/netdisk/bioinfo.notes/Python/黑马教程笔记/面向对象/hm_17_私有属性和方法.py"</span>, line <span class="number">15</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    xiaofang.__secret()</div><div class="line">AttributeError: <span class="string">'Women'</span> object has no attribute <span class="string">'__secret'</span></div></pre></td></tr></table></figure>
<p>结果也无法运行，提示没有<code>__secret</code>这个方法。</p>
<h3 id="伪私有属性和伪私有方法"><a href="#伪私有属性和伪私有方法" class="headerlink" title="伪私有属性和伪私有方法"></a>伪私有属性和伪私有方法</h3><p>在Python中并没有真正意义上的私有：</p>
<ul>
<li>在给属性、方法命名时，实际是对名称做了一些特殊处理，使得外界无法访问到；</li>
<li>如果我们要强行访问这些智能属性与方法，处理方式就是在名称前面加上<code>__类名</code>=&gt;<code>_类名__名称</code></li>
</ul>
<p>因此在Python中是有办法访问这些私有属性和私有方法，但在日常开发中，我们最好不要用这种方式来访问对象的私有属性或私有方法。</p>
<p>还来看一下前面的案例，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Women</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.__age = <span class="number">18</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__secret</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 的年龄是%d"</span>%(self.name, self.__age))</div><div class="line"></div><div class="line">xiaofang = Women(<span class="string">"小芳"</span>)</div><div class="line"></div><div class="line">print(xiaofang.__age)</div><div class="line"></div><div class="line"><span class="comment"># xiaofang.__secret()</span></div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Traceback (most recent call last):</div><div class="line">  File <span class="string">"D:/netdisk/bioinfo.notes/Python/黑马教程笔记/面向对象/hm_18_伪私有属性和方法.py"</span>, line <span class="number">13</span>, <span class="keyword">in</span> &lt;module&gt;</div><div class="line">    print(xiaofang.__age)</div><div class="line">AttributeError: <span class="string">'Women'</span> object has no attribute <span class="string">'__age'</span></div></pre></td></tr></table></figure>
<p>解释器提示，没有<code>__age</code>这个属性，现在我们改变一下代码，也就是将<code>print(xiaofang.__age)</code>这句改为<code>print(xiaofang._Women__age)</code>，改动的地方就是将私有属性前面添加上类名，并在类名前面再加一个下划线，完整代码如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Women</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.__age = <span class="number">18</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__secret</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 的年龄是%d"</span>%(self.name, self.__age))</div><div class="line"></div><div class="line">xiaofang = Women(<span class="string">"小芳"</span>)</div><div class="line"></div><div class="line">print(xiaofang._Women__age)</div><div class="line"></div><div class="line"><span class="comment"># xiaofang.__secret()</span></div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="number">18</span></div></pre></td></tr></table></figure>
<p>通过这种方法，我们就能访问对象的私有属性。再来看一下<code>__secret</code>这个私有方法的访问，也是同样的方法，即<code>xiaofang._Women__secret</code>，如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Women</span>:</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, name)</span>:</span></div><div class="line"></div><div class="line">        self.name = name</div><div class="line">        self.__age = <span class="number">18</span></div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__secret</span><span class="params">(self)</span>:</span></div><div class="line">        print(<span class="string">"%s 的年龄是%d"</span>%(self.name, self.__age))</div><div class="line"></div><div class="line">xiaofang = Women(<span class="string">"小芳"</span>)</div><div class="line"></div><div class="line">print(xiaofang._Women__age)</div><div class="line"></div><div class="line">xiaofang._Women__secret()</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="number">18</span></div><div class="line">小芳 的年龄是<span class="number">18</span></div></pre></td></tr></table></figure>
<p>我们现在也能访问这个私有方法，因此在Python中，没有绝对意义上的私有属性与私有方法，因此可以称为<code>伪私有属性和伪私有方法</code>。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><ol>
<li>黑马Python视频教程</li>
<li>Python基础教程(第3版).Magnus Lie Hetland</li>
<li>Python无师自通：专业程序员的养成</li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/生物信息学/" <i class="fa fa-tag"></i> 生物信息学</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/04/12/Python/Python学习笔记（10）-输入输入与文件及目录操作/" rel="next" title="Python学习笔记（10）-文件、目录和输入输出操作">
                <i class="fa fa-chevron-left"></i> Python学习笔记（10）-文件、目录和输入输出操作
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/04/14/Python/Python学习笔记（13）-面向对象之继承/" rel="prev" title="Python学习笔记（13）-黑马教程面向对象之继承">
                Python学习笔记（13）-黑马教程面向对象之继承 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="vcomments"></div>
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">RVDSD</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">148</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">40</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#面向对象相关知识背景"><span class="nav-number">1.</span> <span class="nav-text">面向对象相关知识背景</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#什么是类"><span class="nav-number">2.</span> <span class="nav-text">什么是类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建类"><span class="nav-number">2.1.</span> <span class="nav-text">创建类</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#封装-encapsulation"><span class="nav-number">3.</span> <span class="nav-text">封装(encapsulation)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#属性和方法的确定"><span class="nav-number">3.1.</span> <span class="nav-text">属性和方法的确定</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#面向对象基础语法"><span class="nav-number">4.</span> <span class="nav-text">面向对象基础语法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#定义简单的类"><span class="nav-number">5.</span> <span class="nav-text">定义简单的类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#格式"><span class="nav-number">5.1.</span> <span class="nav-text">格式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#属性、函数和方法"><span class="nav-number">6.</span> <span class="nav-text">属性、函数和方法</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#隐藏"><span class="nav-number">7.</span> <span class="nav-text">隐藏</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类的命名空间"><span class="nav-number">8.</span> <span class="nav-text">类的命名空间</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建对象"><span class="nav-number">9.</span> <span class="nav-text">创建对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#创建对象-1"><span class="nav-number">9.1.</span> <span class="nav-text">创建对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#创建多个对象"><span class="nav-number">10.</span> <span class="nav-text">创建多个对象</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#方法中的self参数"><span class="nav-number">11.</span> <span class="nav-text">方法中的self参数</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#给对象添加属性"><span class="nav-number">11.1.</span> <span class="nav-text">给对象添加属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#输出对象属性"><span class="nav-number">11.2.</span> <span class="nav-text">输出对象属性</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#初始化方法"><span class="nav-number">12.</span> <span class="nav-text">初始化方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#在初始化方法内部定义属性"><span class="nav-number">12.1.</span> <span class="nav-text">在初始化方法内部定义属性</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#初始化方法的改造"><span class="nav-number">12.2.</span> <span class="nav-text">初始化方法的改造</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#内置方法和属性"><span class="nav-number">13.</span> <span class="nav-text">内置方法和属性</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#del-方法"><span class="nav-number">13.1.</span> <span class="nav-text">__del__方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#应用场景"><span class="nav-number">13.2.</span> <span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生命周期"><span class="nav-number">13.3.</span> <span class="nav-text">生命周期</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#str-方法"><span class="nav-number">13.4.</span> <span class="nav-text">__str__方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#面向对象封装-encapsulation-案例"><span class="nav-number">14.</span> <span class="nav-text">面向对象封装(encapsulation)案例</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#封装"><span class="nav-number">14.1.</span> <span class="nav-text">封装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#案例分析——小明爱跑步"><span class="nav-number">14.2.</span> <span class="nav-text">案例分析——小明爱跑步</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#代码分析"><span class="nav-number">14.3.</span> <span class="nav-text">代码分析</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#案例扩展——小美也爱跑步"><span class="nav-number">14.4.</span> <span class="nav-text">案例扩展——小美也爱跑步</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#代码分析——案例扩展"><span class="nav-number">14.4.1.</span> <span class="nav-text">代码分析——案例扩展</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#案例分析三——摆放家具"><span class="nav-number">14.5.</span> <span class="nav-text">案例分析三——摆放家具</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#定义家具类"><span class="nav-number">14.5.1.</span> <span class="nav-text">定义家具类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#定义房子类"><span class="nav-number">14.5.2.</span> <span class="nav-text">定义房子类</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#案例分析四——士兵突击"><span class="nav-number">14.6.</span> <span class="nav-text">案例分析四——士兵突击</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#案例需求"><span class="nav-number">14.6.1.</span> <span class="nav-text">案例需求</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建枪-Gun-类"><span class="nav-number">14.6.2.</span> <span class="nav-text">创建枪(Gun)类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#身份运算符"><span class="nav-number">14.6.3.</span> <span class="nav-text">身份运算符</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#私有属性和私有方法"><span class="nav-number">15.</span> <span class="nav-text">私有属性和私有方法</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#应用场景及定义方式"><span class="nav-number">15.1.</span> <span class="nav-text">应用场景及定义方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#应用场景-1"><span class="nav-number">15.1.1.</span> <span class="nav-text">应用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#定义方式"><span class="nav-number">15.1.2.</span> <span class="nav-text">定义方式</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#伪私有属性和伪私有方法"><span class="nav-number">15.2.</span> <span class="nav-text">伪私有属性和伪私有方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">16.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">RVDSD</span>

  
</div>



<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_pv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共555.2k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
