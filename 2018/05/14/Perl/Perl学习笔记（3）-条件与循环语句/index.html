<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="结构化命令," />










<meta name="description" content="(0)前言 很多程序语言其实是比较类似的。基本上都有数据类型，循环结构，条件语句等内容。Perl也不例外。 (1)if语句 if语句由一个布尔表达式后跟一个或多个语句组成。语法格式如下所示： 1234if(boolean_expression)&amp;#123;   表达式   # 在布尔表达式 boolean_expression 为 true 执行&amp;#125; 如果布尔表达式 boolea">
<meta name="keywords" content="结构化命令">
<meta property="og:type" content="article">
<meta property="og:title" content="Perl学习笔记（３）-条件与循环语句以及错误处理">
<meta property="og:url" content="http://rvdsd.top/2018/05/14/Perl/Perl学习笔记（3）-条件与循环语句/index.html">
<meta property="og:site_name" content="RVDSD的个人笔记本">
<meta property="og:description" content="(0)前言 很多程序语言其实是比较类似的。基本上都有数据类型，循环结构，条件语句等内容。Perl也不例外。 (1)if语句 if语句由一个布尔表达式后跟一个或多个语句组成。语法格式如下所示： 1234if(boolean_expression)&amp;#123;   表达式   # 在布尔表达式 boolean_expression 为 true 执行&amp;#125; 如果布尔表达式 boolea">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-08-18T02:37:18.267Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Perl学习笔记（３）-条件与循环语句以及错误处理">
<meta name="twitter:description" content="(0)前言 很多程序语言其实是比较类似的。基本上都有数据类型，循环结构，条件语句等内容。Perl也不例外。 (1)if语句 if语句由一个布尔表达式后跟一个或多个语句组成。语法格式如下所示： 1234if(boolean_expression)&amp;#123;   表达式   # 在布尔表达式 boolean_expression 为 true 执行&amp;#125; 如果布尔表达式 boolea">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://rvdsd.top/2018/05/14/Perl/Perl学习笔记（3）-条件与循环语句/"/>





  <title>Perl学习笔记（３）-条件与循环语句以及错误处理 | RVDSD的个人笔记本</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">RVDSD的个人笔记本</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">学习过程中的输出</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/05/14/Perl/Perl学习笔记（3）-条件与循环语句/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Perl学习笔记（３）-条件与循环语句以及错误处理</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-05-14T12:00:00+08:00">
                2018-05-14
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Perl/" itemprop="url" rel="index">
                    <span itemprop="name">Perl</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  5,632
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  25
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="前言">(0)前言</h2>
<p>很多程序语言其实是比较类似的。基本上都有数据类型，循环结构，条件语句等内容。Perl也不例外。</p>
<h2 id="if语句">(1)if语句</h2>
<p>if语句由一个布尔表达式后跟一个或多个语句组成。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(boolean_expression)&#123;</div><div class="line">   表达式</div><div class="line">   <span class="comment"># 在布尔表达式 boolean_expression 为 true 执行</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果布尔表达式 boolean_expression为 true，则 if 语句内的代码块将被执行。如果布尔表达式为 false，则 if 语句结束后的第一组代码（闭括号后）将被执行，如下所示：</p>
<h3 id="if语句案例第一">if语句案例第一</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat if01.pl</div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a is less 20\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is: $a\n"</span>;</div><div class="line"></div><div class="line">$a=<span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"variable of a is true.\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl if01.pl</div><div class="line">a is less <span class="number">20</span></div><div class="line">The value of a is: <span class="number">10</span></div><div class="line">The value of a is</div></pre></td></tr></table></figure>
<h2 id="ifelse语句">(2)if…else语句</h2>
<p>一个if语句后可跟一个可选的else语句，else语句在布尔表达式为false时执行。语法语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(boolean_expression)&#123;    </div><div class="line">    表达式A;</div><div class="line">    <span class="comment"># 在布尔表达式 boolean_expression 为 true 执行 </span></div><div class="line">&#125;<span class="keyword">else</span>&#123;    </div><div class="line">    表达式B;</div><div class="line">    <span class="comment"># 在布尔表达式 boolean_expression 为 false 执行 </span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果布尔表达式boolean_expression为true，则执行if块内的表达式A。如果布尔表达式为false，则执行else块内的表达式B，如下所示：</p>
<h3 id="ifelse语句案例1">if…else语句案例1：</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat ifelse01.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a = <span class="number">100</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a is less 20\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a is more 20\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line"></div><div class="line">$a = <span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"condition of a is true.\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"condition of a ls flase.\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl ifelse01.pl </div><div class="line">a is more <span class="number">20</span></div><div class="line">The value of a is <span class="number">100</span></div><div class="line">condition of a ls flase.</div><div class="line">The value of a is</div></pre></td></tr></table></figure>
<h3 id="三元运算符">三元运算符 <code>?：</code></h3>
<p>可以使用 条件运算 <code>? :</code>来简化<code>if...else</code>语句的操作。通常格式为：<code>Exp1 ? Exp2 : Exp3</code>；如果 Exp1 表达式为 true ，则返回 Exp2 表达式计算结果，否则返回 Exp3，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat ifelse02.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a = <span class="number">100</span>;</div><div class="line">$result=($a&lt;<span class="number">20</span>)?<span class="string">"a is less 20\n"</span>:<span class="string">"a is more 20\n"</span>;</div><div class="line"><span class="keyword">print</span> <span class="string">"$result\n"</span>;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl ifelse02.pl </div><div class="line">a is more <span class="number">20</span></div></pre></td></tr></table></figure>
<h2 id="ifelsifelse语句">(3)if…elsif…else语句</h2>
<p>一个if语句后可跟一个可选的elsif语句，然后再跟另一个else语句，这种条件判断语句在多个条件的情况下非常有用，在使用if,elsif,else语句时你需要注意以下几点：</p>
<ol style="list-style-type: decimal">
<li>if语句后可以跟上0个或1个else语句，但是elsif后面必须有else语句。</li>
<li>if语句后可以跟上0个或1个elsif语句，但它们必须写在else语句前。</li>
<li>如果其中的一个elsif执行成功，其他的elsif和else将不再被执行。</li>
</ol>
<p>语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(boolean_expression1)&#123;</div><div class="line">   表达式A</div><div class="line">   <span class="comment">#在布尔表达式boolean_expression1为true执行A</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">elsif</span>(boolean_expression2)&#123;</div><div class="line">   表达式B</div><div class="line">   <span class="comment">#在布尔表达式boolean_expression2为true执行B</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">elsif</span>(boolean_expression3)&#123;</div><div class="line">   表达式C</div><div class="line">   <span class="comment">#在布尔表达式boolean_expression3为true执行C</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span>&#123;</div><div class="line">   表达式D</div><div class="line">   <span class="comment">#布尔表达式的条件都为false时执行D</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="ifelsif案例1">if…elsif案例1:</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat ifelsif.pl</div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">$a=<span class="number">100</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span>($a==<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is 20\n"</span>;</div><div class="line">&#125;<span class="keyword">elsif</span>($a==<span class="number">30</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is 30\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl ifelsif.pl </div><div class="line">The value of a is <span class="number">100</span></div></pre></td></tr></table></figure>
<h2 id="unless语句">(4)unless语句</h2>
<p>一个unless语句由一个布尔表达式后跟一个或多个语句组成。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">unless</span>(boolean_expression)&#123;</div><div class="line">    表达式A</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression为false执行A</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="unless使用案例1">unless使用案例1:</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat unless.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">120</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a is more or equeal 20\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line"></div><div class="line">$a=<span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The condition of a is false\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl unless.pl </div><div class="line">a is more <span class="keyword">or</span> equeal <span class="number">20</span></div><div class="line">The value of a is <span class="number">120</span></div><div class="line">The condition of a is false</div><div class="line">The value of a is</div></pre></td></tr></table></figure>
<h2 id="unlesselse语句">(5)unless…else语句</h2>
<p>一个unless语句后可跟一个可选的else语句，else语句在布尔表达式为true时执行。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">unless</span>(boolean_expression)&#123;</div><div class="line">    表达式A</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression为false执行A</span></div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    表达式B</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression为true执行B</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果布尔表达式boolean_expression为false，则执行unless块内的代码。如果布尔表达式为true，则执行else块内的代码。</p>
<h3 id="unlesselse使用案例1">unless…else使用案例1:</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat unlessif.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">100</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a==<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The condition given is false\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The conditoin given is true\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line"></div><div class="line">$a=<span class="string">""</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The condition of a given is false\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The conditoin of a given is true\n"</span>;</div><div class="line">&#125;</div><div class="line"><span class="keyword">print</span> <span class="string">"THe value of a is $a\n"</span>;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl unlessif.pl </div><div class="line">The condition <span class="keyword">given</span> is false</div><div class="line">The value of a is <span class="number">100</span></div><div class="line">The condition of a <span class="keyword">given</span> is false</div><div class="line">THe value of a is</div></pre></td></tr></table></figure>
<h2 id="unlesselsifelse-statement">(6)unless…elsif…else statement</h2>
<p>一个unless语句后可跟一个可选的elsif语句，然后再跟另一个else语句，这种条件判断语句在多个条件的情况下非常有用。 在使用unless,elsif,else语句时你需要注意以下几点。</p>
<ol style="list-style-type: decimal">
<li>unless语句后可以跟上0个或1个else语句，但是elsif后面必须有else语句。</li>
<li>unless语句后可以跟上0个或1个elsif语句，但它们必须写在else语句前。</li>
<li>如果其中的一个elsif执行成功，其他的elsif和else将不再被执行。</li>
</ol>
<p>它的使用格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">unless</span>(boolean_expression1)&#123;</div><div class="line">    表达式A</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression1为false执行A</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">elsif</span>(boolean_expression2)&#123;</div><div class="line">    表达式B</div><div class="line"><span class="comment">#在布尔表达式boolean_expression2为true执行B</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">elsif</span>(boolean_expression3)&#123;</div><div class="line">    表达式C</div><div class="line">    <span class="comment">#在布尔表达式boolean_expression3为true执行C</span></div><div class="line">&#125;</div><div class="line"><span class="keyword">else</span>&#123;</div><div class="line">    表达式A</div><div class="line">    <span class="comment">#没有条件匹配时执行D</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="unlesselsifelse-statement使用案例">unless…elsif…else statement使用案例</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat unless03.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">20</span>;</div><div class="line"></div><div class="line"><span class="keyword">unless</span>($a==<span class="number">30</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The vlaue of a is not 30\n"</span>;</div><div class="line">&#125;<span class="keyword">elsif</span>($a==<span class="number">30</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is 30\n"</span>;</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is $a\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl unless03.pl </div><div class="line">The vlaue of a is <span class="keyword">not</span> <span class="number">30</span></div></pre></td></tr></table></figure>
<h2 id="switch">(7)switch</h2>
<p>一个switch语句允许测试一个变量等于多个值时的情况。每个值称为一个case，且被测试的变量会对每个switch case进行检查。 switch case执行是基于<code>Switch</code>模块，<code>Switch</code>模块使用<code>Filter::Util::Call</code>和<code>Text::Balanced</code>来执行，这两个模块都需要安装。</p>
<p>switch的格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">use</span> Switch;</div><div class="line"> </div><div class="line">switch(argument)&#123;</div><div class="line">   case <span class="number">1</span>            &#123; <span class="keyword">print</span> <span class="string">"数字 1"</span> &#125;</div><div class="line">   case <span class="string">"a"</span>          &#123; <span class="keyword">print</span> <span class="string">"字符串 a"</span> &#125;</div><div class="line">   case [<span class="number">1</span>..<span class="number">10</span>,<span class="number">42</span>]   &#123; <span class="keyword">print</span> <span class="string">"数字在列表中"</span> &#125;</div><div class="line">   case (\@array)    &#123; <span class="keyword">print</span> <span class="string">"数字在数组中"</span> &#125;</div><div class="line">   case /\w+<span class="regexp">/        &#123; print "正则匹配模式" &#125;</span></div><div class="line"><span class="regexp">   case qr/</span>\w+<span class="regexp">/      &#123; print "正则匹配模式" &#125;</span></div><div class="line"><span class="regexp">   case (\%hash)     &#123; print "哈希" &#125;</span></div><div class="line"><span class="regexp">   case (\&amp;sub)      &#123; print "子进程" &#125;</span></div><div class="line"><span class="regexp">   else              &#123; print "不匹配之前的条件" &#125;</span></div><div class="line"><span class="regexp">&#125;</span></div></pre></td></tr></table></figure>
<p>以下是switch语句的规则:</p>
<ol style="list-style-type: decimal">
<li>switch语句的括号中可以使用任意类型的标量参数。</li>
<li>在一个switch中可以有任意数量的case语句。每个case后跟一个要比较的值和一个冒号。</li>
<li>case语句后的标量会与switch语句的标量进行比较，判断是否相等。</li>
<li>当被测试的变量等于case中的常量时，case后跟的语句将被执行，直到遇到break语句为止。</li>
<li>switch语句可以有一个可选的else,该语句在最后面，该语句在所有case不匹配的情况下执行。</li>
<li>当匹配case后，会执行case语句块代码，执行后跳出switch语句。</li>
<li>当匹配case后，如果我们需要继续执行接下来的case语句，则需要添加next语句。</li>
</ol>
<h3 id="switch使用案例">switch使用案例</h3>
<p>代码如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat switch01.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">use</span> Switch;</div><div class="line"></div><div class="line">$var=<span class="number">10</span>;</div><div class="line">@array=(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>);</div><div class="line">%hash=(<span class="string">'key1'</span>=&gt;<span class="number">10</span>,<span class="string">'key2'</span>=&gt;<span class="number">20</span>);</div><div class="line"></div><div class="line">switch($var)&#123;</div><div class="line">    case <span class="number">10</span>            &#123;<span class="keyword">print</span> <span class="string">"Number 10\n"</span>;<span class="keyword">next</span>;&#125;</div><div class="line">    case <span class="string">"a"</span>           &#123;<span class="keyword">print</span> <span class="string">"string a "</span>&#125;</div><div class="line">    case [<span class="number">1</span>..<span class="number">10</span>,<span class="number">42</span>]    &#123;<span class="keyword">print</span> <span class="string">"Number in list"</span>&#125;</div><div class="line">    case (\@array)     &#123;<span class="keyword">print</span> <span class="string">"Number in array"</span>&#125;</div><div class="line">    case (\%hash)      &#123;<span class="keyword">print</span> <span class="string">"In hash"</span>&#125;</div><div class="line">    <span class="keyword">else</span>               &#123;<span class="keyword">print</span> <span class="string">"There is no matching condition"</span>&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl switch01.pl </div><div class="line">Can<span class="string">'t locate Switch.pm in @INC (you may need to install the Switch module) (@INC contains: /home/biotest/miniconda2/lib/perl5/site_perl/5.22.0/x86_64-linux-thread-multi /home/biotest/miniconda2/lib/perl5/site_perl/5.22.0 /home/biotest/miniconda2/lib/perl5/5.22.0/x86_64-linux-thread-multi /home/biotest/miniconda2/lib/perl5/5.22.0 .) at switch01.pl line 3.</span></div><div class="line"><span class="string">BEGIN failed--compilation aborted at switch01.pl line 3.</span></div></pre></td></tr></table></figure>
<p>从结果来看，这是因为Perl没有安装Switch模块，<code>Filter::Util::Call</code>和<code>Text::Balanced</code>接着需要安装这个模块，代码如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">perl -MCPAN -e shell <span class="comment">#进入cpan</span></div><div class="line">install Switch</div><div class="line">install Filter::Util::Call</div><div class="line">install Text::Balanced</div></pre></td></tr></table></figure>
<p>安装后，继续运行，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl switch01.pl </div><div class="line">Number <span class="number">10</span></div><div class="line">Number in list</div></pre></td></tr></table></figure>
<h2 id="while循环">(8)while循环</h2>
<p>有的时候，我们可能需要多次执行同一块代码。一般情况下，语句是按顺序执行的：函数中的第一个语句先执行，接着是第二个语句，依此类推。编程语言提供了更为复杂执行路径的多种控制结构。Perl中有while循环，until循环，for循环。 while语句在给定条件为true时，重复执行语句或语句组，循环主体执行之前会先测试条件。 while循环的语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span>(condition)</div><div class="line">&#123;</div><div class="line"> statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在这里，statement(s)可以是一个单独的语句，也可以是几个语句组成的代码块。condition可以是任意的表达式，当为任意非零值时都为true。当条件为true时执行循环。当条件为false时，程序流将继续执行紧接着循环的下一条语句。</p>
<h3 id="while循环案例使用">while循环案例使用</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat while.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line"><span class="comment">#execute while loop</span></div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">     <span class="keyword">printf</span> <span class="string">"The value of a is:  $a\n"</span>;</div><div class="line">     $a=$a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl while.pl </div><div class="line">The value of a is:  <span class="number">10</span></div><div class="line">The value of a is:  <span class="number">11</span></div><div class="line">The value of a is:  <span class="number">12</span></div><div class="line">The value of a is:  <span class="number">13</span></div><div class="line">The value of a is:  <span class="number">14</span></div><div class="line">The value of a is:  <span class="number">15</span></div><div class="line">The value of a is:  <span class="number">16</span></div><div class="line">The value of a is:  <span class="number">17</span></div><div class="line">The value of a is:  <span class="number">18</span></div><div class="line">The value of a is:  <span class="number">19</span></div></pre></td></tr></table></figure>
<p>程序中在变量a小于20时执行循环体，在变量a大于等于20时，退出循环。</p>
<h2 id="until循环">(8)until循环</h2>
<p>until语句在给定条件为false时，重复执行语句或语句组。语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">until</span>(condition)</div><div class="line">&#123;</div><div class="line"> statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在这里，statement(s)可以是一个单独的语句，也可以是几个语句组成的代码块。condition可以是任意的表达式，当条件为false时执行循环。当条件为true时，程序流将继续执行紧接着循环的下一条语句。</p>
<h3 id="until循环案例">until循环案例</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat until.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line">$a=<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">until</span>($a&gt;<span class="number">10</span>)&#123;</div><div class="line">    <span class="keyword">printf</span> <span class="string">"The value of a is: $a\n"</span>;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl until.pl </div><div class="line">The value of a is: <span class="number">5</span></div><div class="line">The value of a is: <span class="number">6</span></div><div class="line">The value of a is: <span class="number">7</span></div><div class="line">The value of a is: <span class="number">8</span></div><div class="line">The value of a is: <span class="number">9</span></div><div class="line">The value of a is: <span class="number">10</span></div></pre></td></tr></table></figure>
<p>程序中在变量<code>$a</code>小于10时执行循环体，在变量<code>$a</code>大于等于10时，退出循环。</p>
<h2 id="for循环">(9)for循环</h2>
<p>for循环用于多次执行一个语句序列，简化管理循环变量的代码。语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span>(init;condition;increment)&#123;</div><div class="line"> statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>下面是for循环的控制流程解析： 1. init会首先被执行，且只会执行一次。这一步允许您声明并初始化任何循环控制变量。您也可以不在这里写任何语句，只要有一个分号出现即可。 2. 接下来，会判断condition。如果为true，则执行循环主体。如果为false，则不执行循环主体，且控制流会跳转到紧接着for循环的下一条语句。 在执行完for循环主体后，控制流会跳回上面的increment语句。该语句允许您更新循环控制变量。该语句可以留空，只要在条件后有一个分号出现即可。 3. 条件再次被判断。如果为true，则执行循环，这个过程会不断重复（循环主体，然后增加步值，再然后重新判断条件）。在条件变为false时，for循环终止。 4. 在这里，statement(s)可以是一个单独的语句，也可以是几个语句组成的代码块。condition可以是任意的表达式，当条件为false时执行循环。 当条件为true时，程序流将继续执行紧接着循环的下一条语句。</p>
<h3 id="for循环案例">for循环案例</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat for.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">for</span>($a=<span class="number">1</span>;$a&lt;<span class="number">10</span>;$a=$a+<span class="number">1</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a is: $a\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl for.pl </div><div class="line">The value of a is: <span class="number">1</span></div><div class="line">The value of a is: <span class="number">2</span></div><div class="line">The value of a is: <span class="number">3</span></div><div class="line">The value of a is: <span class="number">4</span></div><div class="line">The value of a is: <span class="number">5</span></div><div class="line">The value of a is: <span class="number">6</span></div><div class="line">The value of a is: <span class="number">7</span></div><div class="line">The value of a is: <span class="number">8</span></div><div class="line">The value of a is: <span class="number">9</span></div></pre></td></tr></table></figure>
<h2 id="foreach循环">(10)foreach循环</h2>
<p>foreach循环用于迭代一个列表或集合变量的值。语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">foreach</span> var (list) &#123;</div><div class="line">...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="foreach循环案例">foreach循环案例</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat foreach.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@list=(<span class="number">2</span>,<span class="number">12</span>,<span class="number">36</span>,<span class="number">42</span>,<span class="number">51</span>);</div><div class="line"></div><div class="line"><span class="keyword">foreach</span> $a(@list)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"The value of a : $a\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl foreach.pl </div><div class="line">The value of a : <span class="number">2</span></div><div class="line">The value of a : <span class="number">12</span></div><div class="line">The value of a : <span class="number">36</span></div><div class="line">The value of a : <span class="number">42</span></div><div class="line">The value of a : <span class="number">51</span></div></pre></td></tr></table></figure>
<h2 id="dowhile循环">(11)do…while循环</h2>
<p>do…while循环是在循环的尾部检查它的条件。do…while循环与while循环类似，但是do…while循环会确保至少执行一次循环。语法格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">do</span></div><div class="line">&#123;</div><div class="line"> statement(<span class="keyword">s</span>);</div><div class="line">&#125;<span class="keyword">while</span>(condition);</div></pre></td></tr></table></figure></p>
<p>请注意，条件表达式出现在循环的尾部，所以循环中的statement(s)会在条件被测试之前至少执行一次。 如果条件为true，控制流会跳转回上面的do，然后重新执行循环中的statement(s)。这个过程会不断重复，直到给定条件变为false为止。</p>
<h3 id="dowhile案例使用">do…while案例使用</h3>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat dowhile.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line"></div><div class="line"><span class="keyword">do</span>&#123;</div><div class="line">    <span class="keyword">printf</span> <span class="string">"The value of a is:  $a\n"</span>;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;<span class="keyword">while</span>($a&lt;<span class="number">15</span>);</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl dowhile.pl </div><div class="line">The value of a is:  <span class="number">10</span></div><div class="line">The value of a is:  <span class="number">11</span></div><div class="line">The value of a is:  <span class="number">12</span></div><div class="line">The value of a is:  <span class="number">13</span></div><div class="line">The value of a is:  <span class="number">14</span></div></pre></td></tr></table></figure>
<h2 id="循环嵌套">(12)循环嵌套</h2>
<p>Perl语言允许在一个循环内使用另一个循环，下面演示几个实例来说明这个概念。</p>
<h3 id="嵌套for循环语句的语法">(12.1)嵌套for循环语句的语法</h3>
<p>格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> ( init; condition; increment )&#123;</div><div class="line">   <span class="keyword">for</span> ( init; condition; increment )&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="while循环嵌套">(12.2)while循环嵌套</h3>
<p>使用格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span>(condition)&#123;</div><div class="line">   <span class="keyword">while</span>(condition)&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>使用案例 <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat while2.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">0</span>;</div><div class="line">$b=<span class="number">0</span>;;</div><div class="line"></div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">3</span>)&#123;</div><div class="line">    $b=<span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>($b&lt;<span class="number">3</span>)&#123;</div><div class="line">         <span class="keyword">print</span> <span class="string">"a=$a,b=$b\n"</span>;</div><div class="line">         $b=$b+<span class="number">1</span>;</div><div class="line">     &#125;</div><div class="line">     $a=$a+<span class="number">1</span>;</div><div class="line">     <span class="keyword">print</span> <span class="string">"a=$a\n\n"</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl while2.pl </div><div class="line">a=<span class="number">0</span>,b=<span class="number">0</span></div><div class="line">a=<span class="number">0</span>,b=<span class="number">1</span></div><div class="line">a=<span class="number">0</span>,b=<span class="number">2</span></div><div class="line">a=<span class="number">1</span></div><div class="line"></div><div class="line">a=<span class="number">1</span>,b=<span class="number">0</span></div><div class="line">a=<span class="number">1</span>,b=<span class="number">1</span></div><div class="line">a=<span class="number">1</span>,b=<span class="number">2</span></div><div class="line">a=<span class="number">2</span></div><div class="line"></div><div class="line">a=<span class="number">2</span>,b=<span class="number">0</span></div><div class="line">a=<span class="number">2</span>,b=<span class="number">1</span></div><div class="line">a=<span class="number">2</span>,b=<span class="number">2</span></div><div class="line">a=<span class="number">3</span></div></pre></td></tr></table></figure></p>
<h3 id="dowhile循环嵌套">(13.3)do…while循环嵌套</h3>
<p>格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">do</span>&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">   <span class="keyword">do</span>&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;<span class="keyword">while</span>( condition );</div><div class="line"></div><div class="line">&#125;<span class="keyword">while</span>( condition );</div></pre></td></tr></table></figure></p>
<h3 id="until循环嵌套">(13.4)until循环嵌套</h3>
<p>格式如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">until</span>(condition)&#123;</div><div class="line">   <span class="keyword">until</span>(condition)&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="foreach循环嵌套">(13.5)foreach循环嵌套</h3>
<p>格式如下： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">foreach</span> $a (@listA)&#123;</div><div class="line">   <span class="keyword">foreach</span> $b (@listB)&#123;</div><div class="line">      statement(<span class="keyword">s</span>);</div><div class="line">   &#125;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="循环控制语句">(13)循环控制语句</h2>
<p>循环控制语句改变了代码的执行顺序，通过它你可以实现代码的跳转，Perl中的循环控制语句有这些：</p>
<table style="width:100%;">
<colgroup>
<col width="18%">
<col width="81%">
</colgroup>
<thead>
<tr class="header">
<th>控制语句</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>next 语句</td>
<td>停止执行从next语句的下一语句开始到循环体结束标识符之间的语句，转去执行continue语句块，然后再返回到循环体的起始处开始执行下一次循环。</td>
</tr>
<tr class="even">
<td>last 语句</td>
<td>退出循环语句块，从而结束循环</td>
</tr>
<tr class="odd">
<td>continue 语句</td>
<td>continue 语句块通常在条件语句再次判断前执行。</td>
</tr>
<tr class="even">
<td>redo 语句</td>
<td>redo 语句直接转到循环体的第一行开始重复执行本次循环，redo语句之后的语句不再执行，continue语句块也不再执行；</td>
</tr>
<tr class="odd">
<td>goto 语句</td>
<td>Perl 有三种 goto 形式：got LABLE，goto EXPR，和 goto &amp;NAME。</td>
</tr>
</tbody>
</table>
<h3 id="next语句">(13.1) next语句</h3>
<p>next语句用于停止执行从next语句的下一语句开始到循环体结束标识符之间的语句，转去执行continue语句块，然后再返回到循环体的起始处开始执行下一次循环。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">next</span>[LABEL];</div></pre></td></tr></table></figure>
<p>其中LABEL是可选的，如果没有指定LABEL，next语句将返回到循环体的起始处开始执行下一次循环，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat next.pl</div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">20</span>)&#123;</div><div class="line">    <span class="keyword">if</span>($a==<span class="number">15</span>)</div><div class="line">    &#123;</div><div class="line">       <span class="comment"># jump loop</span></div><div class="line">       $a=$a+<span class="number">1</span>;</div><div class="line">       <span class="keyword">next</span>;</div><div class="line">     &#125;</div><div class="line">     <span class="keyword">print</span> <span class="string">"The value of a is: $a\n"</span>;</div><div class="line">     $a = $a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl next.pl </div><div class="line">The value of a is: <span class="number">10</span></div><div class="line">The value of a is: <span class="number">11</span></div><div class="line">The value of a is: <span class="number">12</span></div><div class="line">The value of a is: <span class="number">13</span></div><div class="line">The value of a is: <span class="number">14</span></div><div class="line">The value of a is: <span class="number">16</span></div><div class="line">The value of a is: <span class="number">17</span></div><div class="line">The value of a is: <span class="number">18</span></div><div class="line">The value of a is: <span class="number">19</span></div></pre></td></tr></table></figure>
<p>从结果可以看出，如果a等于15了，就跳出这个循环。</p>
<h3 id="last语句">(13.2) last语句</h3>
<p>last 语句用于退出循环语句块，从而结束循环，last语句之后的语句不再执行，continue语句块也不再执行。语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">last</span> [LABEL];</div></pre></td></tr></table></figure>
<p>案例如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure></p>
<h3 id="continue">(13.3)continue</h3>
<p>continue块通常在条件语句再次判断前执行。continue语句可用在while和foreach循环中。 while循环中continue语句语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">while</span>(condition)&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>foreach循环中continue语句语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">foreach</span> $a (@listA)&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">   statement(<span class="keyword">s</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>while中的continue使用案例如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat continue.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">3</span>)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a=$a\n"</span>;</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl continue.pl </div><div class="line">a=<span class="number">0</span></div><div class="line">a=<span class="number">1</span></div><div class="line">a=<span class="number">2</span></div></pre></td></tr></table></figure>
<p>foreach中的continue使用如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat continue2.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">@list=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>);</div><div class="line"><span class="keyword">foreach</span> $a(@list)&#123;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a=$a\n"</span>;</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">    <span class="keyword">last</span> <span class="keyword">if</span> $a==<span class="number">4</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl continue2.pl </div><div class="line">a=<span class="number">1</span></div><div class="line">a=<span class="number">2</span></div><div class="line">a=<span class="number">3</span></div><div class="line">a=<span class="number">4</span></div></pre></td></tr></table></figure>
<h3 id="redo语句">(13.4)0redo语句</h3>
<p>redo语句直接转到循环体的第一行开始重复执行本次循环，redo语句之后的语句不再执行，continue语句块也不再执行。continue语句可用在while和foreach循环中。 语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">redo</span> [LABEL]</div></pre></td></tr></table></figure>
<p>其中LABEL是可选的。带标号修饰符LABEL的redo语句表示把循环控制流程直接转到与标号修饰符LABEL相关联的语句块的第一行处开始执行，而不再执行redo语句之后的语句和continue语句块；不带标号修饰符LABEL的redo语句表示把循环控制流程直接转到当前语句块的第一行处开始执行，而不再执行redo语句之后的语句和continue语句块；如果是在for循环中或者是带有continue语句块，则for循环中的递增列表和continue语句块都不再被执行，看下面的案例：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat redo.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">0</span>;</div><div class="line"><span class="keyword">while</span>($a&lt;<span class="number">10</span>)&#123;</div><div class="line">    <span class="keyword">if</span>($a==<span class="number">5</span>)&#123;</div><div class="line">      $a=$a+<span class="number">1</span>;</div><div class="line">      <span class="keyword">redo</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a=$a\n"</span>;</div><div class="line">&#125;<span class="keyword">continue</span>&#123;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl redo.pl </div><div class="line">a=<span class="number">0</span></div><div class="line">a=<span class="number">1</span></div><div class="line">a=<span class="number">2</span></div><div class="line">a=<span class="number">3</span></div><div class="line">a=<span class="number">4</span></div><div class="line">a=<span class="number">6</span></div><div class="line">a=<span class="number">7</span></div><div class="line">a=<span class="number">8</span></div><div class="line">a=<span class="number">9</span></div></pre></td></tr></table></figure>
<p>从结果来看，当a=5时，重新转到第一行运行。</p>
<h3 id="goto语句">(13.5)goto语句</h3>
<p>Perl 有三种 goto 形式：got LABLE，goto EXPR，和 goto &amp;NAME，如下所示：</p>
<table>
<thead>
<tr class="header">
<th>序号</th>
<th>goto 类型</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td>goto LABEL-找出标记为 LABEL 的语句并且从那里重新执行。</td>
</tr>
<tr class="even">
<td>2</td>
<td>goto EXPR-goto EXPR 形式只是 goto LABEL 的一般形式。它期待表达式生成一个标记名称，并跳到该标记处执行。</td>
</tr>
<tr class="odd">
<td>3</td>
<td>goto &amp;NAME-它把正 在运行着的子进程替换为一个已命名子进程的调用。</td>
</tr>
</tbody>
</table>
<p>语法格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">goto</span> LABEL</div><div class="line">或</div><div class="line"><span class="keyword">goto</span> EXPR</div><div class="line">或</div><div class="line"><span class="keyword">goto</span> &amp;NAME</div></pre></td></tr></table></figure>
<p>使用案例如下所示：</p>
<p>在下面的这个案例中，当a=15时，跳出循环，进入<code>LOOP</code>这个标签处，此时a=16，继续循环。</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div></pre></td></tr></table></figure>
<p>下面的这个案例使用了goto EXPR的形式，它其实就是上一下案例的变形，只是中间的LABEL变成了一个表达式，本质还是一样的，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat gotoexpr.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line">$a=<span class="number">10</span>;</div><div class="line">$str1=<span class="string">"LO"</span>;</div><div class="line">$str2=<span class="string">"OP"</span>;</div><div class="line"></div><div class="line">LOOP:<span class="keyword">do</span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>($a==<span class="number">15</span>)&#123;</div><div class="line">        $a=$a+<span class="number">1</span>;</div><div class="line">        <span class="keyword">goto</span> $str1.$str2; <span class="comment"># this is similar to goto LOOP</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">print</span> <span class="string">"a=$a\n"</span>;</div><div class="line">    $a=$a+<span class="number">1</span>;</div><div class="line">&#125;<span class="keyword">while</span>($a&lt;<span class="number">20</span>);</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl gotoexpr.pl </div><div class="line">a=<span class="number">10</span></div><div class="line">a=<span class="number">11</span></div><div class="line">a=<span class="number">12</span></div><div class="line">a=<span class="number">13</span></div><div class="line">a=<span class="number">14</span></div><div class="line">a=<span class="number">16</span></div><div class="line">a=<span class="number">17</span></div><div class="line">a=<span class="number">18</span></div><div class="line">a=<span class="number">19</span></div></pre></td></tr></table></figure>
<h2 id="错误处理">(14)错误处理</h2>
<p>程序运行过程中，总会碰到各式各样的错误，比如打开一个不存在的文件。程序运行过程中如果出现错误就会停止，我们就需要使用一些检测方法来避免错误，从而防止程序退出。</p>
<h3 id="if语句判断错误">(14.1) if语句判断错误</h3>
<p>if语句可以用于判断返回值，使用格式如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span>(<span class="keyword">open</span>(DATA, $file))&#123;</div><div class="line">   ...</div><div class="line">&#125;<span class="keyword">else</span>&#123;</div><div class="line">   <span class="keyword">die</span> <span class="string">"Error:Can not open file - $!"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>如果文件打不开，就会返回错误信息，错误信息包含在变量<code>$!</code>中，上述代码也可以简化为以下的代码：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">open</span>(DATA,$file)||<span class="keyword">die</span> <span class="string">"Error:Can not open file - $!"</span>;</div></pre></td></tr></table></figure>
<h3 id="unless函数判断错误">(14.2)unless函数判断错误</h3>
<p>unless函数与if相反，只有在表达式返回false时才会执行，使用方法如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">unless</span>(<span class="keyword">chdir</span>(<span class="string">"/etc"</span>)&#123;</div><div class="line">    <span class="keyword">die</span> <span class="string">"Error: Can not open directionary-$!"</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>同样也可以简写为：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">die</span> <span class="string">"Error:Can not open directionary-$!"</span>;</div></pre></td></tr></table></figure>
<p>以上错误信息只有在目录切换出现错误的情况下才会出现。</p>
<h3 id="三元运算符-1">(14.3)三元运算符</h3>
<p>以下是三元运算符的使用案例：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span>(<span class="keyword">exists</span>($hash<span class="string">&#123;value&#125;</span>)?<span class="string">'Exist'</span>:<span class="string">'No Exist'</span>,<span class="string">"\n"</span>);</div></pre></td></tr></table></figure>
<p><code>exists</code>函数用于判断hash里面有没有对应的key，如果存在，返回True，不存在返回False。三元运算符的基本格式就是格式为<code>表达式 ? 值一 : 值二。</code></p>
<h3 id="warn函数">(14.4)warn函数</h3>
<p>warn函数用于触发一个警告信息，不会有其他操作，输出到STDERR(标准输出文件)，通常用于给用户提示，使用方法如下所示： <figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">chdir</span>(<span class="string">'/etc'</span>) <span class="keyword">or</span> <span class="keyword">warn</span> <span class="string">"Can not change directionary"</span>;</div></pre></td></tr></table></figure></p>
<h3 id="die函数">(14.5)die函数</h3>
<p>die函数类似于warn, 但它会执行退出。一般用作错误信息的输出，使用方法如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">chdir</span>(<span class="string">'/etc'</span>) <span class="keyword">or</span> <span class="keyword">die</span> <span class="string">"Can not change directionary"</span>;</div></pre></td></tr></table></figure>
<h3 id="carp模块">(14.6)Carp模块</h3>
<p>在Perl脚本中，报告错误的常用方法是使用<code>warn()</code>或<code>die()</code>函数来报告或产生错误。而对于<code>Carp</code>模块，它可以对产生的消息提供额外级别的控制，尤其是在模块内部。标准<code>Carp模块</code>提供了<code>warn()</code>和<code>die()</code>函数的替代方法，它们在提供错误定位方面提供更多信息，而且更加友好。当在模块中使用时，错误消息中包含模块名称和行号。</p>
<h4 id="carp函数">(14.6.1) carp函数</h4>
<p><code>carp</code>函数可以输出程序的跟踪信息，类似于<code>warn</code>函数，通常会将该信息发送到<code>STDERR</code>，如下所示：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ cat carp.pl </div><div class="line"><span class="comment">#!/usr/bin/perl</span></div><div class="line"></div><div class="line"><span class="keyword">package</span> T;</div><div class="line"></div><div class="line"><span class="keyword">require</span> Exporter;</div><div class="line">@ISA=<span class="keyword">qw</span>/Exporter/;</div><div class="line">@EXPORT=<span class="keyword">qw</span>/function/;</div><div class="line"><span class="keyword">use</span> Carp;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">sub</span> <span class="title">function</span></span>&#123;</div><div class="line">    carp <span class="string">"Error in module!"</span>;</div><div class="line">&#125;</div><div class="line"><span class="number">1</span>;</div><div class="line"><span class="keyword">use</span> T;</div><div class="line">function();</div><div class="line">biotest@ubuntu:~<span class="regexp">/perl/</span><span class="number">03</span>condition$ perl carp.pl</div><div class="line">Can<span class="string">'t locate T.pm in @INC (you may need to install the T module) (@INC contains: /home/biotest/miniconda2/lib/perl5/site_perl/5.22.0/x86_64-linux-thread-multi /home/biotest/miniconda2/lib/perl5/site_perl/5.22.0 /home/biotest/miniconda2/lib/perl5/5.22.0/x86_64-linux-thread-multi /home/biotest/miniconda2/lib/perl5/5.22.0 .) at carp.pl line 14.</span></div><div class="line"><span class="string">BEGIN failed--compilation aborted at carp.pl line 14.</span></div></pre></td></tr></table></figure>
<p>Carp模块里面好多代码不懂，先空起来，有空再来补充笔记。</p>
<h2 id="参考资料">参考资料</h2>
<p><a href="http://www.runoob.com/perl/perl-tutorial.html" target="_blank" rel="external">Perl教程|菜鸟教程</a></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/结构化命令/" <i class="fa fa-tag"></i> 结构化命令</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/05/13/Perl/Perl学习笔记（2）-数据、变量/" rel="next" title="Perl学习笔记（2）-变量、数据">
                <i class="fa fa-chevron-left"></i> Perl学习笔记（2）-变量、数据
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/05/15/Perl/Perl学习笔记（4）-运算符/" rel="prev" title="Perl学习笔记（4）-运算符">
                Perl学习笔记（4）-运算符 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="vcomments"></div>
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">RVDSD</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">170</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">11</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">49</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">(0)前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#if语句"><span class="nav-number">2.</span> <span class="nav-text">(1)if语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#if语句案例第一"><span class="nav-number">2.1.</span> <span class="nav-text">if语句案例第一</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ifelse语句"><span class="nav-number">3.</span> <span class="nav-text">(2)if…else语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ifelse语句案例1"><span class="nav-number">3.1.</span> <span class="nav-text">if…else语句案例1：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三元运算符"><span class="nav-number">3.2.</span> <span class="nav-text">三元运算符 ?：</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ifelsifelse语句"><span class="nav-number">4.</span> <span class="nav-text">(3)if…elsif…else语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ifelsif案例1"><span class="nav-number">4.1.</span> <span class="nav-text">if…elsif案例1:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#unless语句"><span class="nav-number">5.</span> <span class="nav-text">(4)unless语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#unless使用案例1"><span class="nav-number">5.1.</span> <span class="nav-text">unless使用案例1:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#unlesselse语句"><span class="nav-number">6.</span> <span class="nav-text">(5)unless…else语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#unlesselse使用案例1"><span class="nav-number">6.1.</span> <span class="nav-text">unless…else使用案例1:</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#unlesselsifelse-statement"><span class="nav-number">7.</span> <span class="nav-text">(6)unless…elsif…else statement</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#unlesselsifelse-statement使用案例"><span class="nav-number">7.1.</span> <span class="nav-text">unless…elsif…else statement使用案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#switch"><span class="nav-number">8.</span> <span class="nav-text">(7)switch</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#switch使用案例"><span class="nav-number">8.1.</span> <span class="nav-text">switch使用案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#while循环"><span class="nav-number">9.</span> <span class="nav-text">(8)while循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#while循环案例使用"><span class="nav-number">9.1.</span> <span class="nav-text">while循环案例使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#until循环"><span class="nav-number">10.</span> <span class="nav-text">(8)until循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#until循环案例"><span class="nav-number">10.1.</span> <span class="nav-text">until循环案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#for循环"><span class="nav-number">11.</span> <span class="nav-text">(9)for循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#for循环案例"><span class="nav-number">11.1.</span> <span class="nav-text">for循环案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#foreach循环"><span class="nav-number">12.</span> <span class="nav-text">(10)foreach循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#foreach循环案例"><span class="nav-number">12.1.</span> <span class="nav-text">foreach循环案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dowhile循环"><span class="nav-number">13.</span> <span class="nav-text">(11)do…while循环</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#dowhile案例使用"><span class="nav-number">13.1.</span> <span class="nav-text">do…while案例使用</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环嵌套"><span class="nav-number">14.</span> <span class="nav-text">(12)循环嵌套</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#嵌套for循环语句的语法"><span class="nav-number">14.1.</span> <span class="nav-text">(12.1)嵌套for循环语句的语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#while循环嵌套"><span class="nav-number">14.2.</span> <span class="nav-text">(12.2)while循环嵌套</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dowhile循环嵌套"><span class="nav-number">14.3.</span> <span class="nav-text">(13.3)do…while循环嵌套</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#until循环嵌套"><span class="nav-number">14.4.</span> <span class="nav-text">(13.4)until循环嵌套</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#foreach循环嵌套"><span class="nav-number">14.5.</span> <span class="nav-text">(13.5)foreach循环嵌套</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#循环控制语句"><span class="nav-number">15.</span> <span class="nav-text">(13)循环控制语句</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#next语句"><span class="nav-number">15.1.</span> <span class="nav-text">(13.1) next语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#last语句"><span class="nav-number">15.2.</span> <span class="nav-text">(13.2) last语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#continue"><span class="nav-number">15.3.</span> <span class="nav-text">(13.3)continue</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#redo语句"><span class="nav-number">15.4.</span> <span class="nav-text">(13.4)0redo语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#goto语句"><span class="nav-number">15.5.</span> <span class="nav-text">(13.5)goto语句</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#错误处理"><span class="nav-number">16.</span> <span class="nav-text">(14)错误处理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#if语句判断错误"><span class="nav-number">16.1.</span> <span class="nav-text">(14.1) if语句判断错误</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#unless函数判断错误"><span class="nav-number">16.2.</span> <span class="nav-text">(14.2)unless函数判断错误</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三元运算符-1"><span class="nav-number">16.3.</span> <span class="nav-text">(14.3)三元运算符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#warn函数"><span class="nav-number">16.4.</span> <span class="nav-text">(14.4)warn函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#die函数"><span class="nav-number">16.5.</span> <span class="nav-text">(14.5)die函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#carp模块"><span class="nav-number">16.6.</span> <span class="nav-text">(14.6)Carp模块</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#carp函数"><span class="nav-number">16.6.1.</span> <span class="nav-text">(14.6.1) carp函数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">17.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">RVDSD</span>

  
</div>



<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_pv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共648.1k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
