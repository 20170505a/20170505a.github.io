<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="统计学,统计基础,决策树," />










<meta name="description" content="前言 本篇笔记是StatQuet系列视频教程的第50节和第51节，主要内容是决策树（decision tree）。其中第50节的内容是决策木树的基本思想，第51节的内容是在构建决策树中，缺失值的处理。 决策树简单案例1 先看一下简单的决策树案例，在这个案例中，我们提出一个问题，也就是问某人，“请问，你喜欢StatQuest的主题曲吗”。回答者会回答“Yes”或“No”，根据回答者的这个回答，">
<meta name="keywords" content="统计学,统计基础,决策树">
<meta property="og:type" content="article">
<meta property="og:title" content="StatQuest学习笔记19——决策树">
<meta property="og:url" content="http://rvdsd.top/2018/07/01/BioStatistics/生物统计-StatQuest学习笔记19-决策树/index.html">
<meta property="og:site_name" content="RVDSD的个人笔记本">
<meta property="og:description" content="前言 本篇笔记是StatQuet系列视频教程的第50节和第51节，主要内容是决策树（decision tree）。其中第50节的内容是决策木树的基本思想，第51节的内容是在构建决策树中，缺失值的处理。 决策树简单案例1 先看一下简单的决策树案例，在这个案例中，我们提出一个问题，也就是问某人，“请问，你喜欢StatQuest的主题曲吗”。回答者会回答“Yes”或“No”，根据回答者的这个回答，">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Cd1LKJkeCI.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/L9jGl7D9Dg.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/60kFb792aL.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/kjBfK2CmGD.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/1kClFLCCb3.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/DB6eEDce42.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/6gF3e54GAe.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/LEi4iihaH6.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/iijAkB7kmA.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/2k5djAijmb.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/LLJmijH449.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/c16b9maACC.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/9gB6ihKDjl.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/37lbghkl38.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/k9l9a1cDiB.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/CcD07EjbFf.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/dBlH5g2EJ8.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/bb8ihg3Gba.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/L8cheH0859.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Gli1fImE7f.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/BmaCgL2b11.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/dI7mi4I52D.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/kH02DK5gd1.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/K49c4Jb63F.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/2eaJD2hDJ7.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/ID9jBiJk6G.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/eI05J7icDk.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/jeEDDm4de2.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Lc90Eb3b71.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/IGdGjG0b3C.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/cImgALF937.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/FIjAG8Hf7K.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/ED0dJ5bADG.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/9e0aKKB5H5.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/kiKDG8mEe3.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/geI6JJ4eem.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/38956HbBdb.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/1298h62kG9.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Aa8b5L7Gc0.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/lC6LK8k78E.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/JIH82EG316.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/dGAFgD83Cf.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/8bFj362H6D.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180711/J1Ahg3mjmA.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/bll6L088Fd.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/2ajl6EAec5.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/g32j1hKE6g.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/1mbCE088L6.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/kle82jF63K.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/b94GH79h32.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/2bJBj4gjbK.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/F6GFJ0fC3B.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/E0d5gGAB8d.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/FIbfjcIl94.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/hHfDAlgljH.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/jA8g9GB4fc.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/98150klJD5.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/IBbgj3a6ml.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/7ae5b8Hg9g.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/dClJ85h4ji.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/jAcckGIkA2.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/mHBGcmbHBK.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/JjA9Dmmhm6.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/J8Bg4H6jfF.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/EbDcI4dlJf.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/H369a5chKk.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/mJ4aEIh31H.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Egj3EjlLBE.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/k1b90m5eb2.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/ai6mKmHkhd.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/IECa6LDhJI.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/F7dBcIcfIe.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/5aBIjh23HC.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/5ecig0HD20.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/m5llb536Ke.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/AI99c4jddd.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/71GBe7hAe3.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/ALBcl6H6IG.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/l3jGFldH6E.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/dH4lmI768d.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/gE778hghd9.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/k89b1Ljjmd.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/5Cl7je9J3l.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Fj3b6GAbiL.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Lj4C3GjC8H.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/DAB81C4aLk.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/J9eLHe5eDL.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/KkD15mgE9i.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/agfH1Jh4C8.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/9FL41aeIf5.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/4hFFigjGGd.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/9JGdI6k8Ik.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/jbeLAb4gI0.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Cgc93lKJ1E.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/m85HFEiLjA.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Kam8FC19F5.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/hdheleGHF7.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/82fh4DFBC1.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/iJaEl8L91b.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/89GHJB6c1F.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/CE54jbJ7gF.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/93A92LchaK.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/CciebF5a60.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Li1D21CGhk.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/bkF0GBIG9C.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/H0i8bf2ggF.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/5JBGCcB1eF.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/bDem4Jchkg.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/7aeB2FiBK8.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/F0K760Fla1.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/1ckiD28c0H.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/1052m9m1B1.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/lkkLBmhhbd.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/JKBg0a1lgj.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Fd53Ja74F4.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/HBIKe8gadE.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/dK8g4dKcd3.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/388LH5Kccj.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/7FF1d70BFF.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/kfajH4hl78.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/miEeibaB7K.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/E0BjgHK2B8.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/929CefImKa.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/1i0kahI5IK.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/256dAmgi44.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/782H1dim1i.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/8GIm0Akk2b.png?imageslim">
<meta property="og:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/k6clG9i71m.png?imageslim">
<meta property="og:updated_time" content="2018-07-11T14:48:28.798Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="StatQuest学习笔记19——决策树">
<meta name="twitter:description" content="前言 本篇笔记是StatQuet系列视频教程的第50节和第51节，主要内容是决策树（decision tree）。其中第50节的内容是决策木树的基本思想，第51节的内容是在构建决策树中，缺失值的处理。 决策树简单案例1 先看一下简单的决策树案例，在这个案例中，我们提出一个问题，也就是问某人，“请问，你喜欢StatQuest的主题曲吗”。回答者会回答“Yes”或“No”，根据回答者的这个回答，">
<meta name="twitter:image" content="http://ortxpw68f.bkt.clouddn.com/professional/180703/Cd1LKJkeCI.png?imageslim">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://rvdsd.top/2018/07/01/BioStatistics/生物统计-StatQuest学习笔记19-决策树/"/>





  <title>StatQuest学习笔记19——决策树 | RVDSD的个人笔记本</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">RVDSD的个人笔记本</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">学习过程中的输出</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2018/07/01/BioStatistics/生物统计-StatQuest学习笔记19-决策树/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">StatQuest学习笔记19——决策树</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-07-01T12:10:54+08:00">
                2018-07-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/生物统计/" itemprop="url" rel="index">
                    <span itemprop="name">生物统计</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  5,434
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  19
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="前言">前言</h2>
<p>本篇笔记是StatQuet系列视频教程的第50节和第51节，主要内容是决策树（decision tree）。其中第50节的内容是决策木树的基本思想，第51节的内容是在构建决策树中，缺失值的处理。</p>
<h2 id="决策树简单案例1">决策树简单案例1</h2>
<p>先看一下简单的决策树案例，在这个案例中，我们提出一个问题，也就是问某人，“请问，你喜欢StatQuest的主题曲吗”。回答者会回答“Yes”或“No”，根据回答者的这个回答，我们可以把回答者分为两类，如果回答Yes，则就是下面的情况，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Cd1LKJkeCI.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果回答No，那么就是下面的这种情况：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/L9jGl7D9Dg.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>在一个常规的决策树中，通常会问一个问题，然后根据回答者的回答（就是Yes或No），就把他们进行分类，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/60kFb792aL.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>同样的，我们还可以根据一些数据来构建决策树，例如根据人的静息心率（resting heart rate）是否大于100bpm，那么就可以对他们进行分类，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/kjBfK2CmGD.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果一个人的静息心率大于100bpm，那么就是说他的静息心率比较高，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/1kClFLCCb3.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>那么他就需要去看医生，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/DB6eEDce42.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果一个人的静息心率并不高，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/6gF3e54GAe.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>那么这个人就属于比较健康的状态了，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/LEi4iihaH6.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="决策树简单案例2">决策树简单案例2</h2>
<p>再来看一个决策树的简单案例。在这个案例中，决策树的构建的依据是一个分级数据（ranked data），其中数据<code>Appetite rank =1</code>表示<code>非常饿</code>，<code>Appetite rank = 2</code>表示<code>一般饿</code>，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/iijAkB7kmA.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果一个人非常饿（<code>Appetite rank = 1</code>）时，那么他就需要吃东西，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/2k5djAijmb.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果这个人只是处于一般饿的状态（<code>Appetite rank = 2</code>），那么他只需要只一点东西即可，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/LLJmijH449.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果这个人不是特别的饿，那么他也可以不吃东西，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/c16b9maACC.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>需要注意的是，决策树中的分类可以是一些二分类变量，如下图左侧所示，也可以是一些连续型变量（数值型变量），如下图右侧所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/9gB6ihKDjl.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>例如，上图的右侧，我们使用小鼠的体重来预测小鼠的大小（size），如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/37lbghkl38.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="复杂案例">复杂案例</h2>
<p>我们再看一个比较复杂的决策树案例，在这个决策树中，它混合了连续型变量和二分类变量，下图是决策树中的连续型变量，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/k9l9a1cDiB.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>接着是二分类变量，它使用的yes/no来进行区分，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/CcD07EjbFf.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>在这个决策树中，我们需要注意的是，静息心率的阈值并非都是相同的，例如在左侧，它的阈值是100bpm，而在右侧，它的阈值是120bpm，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/dBlH5g2EJ8.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>在决策树中，问题的顺序也可以不一样，例如在左侧，第一个问题是静息心率，然后为是否吃甜甜圈（doughnut），如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/bb8ihg3Gba.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>而在右侧，第一个问题则为是否吃甜甜圈，然后是静息心率，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/L8cheH0859.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>最后的归类可以是一样的，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Gli1fImE7f.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>还有两个相同的分支，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/BmaCgL2b11.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>对于大多数的决策树来说，它们都很直观，从顶层开始，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/dI7mi4I52D.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>接着进入下一层，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/kH02DK5gd1.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>再下一层，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/K49c4Jb63F.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>一直到最底层为止，此时就对一个样本进行了分类，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/2eaJD2hDJ7.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="决策树术语">决策树术语</h2>
<p>我们来看一下决策树的相关术语，我们把树最顶层的部分称为<code>根结点（Root Node</code>）或直接称为<code>根（The root）</code>。如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/ID9jBiJk6G.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>把根节点以下最底层之间的部分称为<code>内部节点（Internal Nodes）</code>或<code>节点（Nodes）</code>，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/eI05J7icDk.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>内部节点通过箭头指向下一级的内部节点，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/jeEDDm4de2.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>或者是指离（point away）下一层的内部节点，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Lc90Eb3b71.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>那些终点（也就是没有下一层的节点）被称为<code>叶子节点（Leaf Nodes）</code>或<code>叶子（Leaves）</code>，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/IGdGjG0b3C.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>内部节点的箭头指向叶子，但叶子自身已经没有箭头指向其他地方，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/cImgALF937.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="构建决策树">构建决策树</h2>
<p>现在我们讲一下，如何利用一批数据构建决策树，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/FIjAG8Hf7K.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>我们会利用这个表中的<code>胸痛（chest pain）</code>、 <code>良好血液循环（good blood circulation）</code>和 <code>动脉阻塞状态（blocked artery status）</code>构建一个决策树来预测一个患者是否患有心脏病，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/ED0dJ5bADG.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>第一步我们需要知道的是，我们使用哪些变量作为根结点，是<code>胸痛（chest pain）</code>、<code>良好血液循环（good blood circulation）</code>，还是<code>动脉阻塞状态（blocked artery status）</code>，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/9e0aKKB5H5.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h3 id="单一变量1构建决策树">单一变量1构建决策树</h3>
<p>此时，我们先看一下，<code>胸痛（chest pain）</code>这一个变量预测心脏病的效果如何，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/kiKDG8mEe3.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>先用这一个变量（胸痛（chest pain））来构建一个小的决策树，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/geI6JJ4eem.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>先看第一行的数据，这个患者没有出现胸痛，也没有心脏病，对应到决策树上就是右侧的<code>False</code>中的<code>No</code>，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/38956HbBdb.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>再看第2行，也就是第2个患者，他出现了胸痛，也出现了心脏病，就归于左侧的<code>True</code>的<code>Yes</code>这一类，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/1298h62kG9.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>再看第3行，也就是第3个患者，他出现了胸痛，但没有出现心脏病，就归到了左侧<code>True</code>的<code>No</code>这个分类，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Aa8b5L7Gc0.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>把所有的患者（303个）都统计后，会得到最终是否得心脏病的统计信息，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/lC6LK8k78E.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h3 id="单一变量2构建决策树">单一变量2构建决策树</h3>
<p>现在我们使用<code>良好血液循环（good blood circulation）</code>这个变量来构建小的决策树，整个过程与前面的一样，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/JIH82EG316.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>最终得到的结果如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/dGAFgD83Cf.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h3 id="单一变量3构建决策树">单一变量3构建决策树</h3>
<p>现在我们使用<code>动脉阻塞状态（blocked artery status）</code>这个变量来构建小的决策树，整个过程与前面的一样，如下所示：<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/8bFj362H6D.png?imageslim" alt="mark"></p>
<p>不过这个变量中有一个不明（也就是说除了Yes或No外，还有一个其他的结果，就是三个问号<code>???</code>，这个我们后面会继讲到如何处理），如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180711/J1Ahg3mjmA.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>最终的结果如下所示：：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/bll6L088Fd.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="根节点设置">根节点设置</h2>
<p>前面我们使用了三个不同的变量，即胸痛（chest pain）、 良好血液循环（good blood circulation）和 动脉阻塞状态（blocked artery status）构来构建小的决策树，我们最终的目标就是要找到使用哪个变量做为根节点，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/2ajl6EAec5.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时我们看一下胸痛（chest pain）这个变量对是否患有心脏病的区分效果，虽然能够区分，但是效果并非完美，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/g32j1hKE6g.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>因为那多数患有心脏病的患者最终会落到<code>Yes</code>这个叶子节点上来，大多数没有心脏病的患者会落后右侧<code>No</code>这个节点上来，我们看一下患有心脏病患者的节点情况，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/1mbCE088L6.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>再看一下没有患心脏病的患者情况，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/kle82jF63K.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>我们再看一下良好血液循环（good blood circulation）这个变量对心脏病患者的区分情况，它也不是特别的完美，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/b94GH79h32.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>最终，我们看一下动脉阻塞状态（blocked artery status）这个变量对患者的区分情况，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/2bJBj4gjbK.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>我们发现，这三个不同的变量用于区分患者是否患有心脏病的数目是不同的，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/F6GFJ0fC3B.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h3 id="基尼不纯度gini-impurity">基尼不纯度（Gini impurity）</h3>
<p>从中我们可以发现，没有一个叶子节点能够显示100%的患有心脏病，或者是100%没有患心脏病，因此我们称这些叶子节点不纯（<code>impure</code>），为了找到哪个区分的程度更好，我们计算并比较不纯度（impurity），如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/E0d5gGAB8d.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>计算不纯度（impurity）的方法很多，其中最常用的方法称为基尼（Gini）不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/FIbfjcIl94.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时，我们计算一下胸痛（Chest pain）这个变量构建的决策树的基尼不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/hHfDAlgljH.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>对于某个叶子结点来说，它的基尼不纯度公式如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/jA8g9GB4fc.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时，再计算另外一个叶子结点的基尼不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/98150klJD5.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>由于我们已经计算了这两个叶子节点为的基尼不纯度，那么我们就能计算使用了胸痛（chest pain）这个变量区分患者的总基尼不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/IBbgj3a6ml.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>左侧的叶子节点一共有144个患者，右侧的叶子节点一共有159个患者，计算胸痛这个变量来区分患者的总的基尼不纯度的就是叶子节点不纯度加权平均数（weighted average of the leaf node impurities），如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/7ae5b8Hg9g.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>它的公式是，常规的基尼不纯度乘以某个叶子节点的基尼不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/dClJ85h4ji.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>另外一部分则是如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/jAcckGIkA2.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>总的结果如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/mHBGcmbHBK.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时，计算出剩余两个变量的总基尼不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/JjA9Dmmhm6.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>从中我们可以发现，良好血液循环（good blood circulation）这个变量的总基尼不纯度的值最低，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/J8Bg4H6jfF.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>那么我们就使用它作为根节点，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/EbDcI4dlJf.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>虽然我们采用了良好血液循环（good blood circulation）这个变量作为根节点，但它的叶子节点是“不纯”（impure）的，每个叶子中都含有患心脏病与不患心脏病的患者，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/H369a5chKk.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>例如，在良好血液循环（good blood circulation）的决策树的叶子节点中，有164个患者，其中37个患有心脏病，127个没有心脏病，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/mJ4aEIh31H.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>在右侧的叶子结点中，有133个患者，其中100个患有心脏病，33个不患心脏病，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Egj3EjlLBE.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时，我们需要计算出胸痛（chest pain）和动脉阻塞状态（blocked artery status）这两个变量用于区分左侧164个患者的情况，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/k1b90m5eb2.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时，我们分别计算一下胸痛（chest pain）和动脉阻塞状态（blocked artery status）在良好血液循环（good blood circulation）的决策树的左侧叶子节点下的基尼不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/ai6mKmHkhd.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>由于动脉阻塞状态（blocked artery status）在这个叶子节点的基尼不纯度数值最低，因此，我们使用这个变量来区分这些患者，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/IECa6LDhJI.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时，我们知道了，我们构建的这个决策树，先是使用了良好血液循环（good blood circulation）作为根节点，然后使用了动脉阻塞状态（blocked artery status）作为内部节点，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/F7dBcIcfIe.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>最后，我们使用剩下的变量，即胸痛（chest pain）来区分上一级的内部节点，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/5aBIjh23HC.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>最终我们会发现，胸痛（chest pain）这个变量能够很好地区分最后一个叶子节点中的患者，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/5ecig0HD20.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>我们再看一下胸痛（chest pain）这个变量区分右侧叶子节点的情况，在这个节点中有115名患者，其中不患心脏病的患者是102人，比例为89%，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/m5llb536Ke.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时把上面红圈的那个内部节点用胸痛（chest pain）这个变量进行区分，并计算它的基尼不纯度，结果为0.29，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/AI99c4jddd.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果我们不使用胸痛（chest pain）这个变量来区分这个叶子结点，我们计算一下它的基尼不纯度，就是0.2，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/71GBe7hAe3.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>从中我们可以发现，如果我们使用了胸痛（chest pain）这个变量来区分这个叶子节点，那么它的基尼不纯度就相比没有使用变量之前上升了，因此我们并不需要胸痛这个变量来区分这个叶子节点，只把它当成叶子节点，而不是进一步地区分，当其当成内部节点，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/ALBcl6H6IG.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>因此在决策树的左侧这些节点中，我们已经计算出了最终的结果，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/l3jGFldH6E.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>我们现在转向右侧的决策树，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/dH4lmI768d.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>计算右侧的所有节点跟左侧的一样，流程如下所示：</p>
<p>第一，计算出所有的基尼不纯度；</p>
<p>第二，如果节点自身的基尼不纯度比那些加了变量后进一步区分后的基尼不纯度还要低，那么这个节点就被设置为叶子节点；</p>
<p>第三，如果区分的数据会改善最终的分类结果，那么就选择最低不纯度来进行区分，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/gE778hghd9.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>最终，我们会生成一个完整的决策树，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/k89b1Ljjmd.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="连续型变量构建决策树">连续型变量构建决策树</h2>
<p>前面我们讲的都是二分类变量（yes或no）构建决策树的过程，如果我们的变量是连续型的，例如患者的体重，如何构建决策树呢，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/5Cl7je9J3l.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>下面就讲这种变量构建决策树的流程：</p>
<p>第一步：对体重进行排序，顺序从小到大，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Fj3b6GAbiL.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>第二步：计算所有相邻患者的加权平均数，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Lj4C3GjC8H.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>第三步：计算每个加权平均数的不纯度值，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/DAB81C4aLk.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>现在看一下计算流程，先看第一个167.5这个平均数的基尼不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/J9eLHe5eDL.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>计算出的结果为0，再计算一下右侧的基尼不纯度，为0.375，那么计算一下总的基尼不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/KkD15mgE9i.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>现在计算出所有的变量的基尼不纯度，我们发现205这个体重的基尼不纯度为0.27，它的值最低，因此我们会选择205作为阈值，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/agfH1Jh4C8.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="含有排序数据的决策树构建">含有排序数据的决策树构建</h2>
<p>我们前面讲了含有二分类变量（yes或no）与连续型变量（体重）数据的决策树构建，现在我们再谈一种含有“排序数据”（ranked data）的决策树构建，排序数据就是像这样的数据，例如“把我的笑话按照搞笑程度从1到4排列”。</p>
<p>此外，我们还会涉及一种多个选择数据（multiple choice data）的决策树的构建，多个选择数据就像这样的数据，“你喜欢什么颜色，红色，绿色，还是蓝色？”如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/9FL41aeIf5.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>排序数据类似于连续型变量的数据（例如体重），只不过我们计算的是这些可能排序的不纯度，例如，把我的笑话按照搞笑程度进行排序，其中4是最搞笑，1不太搞笑，现在我们计算这些笑话的不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/4hFFigjGGd.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>在计算这几个数据的不纯度时，我们并不计算<code>Joke Rank &lt;=4</code>这种情况，因此它基本上包括了所有的情况，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/9JGdI6k8Ik.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>现在我们看一下含有多个选择的数据，例如你喜欢什么颜色，颜色可以选择蓝色，绿色或红色，此时我们会计算每个组合的不纯度，在这个案例中，我们只有这三个种颜色，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/jbeLAb4gI0.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>它的计算过程如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Cgc93lKJ1E.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>在这个案例中，我们并不过计算“蓝色或绿色或红色”这种情况，因此这种情况包含了所有的情况，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/m85HFEiLjA.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="决策树的过拟合">决策树的过拟合</h2>
<p>在前面的案例中，我们使用了一组数据来构建决策树，这组数据中有三个变量，分别为胸痛（chest pain）<code>、</code>良好血液循环（good blood circulation）和动脉阻塞状态（blocked artery status），如下图左图所示，下图右图是构建好的决策树，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Kam8FC19F5.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>当我们构建了决策树后，我们就可以寻问患者第一个问题了，你的血液循环是否良好，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/hdheleGHF7.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>接着，询问是否出现了动脉阻塞，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/82fh4DFBC1.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>然后再询问，是否胸痛，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/iJaEl8L91b.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果都回答是，那么这个患者就有很大的可能性患了心脏病，因为17个类似的回答的患者都患有心脏病，仅有3个类似回答的患者没有患心脏病，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/89GHJB6c1F.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果在是否出现胸痛这个问题时，回答是否，那么这个患者就不太可能患有心脏病，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/CE54jbJ7gF.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>我们再往后退一层，如果一个患者回答说他的血液循环良好，并且没有出现动脉阻塞，此时我们就不需要再问他是否出现胸痛了，因为在这一层中计算所得的不纯度更低，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/93A92LchaK.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>换句话讲，当我们在这个节点中使用了胸痛这个变量进行区分后，它的不纯度得分为0.29，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/CciebF5a60.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果不用胸痛这个变量进行区分，它的不纯度得分只有0.20，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Li1D21CGhk.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>由于我们不用胸痛这个变量进行区分时，它的不纯度得分更低，因此它就是一个叶子节点（也就是说不要进行进一步的区分），如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/bkF0GBIG9C.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此时，我们试想一下，如果胸痛这个变量从来就不能给出一个更低的不纯度，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/H0i8bf2ggF.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>在这种情况下，我们就不要用胸痛这个变量来区分患者了，我们就要把这个变量从决策树中除去，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/5JBGCcB1eF.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>即使我们有胸痛这个变量，也不要添加到决策树上，此时决策树上只剩了血液循环和动脉阻塞这两个变量，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/bDem4Jchkg.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>这就是一种自动特征选择，但是，我们还是需要设定一个阈值，从而使不纯度降低到足以能够产生很强区分的程度，最终我们会构建出一个更加简洁的决策树，并且这个决策树不出现“过拟合”，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/7aeB2FiBK8.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>这个提到了一个术语，“过拟合”（over fit），过拟合指的是我们构建的决策树与原始数据（就是构建决策树的数据）匹配得很好，但是这个决策树却与其他的数据（我们拿到一个新的数据，放到这个决策树中）无法很好的匹配，决策树如果构建不好，很容易出现的毛病就是“过拟合”，如果要解决这个问题，就需要大幅度地降低决策树的不纯度，从而避免决策树过拟合，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/F0K760Fla1.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>因此，简单来说，这就是特征选择要做的内容，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/1ckiD28c0H.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<h2 id="缺失值的处理">缺失值的处理</h2>
<p>在前面的案例中，我们看到了动脉阻塞这个变量中有个缺失值，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/1052m9m1B1.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>这个缺失值是在第4行，也就是第4个患者中，当我们统计到第4个患者时，就会遇到，此时我们就会跳过这个患者，因为我们不知道这个缺失值原来是Yes，还是No，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/lkkLBmhhbd.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>但是，并非只有一种跳过这种处理方式，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/JKBg0a1lgj.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>我们可以在这个变量中，找到哪个变量（yes或no）出现的频率最高，就选它即可，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/Fd53Ja74F4.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>如果在动脉阻塞这个变量中，yes出现的频率更高，那么我们就把这个缺失值当作yes，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/HBIKe8gadE.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此外，我们还可以找到另外一列（例如第1列的胸痛）与这一列（动脉阻塞）关系，这种关系可以为我们提供指导，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/dK8g4dKcd3.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>在这个案例中，我们发现，胸痛与动脉阻塞通常是相似的，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/388LH5Kccj.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>例如，第1行，两个变量都是No，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/7FF1d70BFF.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>第2行，两个变量都是Yes，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/kfajH4hl78.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>第3行，两个变量都是No，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/miEeibaB7K.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>因此，我们就可以在这个缺失值上填上Yes，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/E0BjgHK2B8.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>我们再考虑一种情况，假如我们此时没有动脉阻塞这个变量，这一处的变量用体重进行了替换，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/929CefImKa.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>我们此时，可以使用体重这个变量的均值或中位数来替换这个缺失值，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/1i0kahI5IK.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>此外，我们还可以找到第1列（身高）与第3列（体重）之间的关系，用于确定体重的缺失值，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/256dAmgi44.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>在这个案例中，我们发现身高与体重高度相关，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/782H1dim1i.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>由于它们都是连续型变量，因此我们可以做一下线性回归，求出这个值，如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/8GIm0Akk2b.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>
<p>最终的结果如下所示：</p>
<div class="figure">
<img src="http://ortxpw68f.bkt.clouddn.com/professional/180703/k6clG9i71m.png?imageslim" alt="mark">
<p class="caption">mark</p>
</div>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/统计学/" <i class="fa fa-tag"></i> 统计学</a>
          
            <a href="/tags/统计基础/" <i class="fa fa-tag"></i> 统计基础</a>
          
            <a href="/tags/决策树/" <i class="fa fa-tag"></i> 决策树</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/06/30/BioStatistics/生物统计-StatQuest学习笔记18-K邻近算法/" rel="next" title="StatQuest学习笔记18——K邻近算法">
                <i class="fa fa-chevron-left"></i> StatQuest学习笔记18——K邻近算法
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/07/02/BioStatistics/生物统计-StatQuest学习笔记20-随机森林/" rel="prev" title="StatQuest学习笔记20——随机森林">
                StatQuest学习笔记20——随机森林 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="vcomments"></div>
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">RVDSD</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">138</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">61</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#前言"><span class="nav-number">1.</span> <span class="nav-text">前言</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#决策树简单案例1"><span class="nav-number">2.</span> <span class="nav-text">决策树简单案例1</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#决策树简单案例2"><span class="nav-number">3.</span> <span class="nav-text">决策树简单案例2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#复杂案例"><span class="nav-number">4.</span> <span class="nav-text">复杂案例</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#决策树术语"><span class="nav-number">5.</span> <span class="nav-text">决策树术语</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#构建决策树"><span class="nav-number">6.</span> <span class="nav-text">构建决策树</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#单一变量1构建决策树"><span class="nav-number">6.1.</span> <span class="nav-text">单一变量1构建决策树</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#单一变量2构建决策树"><span class="nav-number">6.2.</span> <span class="nav-text">单一变量2构建决策树</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#单一变量3构建决策树"><span class="nav-number">6.3.</span> <span class="nav-text">单一变量3构建决策树</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#根节点设置"><span class="nav-number">7.</span> <span class="nav-text">根节点设置</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基尼不纯度gini-impurity"><span class="nav-number">7.1.</span> <span class="nav-text">基尼不纯度（Gini impurity）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#连续型变量构建决策树"><span class="nav-number">8.</span> <span class="nav-text">连续型变量构建决策树</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#含有排序数据的决策树构建"><span class="nav-number">9.</span> <span class="nav-text">含有排序数据的决策树构建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#决策树的过拟合"><span class="nav-number">10.</span> <span class="nav-text">决策树的过拟合</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#缺失值的处理"><span class="nav-number">11.</span> <span class="nav-text">缺失值的处理</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">RVDSD</span>

  
</div>



<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_uv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共522.7k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  










  
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine@1.1.4/dist/Valine.min.js"></script>
  <script type="text/javascript">
    new Valine({
        av: AV,
        el: '#vcomments' ,
        verify: true,
        notify: true,
        app_id: '4ORLDMxXCFDLSHPJ4wSSDkkw-gzGzoHsz',
        app_key: 'HSWpCY7XlN0pGV5DCrKoC0ic',
        placeholder: 'Comment input placeholder'
    });
  </script>



  





  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
