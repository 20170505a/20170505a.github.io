<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="数据的导入 在R语言中，常常用到导入数据的源文件是Excel文件，CSV文件，文本文件等等。 R中有关数据读入的函数包括：read.csv()，read.delim()，read.delim2()，read.table()，data.table::fread()（双冒号表示的是data.table包中的fread()函数）。  read.csv()——导入csv文件 此方法可以用以导入Ex">
<meta property="og:type" content="article">
<meta property="og:title" content="R语言笔记之数据的导入与导出">
<meta property="og:url" content="http://rvdsd.top/2017/04/10/R/数据的导入与导出/index.html">
<meta property="og:site_name" content="RVDSD的个人笔记本">
<meta property="og:description" content="数据的导入 在R语言中，常常用到导入数据的源文件是Excel文件，CSV文件，文本文件等等。 R中有关数据读入的函数包括：read.csv()，read.delim()，read.delim2()，read.table()，data.table::fread()（双冒号表示的是data.table包中的fread()函数）。  read.csv()——导入csv文件 此方法可以用以导入Ex">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2019-09-13T07:32:13.508Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="R语言笔记之数据的导入与导出">
<meta name="twitter:description" content="数据的导入 在R语言中，常常用到导入数据的源文件是Excel文件，CSV文件，文本文件等等。 R中有关数据读入的函数包括：read.csv()，read.delim()，read.delim2()，read.table()，data.table::fread()（双冒号表示的是data.table包中的fread()函数）。  read.csv()——导入csv文件 此方法可以用以导入Ex">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.3',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://rvdsd.top/2017/04/10/R/数据的导入与导出/"/>





  <title>R语言笔记之数据的导入与导出 | RVDSD的个人笔记本</title><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">RVDSD的个人笔记本</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-tags" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://rvdsd.top/2017/04/10/R/数据的导入与导出/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="RVDSD">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="RVDSD的个人笔记本">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">R语言笔记之数据的导入与导出</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-04-10T12:00:00+08:00">
                2017-04-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/R/" itemprop="url" rel="index">
                    <span itemprop="name">R</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                  <span class="post-meta-divider">|</span>
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">字数统计&#58;</span>
                
                <span title="字数统计">
                  3,736
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">阅读时长 &asymp;</span>
                
                <span title="阅读时长">
                  16
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="数据的导入">数据的导入</h2>
<p>在R语言中，常常用到导入数据的源文件是Excel文件，CSV文件，文本文件等等。</p>
<p>R中有关数据读入的函数包括：<code>read.csv()</code>，<code>read.delim()</code>，<code>read.delim2()</code>，<code>read.table()</code>，<code>data.table::fread()</code>（双冒号表示的是<code>data.table</code>包中的<code>fread()</code>函数）。</p>
<h2 id="read.csv导入csv文件"> <code>read.csv()</code>——导入csv文件</h2>
<p>此方法可以用以导入Excel数据，将Excel数据转化为csv格式。 CSV是（逗号分隔值）的英文缩写，通常都是纯文本文件。</p>
<p>其导入R中的数据格式为：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">mydataframe&lt;-read.table(file,header=logical_value,ep=<span class="string">"delimiter"</span>,row.names=<span class="string">"name"</span>)</div><div class="line">file:csv文件</div><div class="line">header:逻辑值，首先是否包括变量名</div><div class="line">sep:分隔符</div><div class="line">row.names:指定一个或多个表示行标识符的变量</div><div class="line">grades&lt;-read.table(<span class="string">"studentgrades.csv"</span>,header=<span class="literal">TRUE</span>,sep=<span class="string">","</span>,row.names=<span class="string">"STUDENTID"</span>)</div></pre></td></tr></table></figure>
<p>表示从当前目录中读取一个名为studentgrades.csv的逗号分隔文件，从文件的第一行取得变量名字，将STUDENTID指定为行标识符，整个结果保存到grades的数据框中。</p>
<h3 id="read.csv"><code>read.csv()</code></h3>
<p>另外一个导入csv文件的函数是<code>read.csv()</code>。</p>
<h3 id="read.delim和read.delim2"><code>read.delim</code>和<code>read.delim2</code></h3>
<p>这两个函数可以分别使用<strong>句号</strong>和<strong>逗号</strong>作为小数位来导入制表符分隔的文件。</p>
<h2 id="导入剪切板中的数据"> 导入剪切板中的数据</h2>
<p>通常情况下就是在Excel中复制，接着输入以下命令就可以导入数据。</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">data &lt;- read.table(<span class="string">"clipboard"</span>, header = <span class="literal">T</span>, sep=<span class="string">"\t"</span>)</div></pre></td></tr></table></figure>
<h2 id="导入文本文件"> 导入文本文件</h2>
<p>一般采用<code>read.table()</code>函数和<code>read.csv()</code>函数实现文本文件数据的读取，对于这两个函数有几个重要的参数：</p>
<ol style="list-style-type: decimal">
<li><code>file</code>指定外部文件的路径和文件名；</li>
<li><code>header</code>指定是否将原数据的第一行最为字段名，<code>read.table()</code>函数默认设置为FALSE，而read.csv()函数默认设置为TRUE；</li>
<li><code>sep</code>指定字段之间的分割符，read.table()函数默认设置为空格“”，而read.csv()函数默认设置为逗号；</li>
<li>除此，<code>read.table()</code>函数还可以设置读入数据集的行名、列名、字符串是否转换为因子、缺失值的形式等，详细可查看<code>read.table()</code>函数的帮助文档。</li>
</ol>
<h2 id="从scan导入数据"> 从scan导入数据</h2>
<p>主要用于键盘输入数据，详细使用方法：</p>
<h3 id="scan函数"> scan() 函数</h3>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">scan(file = <span class="string">""</span>, what = double(<span class="number">0</span>), nmax = -<span class="number">1</span>, n = -<span class="number">1</span>, sep = <span class="string">""</span>,</div><div class="line">     quote = <span class="keyword">if</span>(identical(sep, <span class="string">"\n"</span>)) <span class="string">""</span> <span class="keyword">else</span> <span class="string">"'\""</span>, dec = <span class="string">"."</span>,</div><div class="line">     skip = <span class="number">0</span>, nlines = <span class="number">0</span>, na.strings = <span class="string">"NA"</span>,</div><div class="line">     flush = <span class="literal">FALSE</span>, fill = <span class="literal">FALSE</span>, strip.white = <span class="literal">FALSE</span>,</div><div class="line">     quiet = <span class="literal">FALSE</span>, blank.lines.skip = <span class="literal">TRUE</span>, multi.line = <span class="literal">TRUE</span>,</div><div class="line">     comment.char = <span class="string">""</span>, allowEscapes = <span class="literal">FALSE</span>, encoding = <span class="string">"unknown"</span>)</div></pre></td></tr></table></figure>
<p><strong>参数使用如下所示：</strong> 1. what:声明读入为字符类型数据，可能指定读入的精度/类型，例如：what=integer(0)；what=numeric(0)；what=character(0)； 如果SCAN()读入有字符与数字，用what=“”来进行声明，则会把读入的数字隐式的都转变成字符； 2. sep：指定各个读入的数据之间的分隔符；默认情况下分隔符：空格、tab；如果不是其它分隔符，例如“：/”通过SEP来指定； 3. 可以通过list指定读入变量的变量名，同时生成的对象为列表，则可以同时读入字符与数字； 4. Skip 从第几行开始读入数据； 5. Nlines 指定最大读入行数； 6. 如果通过键盘输入的时候，不希望出现下标提示，则可以使用：quiet=TRUE； 7. encoding =””指定的编码格式，有时候读入的中文可能会出现乱码的时候，可能通过这个参数来指定：Latin-1 或者 UTF-8</p>
<h2 id="使用表格输入数据"> 使用表格输入数据</h2>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">mydata&lt;-data.frame(age=numeric(<span class="number">0</span>),</div><div class="line">                   gender=character(<span class="number">0</span>),</div><div class="line">                   weight=numeric(<span class="number">0</span>))</div><div class="line">mydata&lt;-edit(mydata)</div></pre></td></tr></table></figure>
<p>创建一个名为mydata的数据框，含三个变量，age为数据型，gender为字符型，weight为数值型。edit调用文本编辑器，键入数据。其中numeric(0)创建一个指定模型但不含实际数据的变量。如果再次调用mydata&lt;-edit(mydata)能够用来修改数据，或者使用fix(mydata)也行。</p>
<h2 id="使用readxl包来读取excel文件">使用<code>readxl</code>包来读取excel文件</h2>
<p><code>readxl</code>包中的几个函数可以读取excel文件，主要有<code>read_excel</code>，<code>read_xls</code>，<code>read_xlsx</code>。其中各个函数的参数如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">read_excel(path, sheet = <span class="literal">NULL</span>, range = <span class="literal">NULL</span>, col_names = <span class="literal">TRUE</span>,</div><div class="line">  col_types = <span class="literal">NULL</span>, na = <span class="string">""</span>, trim_ws = <span class="literal">TRUE</span>, skip = <span class="number">0</span>,</div><div class="line">  n_max = <span class="literal">Inf</span>, guess_max = min(<span class="number">1000</span>, n_max),</div><div class="line">  progress = readxl_progress(), .name_repair = <span class="string">"unique"</span>)</div><div class="line"></div><div class="line">read_xls(path, sheet = <span class="literal">NULL</span>, range = <span class="literal">NULL</span>, col_names = <span class="literal">TRUE</span>,</div><div class="line">  col_types = <span class="literal">NULL</span>, na = <span class="string">""</span>, trim_ws = <span class="literal">TRUE</span>, skip = <span class="number">0</span>,</div><div class="line">  n_max = <span class="literal">Inf</span>, guess_max = min(<span class="number">1000</span>, n_max),</div><div class="line">  progress = readxl_progress(), .name_repair = <span class="string">"unique"</span>)</div><div class="line"></div><div class="line">read_xlsx(path, sheet = <span class="literal">NULL</span>, range = <span class="literal">NULL</span>, col_names = <span class="literal">TRUE</span>,</div><div class="line">  col_types = <span class="literal">NULL</span>, na = <span class="string">""</span>, trim_ws = <span class="literal">TRUE</span>, skip = <span class="number">0</span>,</div><div class="line">  n_max = <span class="literal">Inf</span>, guess_max = min(<span class="number">1000</span>, n_max),</div><div class="line">  progress = readxl_progress(), .name_repair = <span class="string">"unique"</span>)</div></pre></td></tr></table></figure>
<p>参数意义如下所示：</p>
<table>
<colgroup>
<col width="17%">
<col width="82%">
</colgroup>
<thead>
<tr class="header">
<th align="right">参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">path</td>
<td>xls/xlsx文件的路径</td>
</tr>
<tr class="even">
<td align="right">sheet</td>
<td>Excel文件中Sheet的参数，可以是一个字符串，也就是sheet的名称，可以是一个整数，它表示sheet的位置。如果不输入这个参数，默认输入第1个sheet的数据。</td>
</tr>
<tr class="odd">
<td align="right">range</td>
<td>sheet中单元格的范围，例如可以输入<code>range=B2:G14</code>。也可以指定某个sheet，例如<code>range=&quot;mtcars!B1:D5&quot;</code>。</td>
</tr>
<tr class="even">
<td align="right">col_names</td>
<td><code>TRUE</code> 使用第一行作为行名， <code>FALSE</code> 使用默认的名字，或者是使用一个字符串或字符串向量来表示第一行的名称。</td>
</tr>
<tr class="odd">
<td align="right">col_types</td>
<td>Either <code>NULL</code> to guess all from the spreadsheet or a character vector containing one entry per column from these options: “skip”, “guess”, “logical”, “numeric”, “date”, “text” or “list”. If exactly one <code>col_type</code> is specified, it will be recycled. The content of a cell in a skipped column is never read and that column will not appear in the data frame output. A list cell loads a column as a list of length 1 vectors, which are typed using the type guessing logic from <code>col_types = NULL</code>, but on a cell-by-cell basis.</td>
</tr>
<tr class="even">
<td align="right">na</td>
<td>Character vector of strings to interpret as missing values. By default, readxl treats blank cells as missing data.</td>
</tr>
<tr class="odd">
<td align="right">trim_ws</td>
<td>Should leading and trailing whitespace be trimmed?</td>
</tr>
<tr class="even">
<td align="right">skip</td>
<td>Minimum number of rows to skip before reading anything, be it column names or data. Leading empty rows are automatically skipped, so this is a lower bound. Ignored if <code>range</code> is given.</td>
</tr>
<tr class="odd">
<td align="right">n_max</td>
<td>Maximum number of data rows to read. Trailing empty rows are automatically skipped, so this is an upper bound on the number of rows in the returned tibble. Ignored if <code>range</code> is given.</td>
</tr>
<tr class="even">
<td align="right">guess_max</td>
<td>Maximum number of data rows to use for guessing column types.</td>
</tr>
<tr class="odd">
<td align="right">progress</td>
<td>Display a progress spinner? By default, the spinner appears only in an interactive session, outside the context of knitting a document, and when the call is likely to run for several seconds or more. See <code>readxl_progress()</code> for more details.</td>
</tr>
<tr class="even">
<td align="right">.name_repair</td>
<td>Handling of column names. By default, readxl ensures column names are not empty and are unique. If the tibble package version is recent enough, there is full support for <code>.name_repair</code> as documented in <code>tibble::tibble()</code>. If an older version of tibble is present, readxl falls back to name repair in the style of tibble v1.4.2.</td>
</tr>
</tbody>
</table>
<p>具体的可以参考<a href="https://readxl.tidyverse.org/reference/read_excel.html" target="_blank" rel="external">readxl资料</a>。</p>
<h2 id="批量读取数据">批量读取数据</h2>
<p>读取N个Excel文件，并将这N个Excel文件进行合并，分为四种情况，代码如下所示，其中read_excel函数所在的包为readxl。</p>
<p>解决方案如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">setwd(<span class="string">'D:\\data file\\data1'</span>) </div><div class="line"><span class="comment"># 设置R的工作空间</span></div><div class="line"><span class="comment">#res &lt;- NULL</span></div><div class="line"></div><div class="line">data1 &lt;- data.frame()</div><div class="line"><span class="comment"># 初始化数据框，用于后面的数据合并</span></div><div class="line"><span class="comment">#通过循环完成数据合并</span></div><div class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span>:<span class="number">4</span>)&#123;</div><div class="line">path &lt;- paste0(getwd(),<span class="string">'\\'</span>,<span class="string">'test'</span>,i,<span class="string">'.xlsx'</span>)   <span class="comment"># 构造数据路径</span></div><div class="line">res &lt;- c(res,path)</div><div class="line">data1 &lt;- rbind(data1,read_excel(path = path))   <span class="comment"># 读取并合并数据</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>对于文件没有规律的情况，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">setwd(<span class="string">'D:\\data file\\data2'</span>)  <span class="comment"># 设置工作空间</span></div><div class="line">filenames &lt;- dir()   <span class="comment"># 读取该工作空间下的所有文件名</span></div><div class="line">data2 &lt;- data.frame()   <span class="comment"># 初始化数据框，用于后面的数据合并</span></div><div class="line"></div><div class="line"><span class="comment">#通过循环完成数据合并</span></div><div class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> filenames)&#123;</div><div class="line"><span class="comment"># 构造数据路径</span></div><div class="line">path &lt;- paste0(getwd(),<span class="string">'\\'</span>,i)</div><div class="line"><span class="comment">#res &lt;- c(res,path)</span></div><div class="line"><span class="comment"># 读取并合并数据</span></div><div class="line">data2 &lt;- rbind(data2,read_excel(path = path))</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>对于文件名没有规律的情况，并且只读取某做后缀的文件，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 加载第三方扩展包，用于编写SQL语句</span></div><div class="line"> <span class="keyword">library</span>(sqldf)</div><div class="line"> <span class="comment"># 设置工作空间</span></div><div class="line"> setwd(<span class="string">'D:\\data file\\data4'</span>)</div><div class="line"> <span class="comment"># 读取该工作空间下的所有文件名</span></div><div class="line"> filenames &lt;- dir()</div><div class="line"> <span class="comment"># 通过正则，获取所有xlsx结尾的文件名</span></div><div class="line"> filenames2 &lt;- grep(<span class="string">'\\.xlsx'</span>, filenames, value = <span class="literal">TRUE</span>)</div><div class="line"> <span class="comment"># 初始化数据框，用于后面的数据合并</span></div><div class="line"> data4 &lt;- data.frame()</div><div class="line"> <span class="comment">#通过循环完成数据合并</span></div><div class="line"> <span class="keyword">for</span> (i <span class="keyword">in</span> filenames2)&#123;</div><div class="line"> <span class="comment"># 构造数据路径</span></div><div class="line"> path &lt;- paste0(getwd(),<span class="string">'\\'</span>,i)</div><div class="line"> <span class="comment">#res &lt;- c(res,path)</span></div><div class="line"> <span class="comment"># 使用read_excel函数读取xlsx文件</span></div><div class="line"> data &lt;- read_excel(path = path)</div><div class="line"> <span class="comment"># 使用sqldf函数编写SQL语句，并把结果合并起来</span></div><div class="line"> data4 &lt;- rbind(data4, sqldf(<span class="string">"select id,name,gender,age from data"</span>))</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<h2 id="导出数据"> 导出数据</h2>
<h3 id="导出的路径"> 导出的路径</h3>
<p>为了避免在导出路径中使用转义字符，可以使用file.path()函数来构建正确的路径，这个函数的工作原理类似于paste()，如下所示： <figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">file.path(<span class="string">"d:"</span>,<span class="string">"download"</span>)</div><div class="line">[<span class="number">1</span>] <span class="string">"d:/download"</span></div></pre></td></tr></table></figure></p>
<blockquote>
<p> file.path(“d:”,“download”) [1] “d:/download”</p>
</blockquote>
<h3 id="导出为txt格式"> 导出为txt格式</h3>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"> a</div><div class="line">[<span class="number">1</span>]  <span class="number">1</span>  <span class="number">2</span>  <span class="number">4</span> <span class="literal">NA</span>  <span class="number">5</span>  <span class="number">4</span></div><div class="line">&gt; b</div><div class="line">[<span class="number">1</span>] <span class="string">"a"</span> <span class="string">"b"</span> <span class="string">"c"</span> <span class="string">"d"</span> <span class="literal">NA</span>  <span class="string">"4"</span></div><div class="line"> c &lt;- data.frame(a,b)</div><div class="line"> c</div><div class="line">   a    b</div><div class="line"><span class="number">1</span>  <span class="number">1</span>    a</div><div class="line"><span class="number">2</span>  <span class="number">2</span>    b</div><div class="line"><span class="number">3</span>  <span class="number">4</span>    c</div><div class="line"><span class="number">4</span> <span class="literal">NA</span>    d</div><div class="line"><span class="number">5</span>  <span class="number">5</span> &lt;<span class="literal">NA</span>&gt;</div><div class="line"><span class="number">6</span>  <span class="number">4</span>    <span class="number">4</span></div><div class="line"> write.table(c,file = <span class="string">"c:\\data.txt"</span>,sep = <span class="string">","</span>,quote = <span class="literal">FALSE</span>, append = <span class="literal">FALSE</span>, na = <span class="string">"NA"</span>)</div></pre></td></tr></table></figure>
<p>c为导出的数据，file为导出的路径，sep = “,”表示用逗号隔开数据，quote = FALSE表示消除字符串的引号标志，append = FALSE打开一个新文件，如果为TRUE则表示将此数据追加到已经存在的文件中，na=”NA”表示用NA来代表na值。</p>
<h2 id="读取错误">读取错误</h2>
<p>R语言读取Excel文件有时会出错，如果要读取某些Excel表格文件，操作如下所示：</p>
<ol style="list-style-type: decimal">
<li>用鼠标选中据，然后Ctrl+C复制；</li>
<li>在Rstudio中输入：read.table(“clipboard”,header=T)-&gt;x1，显示以下结果：</li>
</ol>
<blockquote>
<p>Error in scan(file, what, nmax, sep, dec, quote, skip, nlines, na.strings,  :    line 2 did not have 8 elements</p>
</blockquote>
<p>大概意思是，有两行数据的元素不满足8个（即第No.2不满足8个元素），无法读取，因此需要改变一下代码，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">x &lt;- read.table(<span class="string">"clipboard"</span>,sep=<span class="string">"\t"</span>,header=<span class="literal">T</span>)</div></pre></td></tr></table></figure>
<p> 这样就能正常读取了，因为Excel的文件中，每个单元格就是以制表符将它们分开的，而sep=“”的意思就是，读取数据的时候，以制表符进行分割来读取。</p>
<h2 id="r语言与目录操作">R语言与目录操作</h2>
<h3 id="设置目录file.path">设置目录<code>file.path()</code></h3>
<p>在R中，目录的表达方法与Windows有所不同，在Windows中，如果要表示D盘下的某个目录，就是<code>D:\biotest</code>，用的是<code>\</code>，而在R中，则是<code>/</code>或<code>\\</code>，即<code>D:/biotest</code>或<code>D:\\biotest</code>。为了避免在R中使用转义字符，可以使用<code>file.path()</code>函数来构建正确的路径。这个函数类似于<code>paste()</code>，会将传入的各个参数拼接在一起，与操作系统的设置无关，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt; file.path(<span class="string">"D:"</span>,<span class="string">"biotest"</span>)</div><div class="line">[<span class="number">1</span>] <span class="string">"D:/biotest"</span></div></pre></td></tr></table></figure>
<p>使用<code>file.path()</code>来设置工作目录非常方便，可以逐一指定目录，它会将各个目录连接起来，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; getwd()</div><div class="line">[<span class="number">1</span>] <span class="string">"D:/"</span></div><div class="line">&gt; setwd(file.path(<span class="string">"D:"</span>,<span class="string">"biotest"</span>))</div><div class="line">&gt; getwd()</div><div class="line">[<span class="number">1</span>] <span class="string">"D:/biotest"</span></div></pre></td></tr></table></figure>
<h3 id="操作文件dir或list.files">操作文件<code>dir()</code>或<code>list.files()</code></h3>
<p>有的时候，在R中如果要遍历某个指定目录下的所有文件和文件夹，并对它们进行某种操作，如果要获得指定目录下的文件列表，可以使用<code>list.files()</code>或<code>dir()</code>函数，这两个函数的功能是一样的，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&gt; getwd()</div><div class="line">[<span class="number">1</span>] <span class="string">"D:/biotest"</span></div><div class="line">&gt; list.files()</div><div class="line"> [<span class="number">1</span>] <span class="string">"kegg"</span>                                          </div><div class="line"> [<span class="number">2</span>] <span class="string">"Miniconda2-latest-Linux-x86_64.sh"</span>             </div><div class="line"> [<span class="number">3</span>] <span class="string">"NGS 数据过滤之 Trimmomatic 详细说明 - 简书.pdf"</span></div><div class="line"> [<span class="number">4</span>] <span class="string">"nohup.out"</span>                                     </div><div class="line"> [<span class="number">5</span>] <span class="string">"paper and manual"</span>                              </div><div class="line"><span class="keyword">...</span> <span class="keyword">...</span>                                      </div><div class="line">&gt; dir()</div><div class="line"> [<span class="number">1</span>] <span class="string">"kegg"</span>                                          </div><div class="line"> [<span class="number">2</span>] <span class="string">"Miniconda2-latest-Linux-x86_64.sh"</span>             </div><div class="line"> [<span class="number">3</span>] <span class="string">"NGS 数据过滤之 Trimmomatic 详细说明 - 简书.pdf"</span></div><div class="line"> [<span class="number">4</span>] <span class="string">"nohup.out"</span>                                     </div><div class="line"> [<span class="number">5</span>] <span class="string">"paper and manual"</span>                              </div><div class="line"><span class="keyword">...</span> <span class="keyword">...</span></div></pre></td></tr></table></figure>
<p>也可以查看某个特定文件夹的内容：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; dir(file.path(<span class="string">"D:"</span>,<span class="string">"biotest"</span>,<span class="string">"kegg"</span>))</div><div class="line"> [<span class="number">1</span>] <span class="string">"eco00640.eco.kegg.png"</span>                       </div><div class="line"> [<span class="number">2</span>] <span class="string">"eco00640.png"</span>                                </div><div class="line"> [<span class="number">3</span>] <span class="string">"eco00640.xml"</span>                                </div><div class="line"> [<span class="number">4</span>] <span class="string">"hsa00640.gene.ensprot.cpd.cas.png"</span>           </div><div class="line"> [<span class="number">5</span>] <span class="string">"hsa00640.gene.entrez.cpd.kc.png"</span>      </div><div class="line"><span class="keyword">...</span> <span class="keyword">...</span></div></pre></td></tr></table></figure>
<h3 id="返回文件目录dirname与文件名basename">返回文件目录<code>dirname</code>与文件名<code>basename</code></h3>
<p><code>dirname</code>函数只返回文件目录，不返回文件名，而<code>basename</code>函数与之相反，只返回文件名，不返回言论的目录，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; file_name &lt;- <span class="string">"C:/Program Files/R/R-devel/bin/x64/RGui.exe"</span></div><div class="line">&gt; file_name</div><div class="line">[<span class="number">1</span>] <span class="string">"C:/Program Files/R/R-devel/bin/x64/RGui.exe"</span></div><div class="line">&gt; basename(file_name)</div><div class="line">[<span class="number">1</span>] <span class="string">"RGui.exe"</span></div><div class="line">&gt; dirname(file_name)</div><div class="line">[<span class="number">1</span>] <span class="string">"C:/Program Files/R/R-devel/bin/x64"</span></div></pre></td></tr></table></figure>
<h3 id="文件操作函数汇总">文件操作函数汇总</h3>
<p>常用的几个操作文件以及目录的函数，如下所示：</p>
<table>
<colgroup>
<col width="19%">
<col width="80%">
</colgroup>
<thead>
<tr class="header">
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>list.files</code></td>
<td>列出某个目录下的所有文件</td>
</tr>
<tr class="even">
<td><code>list.dirs</code></td>
<td>列出某个目录下的所有子目录</td>
</tr>
<tr class="odd">
<td><code>file.exists</code></td>
<td>检查某个特定的文件是否存在于某个目录下</td>
</tr>
<tr class="even">
<td><code>file.create</code></td>
<td>创建一个空文件</td>
</tr>
<tr class="odd">
<td><code>file.rename</code></td>
<td>重命名文件</td>
</tr>
<tr class="even">
<td><code>file.copy</code></td>
<td>复制文件</td>
</tr>
<tr class="odd">
<td><code>file.remove</code></td>
<td>删除文件</td>
</tr>
<tr class="even">
<td><code>unlink</code></td>
<td>删除目录，例如<code>unlink(&quot;tmp&quot;, recursive=F)</code> #如果文件夹tmp为空，删除文件夹tmp；<code>unlink(&quot;tmp&quot;, recursive=TRUE)</code>#删除文件夹tmp，如果其中有文件一并删除</td>
</tr>
<tr class="odd">
<td><code>file_test()</code></td>
<td>判断一个对象是目录还是文件，<code>-f</code>为判断文件，<code>-d</code>是判断目录，语法格式为：<code>file_test(&quot;-f&quot;, &quot;test&quot;)</code>。</td>
</tr>
<tr class="even">
<td><code>tempfile</code></td>
<td>返回一个临时文件的名称，例如想要在临时文件夹中创建一个文件，就可以将这个函数的返回值传入<code>file.create()</code>或<code>write.table()</code>函数中</td>
</tr>
<tr class="odd">
<td><code>tempdir</code></td>
<td>返回文件系统中临时文件目录的路径。</td>
</tr>
<tr class="even">
<td><code>dir.create</code></td>
<td>创建一个文件夹或目录，如果要创建多个目录<code>recursive = TRUE</code></td>
</tr>
<tr class="odd">
<td><code>getwd()</code></td>
<td>获取当前目录</td>
</tr>
<tr class="even">
<td><code>setwd()</code></td>
<td>设置工作目录</td>
</tr>
<tr class="odd">
<td><code>choose.dir()</code></td>
<td>以窗口的形式设置工作目录</td>
</tr>
<tr class="even">
<td><code>dir()</code></td>
<td>查看当前目录的子目录和文件，功能与<code>list.files()</code>相同</td>
</tr>
</tbody>
</table>
<h3 id="文件操作案例">文件操作案例</h3>
<p>现在创建一个临时文件，并将<code>iris</code>数据框传入其中，然后为了测试数据是否已经写入，再读取这个文件，并将结果保存到一个变量中，然后检查这个变量，最后将这个临时文件删除。</p>
<p>第一步，使用<code>tempfile()</code>函数得到一个字符串，它表示系统临时目录中的一个临时文件，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">my.file &lt;- tempfile()</div><div class="line">my.file</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&gt; my.file &lt;- tempfile()</div><div class="line">&gt; my.file</div><div class="line">[<span class="number">1</span>] <span class="string">"C:\\Users\\Public\\Documents\\Wondershare\\CreatorTemp\\RtmpCWS6Kb\\file26fc52842c9e"</span></div></pre></td></tr></table></figure>
<p>结果返回的是一个字符串，而不是文件，其实文件并不存在，现在通过<code>write.csv</code>将<code>iris</code>写入到<code>my.file</code>，然后使用<code>list.files()</code>来查看R创建的文件，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">write.csv(iris,file=my.file)</div><div class="line">list.files(tempdir())</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&gt; write.csv(iris,file=my.file)</div><div class="line">&gt; list.files(tempdir())</div><div class="line">[<span class="number">1</span>] <span class="string">"file26fc25291904"</span>                                </div><div class="line">[<span class="number">2</span>] <span class="string">"file26fc52842c9e"</span>                                </div><div class="line">[<span class="number">3</span>] <span class="string">"libloc_185_b6156d26.rds"</span>                         </div><div class="line">[<span class="number">4</span>] <span class="string">"libloc_196_12ea9df4.rds"</span>                         </div><div class="line">[<span class="number">5</span>] <span class="string">"rs-graphics-c18658be-c44b-4ca8-b450-15a567601981"</span></div></pre></td></tr></table></figure>
<p>其中，<code>file26fc52842c9e</code>是临时文件，使用<code>read.csv</code>将文件导入到一个名为<code>file.iris</code>的变量中，并使用<code>str()</code>查看，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">file.iris &lt;- read.csv(my.file)</div><div class="line">str(file.iris)</div></pre></td></tr></table></figure>
<p>运行结果如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">&gt; file.iris &lt;- read.csv(my.file)</div><div class="line">&gt; str(file.iris)</div><div class="line"><span class="string">'data.frame'</span>:	<span class="number">150</span> obs. of  <span class="number">6</span> variables:</div><div class="line"> $ X           : int  <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span> <span class="number">10</span> <span class="keyword">...</span></div><div class="line"> $ Sepal.Length: num  <span class="number">5.1</span> <span class="number">4.9</span> <span class="number">4.7</span> <span class="number">4.6</span> <span class="number">5</span> <span class="number">5.4</span> <span class="number">4.6</span> <span class="number">5</span> <span class="number">4.4</span> <span class="number">4.9</span> <span class="keyword">...</span></div><div class="line"> $ Sepal.Width : num  <span class="number">3.5</span> <span class="number">3</span> <span class="number">3.2</span> <span class="number">3.1</span> <span class="number">3.6</span> <span class="number">3.9</span> <span class="number">3.4</span> <span class="number">3.4</span> <span class="number">2.9</span> <span class="number">3.1</span> <span class="keyword">...</span></div><div class="line"> $ Petal.Length: num  <span class="number">1.4</span> <span class="number">1.4</span> <span class="number">1.3</span> <span class="number">1.5</span> <span class="number">1.4</span> <span class="number">1.7</span> <span class="number">1.4</span> <span class="number">1.5</span> <span class="number">1.4</span> <span class="number">1.5</span> <span class="keyword">...</span></div><div class="line"> $ Petal.Width : num  <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.4</span> <span class="number">0.3</span> <span class="number">0.2</span> <span class="number">0.2</span> <span class="number">0.1</span> <span class="keyword">...</span></div><div class="line"> $ Species     : Factor w/ <span class="number">3</span> levels <span class="string">"setosa"</span>,<span class="string">"versicolor"</span>,..: <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="keyword">...</span></div></pre></td></tr></table></figure>
<p>最后为了恢复文件系统原来的状态，使用<code>file.remove()</code>删除这个临时文件，如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">file.remove(my.file)</div><div class="line">list.files(tempdir())</div></pre></td></tr></table></figure>
<p>结果如下所示：</p>
<figure class="highlight r"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&gt; list.files(tempdir())</div><div class="line">[<span class="number">1</span>] <span class="string">"file26fc25291904"</span>                                </div><div class="line">[<span class="number">2</span>] <span class="string">"libloc_185_b6156d26.rds"</span>                         </div><div class="line">[<span class="number">3</span>] <span class="string">"libloc_196_12ea9df4.rds"</span>                         </div><div class="line">[<span class="number">4</span>] <span class="string">"rs-graphics-c18658be-c44b-4ca8-b450-15a567601981"</span></div></pre></td></tr></table></figure>
<p><code>file26fc52842c9e</code>这个文件已经被删除了。</p>
<h2 id="参考资料">参考资料</h2>
<ol style="list-style-type: decimal">
<li>R语言轻松入门与提高 [法]Andrie de Vries ,[比利时]Joris Mey</li>
<li>学习R.[美] Richard，Cotton 著刘军 译</li>
<li><a href="https://www.jianshu.com/p/19b1f97083d0" target="_blank" rel="external">R语言目录及文件操作</a></li>
<li><a href="https://www.cnblogs.com/cloudtj/articles/6298107.html" target="_blank" rel="external">R语言-文件管理系统操作</a></li>
</ol>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/04/10/R/R语言笔记之循环语句/" rel="next" title="R语言笔记之循环语句">
                <i class="fa fa-chevron-left"></i> R语言笔记之循环语句
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/04/12/ggplot2/ggplot2(1) - 概述/" rel="prev" title="ggplot2(1) - 概述">
                ggplot2(1) - 概述 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="vcomments"></div>
    </div>
  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">RVDSD</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">223</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">109</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          <div class="links-of-author motion-element">
            
          </div>

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#数据的导入"><span class="nav-number">1.</span> <span class="nav-text">数据的导入</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#read.csv导入csv文件"><span class="nav-number">2.</span> <span class="nav-text"> read.csv()——导入csv文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#read.csv"><span class="nav-number">2.1.</span> <span class="nav-text">read.csv()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#read.delim和read.delim2"><span class="nav-number">2.2.</span> <span class="nav-text">read.delim和read.delim2</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#导入剪切板中的数据"><span class="nav-number">3.</span> <span class="nav-text"> 导入剪切板中的数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#导入文本文件"><span class="nav-number">4.</span> <span class="nav-text"> 导入文本文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#从scan导入数据"><span class="nav-number">5.</span> <span class="nav-text"> 从scan导入数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#scan函数"><span class="nav-number">5.1.</span> <span class="nav-text"> scan() 函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用表格输入数据"><span class="nav-number">6.</span> <span class="nav-text"> 使用表格输入数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#使用readxl包来读取excel文件"><span class="nav-number">7.</span> <span class="nav-text">使用readxl包来读取excel文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#批量读取数据"><span class="nav-number">8.</span> <span class="nav-text">批量读取数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#导出数据"><span class="nav-number">9.</span> <span class="nav-text"> 导出数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#导出的路径"><span class="nav-number">9.1.</span> <span class="nav-text"> 导出的路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#导出为txt格式"><span class="nav-number">9.2.</span> <span class="nav-text"> 导出为txt格式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#读取错误"><span class="nav-number">10.</span> <span class="nav-text">读取错误</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#r语言与目录操作"><span class="nav-number">11.</span> <span class="nav-text">R语言与目录操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#设置目录file.path"><span class="nav-number">11.1.</span> <span class="nav-text">设置目录file.path()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#操作文件dir或list.files"><span class="nav-number">11.2.</span> <span class="nav-text">操作文件dir()或list.files()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#返回文件目录dirname与文件名basename"><span class="nav-number">11.3.</span> <span class="nav-text">返回文件目录dirname与文件名basename</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件操作函数汇总"><span class="nav-number">11.4.</span> <span class="nav-text">文件操作函数汇总</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#文件操作案例"><span class="nav-number">11.5.</span> <span class="nav-text">文件操作案例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#参考资料"><span class="nav-number">12.</span> <span class="nav-text">参考资料</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">RVDSD</span>

  
</div>



<div class="powered-by">
<i class="fa fa-user-md"></i><span id="busuanzi_container_site_pv">
  本站访客数:<span id="busuanzi_value_site_uv"></span>
</span>
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>


<div class="BbeiAn-info">
	<a target="_blank" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41018102000118" style="color:#909090;text-decoration:none;padding-left:0px;no-repeat left center" rel="nofollow">豫公网安备 41018102000118</a>	  <!--这里将图标作为了背景，以使得能和后面的文字在同一行-->
</div>

  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.3</div>




<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">博客全站共890.3k字</span>
</div>

        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.3"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>



  


  




	





  





  












  





  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config("");
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="custom_mathjax_source">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
  


  

  

</body>
</html>
